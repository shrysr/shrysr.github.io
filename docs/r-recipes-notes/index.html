<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 3.2.0">
  <meta name="generator" content="Hugo 0.52" />
  <meta name="author" content="Shreyas Ragavan">

  
  
  
  
    
  
  <meta name="description" content="Introduction This project contains notes and recipes in R, especially pertaining to data science. The purpose is to have a handy reference to refresh concepts / syntax via examples and also share the functions that I develop to streamline workflow.

References  Datacamp courses  Quantitative Analyst career track in R Tidyverse courses  Edx : HarvardX: PH125.1x Data Science: R Basics  
Notes 
Rprofile and user files  ?">

  
  <link rel="alternate" hreflang="en-us" href="https://shrysr.github.io/docs/r-recipes-notes/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css" crossorigin="anonymous">
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-117504906-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  
  <link rel="alternate" href="https://shrysr.github.io/index.xml" type="application/rss+xml" title="Shreyas Ragavan">
  <link rel="feed" href="https://shrysr.github.io/index.xml" type="application/rss+xml" title="Shreyas Ragavan">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://shrysr.github.io/docs/r-recipes-notes/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@ShreyasRagavan">
  <meta property="twitter:creator" content="@ShreyasRagavan">
  
  <meta property="og:site_name" content="Shreyas Ragavan">
  <meta property="og:url" content="https://shrysr.github.io/docs/r-recipes-notes/">
  <meta property="og:title" content="R - Notes | Examples | Recipes | Shreyas Ragavan">
  <meta property="og:description" content="Introduction This project contains notes and recipes in R, especially pertaining to data science. The purpose is to have a handy reference to refresh concepts / syntax via examples and also share the functions that I develop to streamline workflow.

References  Datacamp courses  Quantitative Analyst career track in R Tidyverse courses  Edx : HarvardX: PH125.1x Data Science: R Basics  
Notes 
Rprofile and user files  ?"><meta property="og:image" content="https://shrysr.github.io/img/SR-reduced.jpeg">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2018-09-09T00:00:00-06:00">
  
  <meta property="article:modified_time" content="2018-09-09T00:00:00-06:00">
  

  

  

  <title>R - Notes | Examples | Recipes | Shreyas Ragavan</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Shreyas Ragavan</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>Blog</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#tags">
            
            <span>Tag Cloud</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/index.xml">
            
            <span>RSS</span>
            
          </a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>



<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <input name="q" type="search" class="form-control" id="search-query" placeholder="Search..." autocomplete="off">
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/docs/course-edx-r-fundamentals/">Example Topic</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/docs/course-edx-r-fundamentals/">Example Page</a>
      </li>
      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/docs/r-recipes-notes/">R</a>
    <ul class="nav docs-sidenav">
      
      <li class="active">
        <a href="/docs/r-recipes-notes/">Notes &amp; Examples</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

    </div>

    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      
      <p class="docs-toc-title">On this page</p>
      

      <nav id="TableOfContents">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#references">References</a></li>
<li><a href="#notes">Notes</a>
<ul>
<li><a href="#rprofile-and-user-files">Rprofile and user files</a></li>
<li><a href="#importing-data-into-r">Importing data into R</a></li>
<li><a href="#indexing-in-r">Indexing in R</a></li>
<li><a href="#workspace">Workspace</a></li>
<li><a href="#matrix">Matrix</a>
<ul>
<li><a href="#defining-a-matrix">Defining a matrix</a></li>
<li><a href="#naming-the-rows-and-the-columns">Naming the rows and the columns</a></li>
<li><a href="#sums-rowsums-and-colsums-adding-rows-rbind-and-columns-cbind">Sums - <code>=rowSums()</code> and <code>colSums()</code>, adding rows - <code>rbind()</code> and columns - <code>cbind()</code></a></li>
<li><a href="#correlation-cor">correlation : <code>cor()</code></a></li>
</ul></li>
<li><a href="#dataframe">Dataframe</a>
<ul>
<li><a href="#todo-dataframe-peek-function-in-r">TODO Dataframe peek function in R</a></li>
</ul></li>
<li><a href="#factors">Factors</a></li>
<li><a href="#lists">Lists</a></li>
<li><a href="#dates">Dates</a></li>
</ul></li>
<li><a href="#using-the-system-date-and-time">Using the system date and time</a></li>
<li><a href="#class-of-defined-date-and-time">Class of defined date and time</a></li>
<li><a href="#reading-alternate-formats-of-dates">Reading alternate formats of dates</a></li>
<li><a href="#extractor-functions">Extractor functions</a></li>
<li><a href="#subtracting-dates">Subtracting dates</a></li>
<li><a href="#setting-the-weekdays-as-names">Setting the weekdays as names()</a></li>
<li><a href="#syntax-example-of-using-not-relational-operators">Syntax example of using Not (relational operators)</a></li>
<li><a href="#checking-where-a-is-not-greater-than-200">checking where a is Not greater than 200</a></li>
<li><a href="#testing-runif">Testing runif()</a>
<ul>
<li><a href="#todo-analysing-distributions">TODO Analysing distributions</a></li>
<li><a href="#glimpse-part-of-dplyr"><code>glimpse()</code> - part of dplyr</a></li>
<li><a href="#summary-statistics">Summary statistics</a></li>
<li><a href="#changing-the-class-of-an-object">Changing the class of an object</a></li>
<li><a href="#relational-operators">Relational operators</a></li>
<li><a href="#conditional-statements">Conditional Statements</a></li>
<li><a href="#finance-related">Finance related</a>
<ul>
<li><a href="#present-value">Present value</a></li>
<li><a href="#bond-credit-ratings-are-a-good-example-of-factors">Bond Credit ratings are a good example of factors.</a></li>
<li><a href="#dates-in-finance-could-be-at-the-rate-of-years-or-in-micro-seconds">Dates in Finance could be at the rate of years or in micro seconds.</a></li>
<li><a href="#there-will-be-a-likely-need-to-convert-multiple-dates-from-the-character-to-string-format">There will be a likely need to convert multiple dates from the character to string format.</a></li>
</ul></li>
<li><a href="#playground">Playground</a></li>
</ul></li>
</ul>
</nav>

      <ul class="nav toc-top">
        <li><a href="#">Back to top</a></li>
      </ul>

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article" itemscope itemtype="http://schema.org/Article">

        <div class="docs-article-container">
          <h1 itemprop="name">R - Notes | Examples | Recipes</h1>

          <div class="article-style" itemprop="articleBody">
            

<p><a id="org59114ad"></a></p>

<h1 id="introduction">Introduction</h1>

<p>This project contains notes and recipes in R, especially pertaining to data science. The purpose is to have a handy reference to refresh concepts / syntax via examples and also share the functions that I develop to streamline workflow.</p>

<p><a id="org0dfa1af"></a></p>

<h1 id="references">References</h1>

<ul>
<li>Datacamp courses

<ul>
<li><a href="https://www.datacamp.com/tracks/quantitative-analyst-with-r" target="_blank">Quantitative Analyst career track in R</a></li>
<li>Tidyverse courses</li>
</ul></li>
<li><a href="https://courses.edx.org/courses/course-v1:HarvardX+PH125.1x+3T2017/course/" target="_blank">Edx :  HarvardX: PH125.1x Data Science: R Basics</a></li>
</ul>

<p><a id="org27361d4"></a></p>

<h1 id="notes">Notes</h1>

<p><a id="orgf25e803"></a></p>

<h2 id="rprofile-and-user-files">Rprofile and user files</h2>

<ul>
<li><code>?Startup</code> in the R interpreter for information on how the R environment is started up.</li>
<li>Note that the Rprofile.site and other user files are not setup by default. These have to be created by the user.</li>
<li>The default CRAN repo can be set in the <code>Rprofile.site</code> file</li>
</ul>

<p>To find the installation location of R, use the <code>R.home()</code> function with component specified as shown below. <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/Rhome.html" target="_blank">More information</a>.</p>

<pre><code>R.home(component='home')
R.home(component='etc')
</code></pre>

<p><a id="orga9ba3f6"></a></p>

<h2 id="importing-data-into-r">Importing data into R</h2>

<p>packages : readr, haven,</p>

<p><a id="org2187937"></a></p>

<h2 id="indexing-in-r">Indexing in R</h2>

<p>Indexing in R starts with 1, unlike most other languages.</p>

<p><a id="org6ace875"></a></p>

<h2 id="workspace">Workspace</h2>

<p>The workspace contains all the variables that were used in a particular session.</p>

<p><code>ls()</code> can be used to list the variables in the workspace.</p>

<p><a id="orgf7d9368"></a></p>

<h2 id="matrix">Matrix</h2>

<p><a id="orge4c2151"></a></p>

<h3 id="defining-a-matrix">Defining a matrix</h3>

<p>A matrix is a collection of elements of the same data type (numeric, character, or logical) arranged into a fixed number of rows and columns.</p>

<p>A matrix is called two-dimensional, since there are rows and columns. It is constructed using the <code>matrix()</code> function.</p>

<p>Arguments:</p>

<ul>
<li>Elements of the matrix</li>
<li><code>byrow</code> to have the matrix filled by rows. By default, this is set to false.</li>

<li><p><code>nrow</code> for number of rows</p>

<p>matrix(1:10,byrow = TRUE, nrow = 4)</p></li>
</ul>

<p>Demonstrating the difference of not using <code>byrow</code></p>

<pre><code>matrix(1:10, ncol = 2, nrow = 5)

matrix(1:10, ncol = 2, nrow= 5 , byrow = TRUE)
</code></pre>

<p><a id="org2723272"></a></p>

<h3 id="naming-the-rows-and-the-columns">Naming the rows and the columns</h3>

<p><code>rownames()</code> and <code>colnames()</code> can be used.</p>

<pre><code>#Defining the row data
row_1 &lt;- c(250, 300)
row_2 &lt;- c(55, 350)

# Defining the matrix
my_matrix &lt;- matrix(c(row_1, row_2), byrow = TRUE, nrow = 2)

# Defining row and column names
my_rownames &lt;- c(&quot;test_row1&quot;, &quot;test_row2&quot;)
my_colnames &lt;- c(&quot;test_col1&quot;, &quot;test_col2&quot;)

# Attaching row and column names to the created matrix
rownames(my_matrix) &lt;- my_rownames
colnames(my_matrix) &lt;- my_colnames

my_matrix
</code></pre>

<p><a id="org94a4667"></a></p>

<h3 id="sums-rowsums-and-colsums-adding-rows-rbind-and-columns-cbind">Sums - <code>=rowSums()</code> and <code>colSums()</code>, adding rows - <code>rbind()</code> and columns - <code>cbind()</code></h3>

<pre><code>my_rowsums &lt;-  rowSums(my_matrix)

# Adding a new column of the calculated sums
my_new_matrix &lt;- cbind(my_matrix, my_rowsums)
my_new_matrix

# Adding a new row and calculating the sums again
row_3 &lt;- c(200, 100 )
my_newest_matrix &lt;- rbind(my_matrix, row_3) 
my_new_rowsums &lt;- rowSums(my_newest_matrix)
my_newest_matrix &lt;- cbind(my_newest_matrix, my_new_rowsums)

my_newest_matrix
</code></pre>

<p><a id="orgb1ebdc1"></a></p>

<h3 id="correlation-cor">correlation : <code>cor()</code></h3>

<p>Correlation is a measure of association between different quantities.</p>

<p>+1 : perfectly positive linear relationship
-1 : perfectly negative linear relationship
0  : No linear relationship</p>

<p>A matrix can be passed into <code>cor()</code> to get a correlation matrix. For example, this is most useful with 3 or more stocks.</p>

<pre><code># Defining imaginary stock prices
apple &lt;- c(22.45, 33, 41, 21, 25.67)
micr &lt;- c(12.4, 56.4, 32.4, 21, 24.45) 
huawei  &lt;- c(23.5, 44, 12.25, 39, 56)

# Creating a matrix, calculations and plotting the correlation.
app_micr_cor &lt;- cor(cbind(apple, micr))
app_micr_huaw_cor &lt;- cor(cbind(apple, micr, huawei))
app_micr_huaw_cor
plot(app_micr_huaw_cor)
plot(app_micr_cor)
</code></pre>

<ol>
<li>TODO Find out more information about manual correlation calculations</li>
</ol>

<p><a id="org95a7297"></a></p>

<h2 id="dataframe">Dataframe</h2>

<p>Used to store a table of data. Multiple data types can be stored in a single dataframe. A matrix can store only a single data type.</p>

<ul>
<li>Defined using <code>data.frame()</code></li>
<li><code>colnames()</code> : to rename the columns in a dataframe</li>
<li><code>subset()</code> : to extract a particular subset of a dataframe. Compared to calling a column name, using this is more informative or robust.

<ul>
<li>first argument: name of the dataframe</li>
<li>2nd argument: the condition or the column name within the dataframe</li>
</ul></li>
<li>A column can be deleted by assigning it NULL</li>
<li>There is no need to use a <code>c()</code> to add multiple objects to the dataframe. Directly add the vectors like <code>data.frame(variable 1, variable 2)</code> and so on.</li>
</ul>

<p><a id="org3f152aa"></a></p>

<h3 id="todo-dataframe-peek-function-in-r">TODO Dataframe peek function in R</h3>

<pre><code>head()
tail()
str()
desc()
glimpse()
</code></pre>

<p><a id="orga55585a"></a></p>

<h2 id="factors">Factors</h2>

<ul>
<li><code>factor()</code> can be used to store the unique levels of a vector.

<ul>
<li>The vector to be converted to a factor is passed in as an argument.</li>
</ul></li>
<li><code>levels()</code> can be used to access the unique levels of a factor object.

<ul>
<li>Rename the levels by just passing a vector <code>levels(factor_object)</code></li>
</ul></li>
<li><code>cut()</code> can be used to break up a vector into specified buckets or based on specified intervals.

<ul>
<li>argument &lsquo;breaks&rsquo; to specify the demarcations in which the vector will be cut up.</li>
<li>R treats the left side of the bucket as exclusive and the right side of the bucket as inclusive. This is represented by &lsquo;(&rsquo; and &lsquo;]&rsquo;.</li>
</ul></li>
<li><code>summary()</code> can be used to provide the counts of items under each factor. This is best used on a factor object.</li>

<li><p>Ordering and sub-setting vectors</p>

<ul>
<li><code>ordered()</code> : R has an inbuilt system to order the object alphabetically.</li>
<li>passing the <code>levels</code> argument to <code>factor()</code> along with the argument <code>ordered = T</code>, with levels containing the desired order (written as least to greatest) will enable a custom ordering of factors.</li>
<li><code>drop = T</code> argument to drop a level completely. Subsetting with [-1] only drops the object at the first position, but retains the level.</li>
<li>R&rsquo;s default behavior when creating data frames is to convert all characters into factors</li>
</ul>

<p>ranking &lt;- c(1:20)
head(ranking)
buckets &lt;- c(0, 5, 10, 15, 20)
ranking_grouped &lt;- cut(ranking, breaks = buckets)
head(ranking_grouped)
ranking_grouped</p></li>
</ul>

<p><a id="orga0e7b3a"></a></p>

<h2 id="lists">Lists</h2>

<ul>
<li>Use the <code>list()</code> with the chosen data structures as the arguments. The list can contain multiple types of objects or data types.</li>
<li>Subsetting: using a <code>[]</code> returns a subset of the list and using <code>[[]]</code> returns the data inside the list being referenced.

<ul>
<li>A subset can be used on a dateframe to extract specific data.</li>
<li>Syntax example: <code>subset(dataframe, column1 &gt; condition1 &amp; column2 &lt; condition2)</code></li>
</ul></li>
<li>The elements of the list can be named, by adding the to the arguments while defining the list.</li>
<li>adding names to an existing list can be done using the <code>names(list name)</code> function.</li>
<li>With a named list, the <code>$</code> operator can also be used to access specific list items.</li>
<li>items can be added to the list using <code>c()</code>, which would look like <code>c(list_name, new_item_name = item_name)</code></li>
<li>Removing elements from a list can be done by assigning the item the NULL value.</li>
<li>Other list creating functions

<ul>
<li><code>split()</code> : <code>split(list-name, item-name)</code>. This will create 2 lists separated by the item name specified.</li>
<li><code>unsplit()</code> : to unsplit a list. <code>unsplit(split-list-name, grouping)</code> Similar syntax to the above.</li>
<li>split-apply-combine class of problems. Example is where a particular factor is to be applied for a portion of the data and another factor for the other portion, and after which the 2 portions are recombined. For eg: offering customer A a discount of 10% and customer B a discount of 20% via splitting and them recombining the split parts into a common dataframe.</li>
</ul></li>
<li><code>attributes()</code>: meta data of an object. For example the dim or dimension is an attribute of a matrix, and the names, row.names and class are common attributes of a dataframe.

<ul>
<li>use <code>attr()</code> to access a specific attribute. This takes 2 arguments at least. <code>attr(matrix_name, which = &quot;desired attribute&quot;)</code></li>
</ul></li>
<li></li>
</ul>

<p><a id="orgcef936d"></a></p>

<h2 id="dates">Dates</h2>

<ul>
<li>The ISO 8601 format is the way R accepts and stores dates. This is basically in the yyyy-mm-dd format. Internally stored by R as the number of days since January 1, 1970.</li>
<li>Alternative format year/month/day</li>
<li>Dates are internally stored as numerics with some special characteristics over typical numerics.</li>
<li>Current time from the system : <code>Sys.time()</code></li>
<li>Current date from the system : <code>Sys.Date()</code></li>
<li>Character vectors are most common source of creating dates.</li>
<li>class of dates

<ul>
<li>could be a <code>date</code> class catering to calendar dates.</li>
<li>could also be a POSIX - Portable Operating System Interface class, which is commonly used in the finance world

<ul>
<li>POSIXlt and POSIXct allow holding a date.</li>
<li>POSIXct is a way to represent datetime objects like &ldquo;2015-01-22 08:39:40 EST&rdquo;. This method is important for storing intraday financial data.</li>
</ul></li>
<li>Using the simplest date class is generally the best strategy.</li>
<li>There are other classes of date as well.</li>
</ul></li>
<li><code>as.date()</code> can be used to convert the object to a date class.

<ul>
<li>the <code>format</code> argument can facilitate conversion from different formats to the necessary ISO format.</li>
</ul></li>
<li>Extractor functions

<ul>
<li><code>weekdays()</code> can be used to extract the day of the week from a date object.</li>
<li><code>format()</code> can be used to convert existing date objects to different date formats.</li>
<li><code>months()</code> for extracting the months of the date objects</li>
<li><code>quarters()</code> to extract the quarter in which the date object falls</li>
</ul></li>
<li>Dates can be subtracted, just like numerics.

<ul>
<li>The object must be in the Date format. Direct subtraction provides the difference in days.</li>
<li><code>difftime(date1, date2, units = &quot;secs&quot;)</code> can be used to find the difference in time, with the argument units specifying the output type

<ul>
<li>Argument <code>units</code> should be one of “auto”, “secs”, “mins”, “hours”, “days”, “weeks”</li>
<li>The 2nd argument <code>date2</code>, will be subtracted from the first argument <code>date1</code>.</li>
</ul></li>
</ul></li>

<li><p>Formats of representing alternate date formats</p>

<ul>
<li>Y: 4-digit year (1982)</li>
<li>y: 2-digit year (82)</li>
<li>m: 2-digit month (01)</li>
<li>d: 2-digit day of the month (13)</li>
<li>A: weekday (Wednesday)</li>
<li>a: abbreviated weekday (Wed)</li>
<li>B: month (January)</li>
<li>b: abbreviated month (Jan)</li>
</ul>

<h1 id="using-the-system-date-and-time">Using the system date and time</h1>

<p>todays_date &lt;- Sys.Date()
todays_time &lt;- Sys.time()
todays_date
todays_time</p>

<h1 id="class-of-defined-date-and-time">Class of defined date and time</h1>

<p>class(todays_date)
class(todays_time)</p>

<h1 id="reading-alternate-formats-of-dates">Reading alternate formats of dates</h1>

<p>test_date_alt_format &lt;- &ldquo;23/02/2019&rdquo;
as.Date(test_date_alt_format, format = &ldquo;%d/%m/%Y&rdquo;)</p>

<p>test2_date_alt_format &lt;- &ldquo;Sep 25,2020&rdquo;
as.Date(test2_date_alt_format, format = &ldquo;%B %d,%Y&rdquo;)</p>

<h1 id="extractor-functions">Extractor functions</h1>

<p>weekdays(as.Date(test2_date_alt_format, format = &ldquo;%B %d,%Y&rdquo;))</p>

<h1 id="subtracting-dates">Subtracting dates</h1>

<p>date1 &lt;- as.Date(&ldquo;2030-02-20&rdquo;)
date2 &lt;- as.Date(&ldquo;2040-03-30&rdquo;)
date2 - date1
difftime(date2, date1, units = &lsquo;secs&rsquo;)
difftime(date1, date2, units = &lsquo;mins&rsquo;)</p>

<h1 id="setting-the-weekdays-as-names">Setting the weekdays as names()</h1>

<p>dates3 &lt;- c(date1, date2, as.Date(c(&ldquo;2025-03-23&rdquo;, &ldquo;2015-04-25&rdquo;)))
names(dates3) &lt;- weekdays(dates3)
dates3</p>

<h1 id="syntax-example-of-using-not-relational-operators">Syntax example of using Not (relational operators)</h1>

<p>a &lt;- c(100,140,2,240, 300)</p>

<h1 id="checking-where-a-is-not-greater-than-200">checking where a is Not greater than 200</h1>

<p>!(a &gt; 200)</p>

<h1 id="testing-runif">Testing runif()</h1></li>
</ul>

<p><a id="org3c723da"></a></p>

<h2 id="todo-analysing-distributions">TODO Analysing distributions</h2>

<ul>
<li><code>runif()</code> r-unif, used to generate a random number between specified min, max.</li>
</ul>

<p><a id="orgdd369df"></a></p>

<h2 id="glimpse-part-of-dplyr"><code>glimpse()</code> - part of dplyr</h2>

<p>To view all the columns.</p>

<p><a id="org9db58d3"></a></p>

<h2 id="summary-statistics">Summary statistics</h2>

<ul>
<li>skimr package : also lists missing and unique values</li>
<li>skim(object)</li>
</ul>

<p><a id="orgc859058"></a></p>

<h2 id="changing-the-class-of-an-object">Changing the class of an object</h2>

<p>The class of an object can be changed by simply assigning the desired type of class. The <code>class()</code> is used.</p>

<pre><code># Example changing the clas of a date object to a numeric
dateX &lt;- as.Date(&quot;2030-02-20&quot;)
class(dateX)
class(dateX) &lt;- &quot;Numeric&quot;
class(dateX)
</code></pre>

<ul>
<li>=class(obj) &lt;- &ldquo;Date&rdquo;</li>
</ul>

<p><a id="orgba8c681"></a></p>

<h2 id="relational-operators">Relational operators</h2>

<ul>
<li>TRUE coerces to 1 and FALSE to 0</li>

<li><p>In case of strings and using the greater / lesser than operator, the first letter is considered, in the alphabetical order</p>

<p>T == 1
T == 0
F == 1
F == 0
&ldquo;useR&rdquo; == &ldquo;user&rdquo;
&ldquo;user&rdquo; == &ldquo;User&rdquo;
&ldquo;useR&rdquo; &gt; &ldquo;user&rdquo;
&ldquo;user&rdquo; &gt; &ldquo;User&rdquo;</p></li>
</ul>

<p><a id="orga288f21"></a></p>

<h2 id="conditional-statements">Conditional Statements</h2>

<ul>
<li><code>ifelse()</code>: conditional function in a single line that can work on entire vectors, compared to the typical <code>if()</code> operator.

<ul>
<li><code>ifelse()</code> strips the date of its attribute before returning it and therefore the date often becomes a numeric.
-</li>
</ul></li>
</ul>

<p><a id="orgd15ec97"></a></p>

<h2 id="finance-related">Finance related</h2>

<p><a id="org8704587"></a></p>

<h3 id="present-value">Present value</h3>

<p>General formula : present_value &lt;- cash_flow * (1 + interest / 100) ^ -year</p>

<p><a id="orgb25455b"></a></p>

<h3 id="bond-credit-ratings-are-a-good-example-of-factors">Bond Credit ratings are a good example of factors.</h3>

<ul>
<li>Bond credit ratings are common in the fixed income side of the finance world as a simple measure of how &ldquo;risky&rdquo; a certain bond might be.</li>
<li>riskiness can be defined as the probability of default, which means an inability to pay back your debts.</li>
<li>Example of Standard and Poor&rsquo;s credit rating AAA, AA, A, BBB, BB, B, CCC, CC, C, D. (Left to right: Least risky to most risky)</li>
</ul>

<p><a id="org614fda6"></a></p>

<h3 id="dates-in-finance-could-be-at-the-rate-of-years-or-in-micro-seconds">Dates in Finance could be at the rate of years or in micro seconds.</h3>

<p><a id="orgc5b331d"></a></p>

<h3 id="there-will-be-a-likely-need-to-convert-multiple-dates-from-the-character-to-string-format">There will be a likely need to convert multiple dates from the character to string format.</h3>

<p><a id="orgbf8f732"></a></p>

<h2 id="playground">Playground</h2>

<pre><code>linkedin &lt;- c(16, 9, 13, 5, 2, 17, 14)
last &lt;- tail(linkedin, 3) 
print(last)
head &lt;- head(linkedin, 3)
print(head)

x &lt;- 5
y &lt;- 7
!(!(x &lt; 4) &amp; !!!(y &gt; 12))
</code></pre>

          </div>

          

        </div>

        <div class="body-footer">
          Last updated on Sep 9, 2018
        </div>

      </article>

      <footer class="site-footer">
  

  <p class="powered-by">
    &copy; 2018 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
  </p>
</footer>


    </main>
  </div>
</div>

    

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/R.min.js"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/lisp.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    

    
    
    
    <script id="dsq-count-scr" src="//shreyasragavan.disqus.com/count.js" async></script>
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
    
    <script src="/js/academic.min.d037ee5294b166a79dec317c58aea9cc.js"></script>

    

  </body>
</html>


