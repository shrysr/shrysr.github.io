<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.5.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Shreyas Ragavan">

  
  
  
    
  
  <meta name="description" content="Introduction and preamble This is my literate, Org-mode based configuration for Emacs, which are essentially customisations built on top of the starter-kit Scimax. View a nicely rendered version with easy navigation on my website, or if you prefer: on github.
 Scimax - Awesome editing for scientists and engineers. Scimax is an Emacs starterkit for scientists and engineers. It provides a comprehensive configuration of Emacs for scientific programming and publishing.">

  
  <link rel="alternate" hreflang="en-us" href="https://shreyas.ragavan.co/docs/sr-config/">

  


  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PQ3RWS7');
</script>



  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon-32.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://shreyas.ragavan.co/docs/sr-config/">

  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@ShreyasRagavan">
  <meta property="twitter:creator" content="@ShreyasRagavan">
  
  <meta property="og:site_name" content="Shreyas Ragavan">
  <meta property="og:url" content="https://shreyas.ragavan.co/docs/sr-config/">
  <meta property="og:title" content="My Emacs &#43; Scimax configuration | Shreyas Ragavan">
  <meta property="og:description" content="Introduction and preamble This is my literate, Org-mode based configuration for Emacs, which are essentially customisations built on top of the starter-kit Scimax. View a nicely rendered version with easy navigation on my website, or if you prefer: on github.
 Scimax - Awesome editing for scientists and engineers. Scimax is an Emacs starterkit for scientists and engineers. It provides a comprehensive configuration of Emacs for scientific programming and publishing."><meta property="og:image" content="https://shreyas.ragavan.co/img/icon-192.png">
  <meta property="twitter:image" content="https://shreyas.ragavan.co/img/icon-192.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2019-11-03T07:04:34-07:00">
    
    <meta property="article:modified_time" content="2019-11-03T07:28:15-07:00">
  

  



  


  

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script>
  window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#3f51b5",
          "text": "#fff"
        },
        "button": {
          "background": "#fff",
          "text": "#3f51b5"
        }
      },
      "theme": "classic",
      "content": {
        "message": "This website uses cookies to ensure you get the best experience on our website.",
        "dismiss": "Got it!",
        "link": "Learn more",
        "href": "https://cookies.insites.com"
      }
    })});
</script>



  





  <title>My Emacs &#43; Scimax configuration | Shreyas Ragavan</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Shreyas Ragavan</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#projects"><span>Projects</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/experience/"><span>Experience</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/post/"><span>Blog</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/docs/"><span>Docs</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        

      </ul>

    </div>
  </div>
</nav>


  

<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      





  




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <input name="q" type="search" class="form-control" placeholder="Search..." autocomplete="off">
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  

  
  
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/docs/">Overview</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/docs/quotes/">Quotes</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/docs/docker-notes/">Docker - notes</a>

  </div>
  
  <div class="docs-toc-item active">
    <a class="docs-toc-link" href="/docs/sr-config/">Dotemacs - Emacs config</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/docs/ess-datascience-r/">ESS &amp; Data Science</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/docs/linux-notes/">Linux - notes</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/docs/nosql-mongodb-notes/">NoSQL / mongoDB notes</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/docs/r-notes-snippets/">R - Notes</a>

  </div>
  
  
</nav>

    </div>

    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
      </ul>

      <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#introduction-and-preamble">Introduction and preamble</a>
<ul>
<li><a href="#this-configuration">This configuration</a></li>
<li><a href="#other-literate-emacs-configs">Other literate Emacs configs</a></li>
</ul></li>
<li><a href="#stable-core">Stable Core</a>
<ul>
<li><a href="#os-level-variables">OS Level variables <code>[0/0]</code></a></li>
<li><a href="#browse-kill-ring">Browse kill ring</a></li>
<li><a href="#remove-trailing-whitespace-at-the-end-of-lines">Remove trailing whitespace at the end of lines</a></li>
<li><a href="#remove-at-the-start-of-ivy-commands">Remove &lsquo;^&rsquo; at the start of ivy commands</a></li>
<li><a href="#move-to-the-next-sentence">Move to the next sentence</a></li>
<li><a href="#package-installation">Package installation</a>
<ul>
<li><a href="#package-list">Package list</a></li>
<li><a href="#fetch-and-install-missing-packages">Fetch and install missing packages</a></li>
</ul></li>
<li><a href="#switch-window-configuration">Switch-window configuration</a></li>
<li><a href="#create-intermediate-directories-while-saving-files">Create intermediate directories while saving files</a></li>
<li><a href="#shortcuts-and-registers">Shortcuts and registers</a>
<ul>
<li><a href="#registers">Registers</a></li>
<li><a href="#google-this">Google this</a></li>
<li><a href="#ivy-yasnippet">ivy-yasnippet</a></li>
<li><a href="#mu4e-related">Mu4e related</a></li>
<li><a href="#org-related">Org related</a></li>
<li><a href="#shortcuts-for-punching-in-and-out">Shortcuts for punching in and Out</a></li>
<li><a href="#setting-the-super-and-hyper-key"><span class="org-todo todo TODO">TODO</span> Setting the super and hyper Key</a></li>
<li><a href="#shortcut-for-frog-jump-buffer">Shortcut for frog-jump-Buffer</a></li>
</ul></li>
<li><a href="#yanking-links-in-org-format">yanking links in org format</a></li>
<li><a href="#export-setup">Export setup</a></li>
<li><a href="#markdown-config">Markdown config</a></li>
<li><a href="#slime-and-lisp">SLIME and lisp</a></li>
<li><a href="#expand-region">Expand region</a></li>
<li><a href="#hippie-expand">Hippie Expand</a></li>
<li><a href="#theme-and-visuals">Theme and visuals</a>
<ul>
<li><a href="#emacsclient-or-frame-specific-settings">Emacsclient or frame specific settings</a></li>
<li><a href="#custom-safe-themes-and-background-change-to-light-grey">Custom Safe themes and Background change to light grey</a></li>
<li><a href="#font-customisation-based-on-os">Font Customisation based on OS</a></li>
<li><a href="#spaceline-modeline-configuration"><span class="org-todo todo TEST">TEST</span> Spaceline : modeline configuration</a></li>
<li><a href="#basic-cosmetics-dot-review-and-convert-to-use-package-style"><span class="org-todo todo TODO">TODO</span> Basic cosmetics. Review &amp; Convert to use-package style</a></li>
<li><a href="#striking-out-done-headlines">Striking out Done headlines</a></li>
<li><a href="#formatting-keywords-as-boxes-with-inverted-colors">Formatting keywords as boxes with inverted colors</a></li>
</ul></li>
<li><a href="#mu4e"><span class="org-todo todo TODO">TODO</span> mu4e</a></li>
<li><a href="#multiple-cursors">Multiple Cursors</a></li>
<li><a href="#git-related">git related</a>
<ul>
<li><a href="#git-gutter"><span class="org-todo todo TODO">TODO</span> Git gutter</a></li>
<li><a href="#magit-settings">magit settings</a></li>
<li><a href="#completed-loading-message">Completed loading message</a></li>
</ul></li>
<li><a href="#projectile-behavior">Projectile behavior</a></li>
<li><a href="#helm">Helm</a>
<ul>
<li><a href="#enabling-helm-mode-and-activation-for-basic-functions">Enabling Helm mode and activation for basic functions</a></li>
<li><a href="#bookmarks-with-helm">Bookmarks with Helm</a></li>
<li><a href="#setting-sources-for-helm"><span class="org-todo done STABLE">STABLE</span> Setting sources for helm</a></li>
<li><a href="#helm-semantic">helm-semantic</a></li>
<li><a href="#persistent-follow-mode-for-helm"><span class="org-todo todo TODO">TODO</span> Persistent follow mode for Helm</a></li>
<li><a href="#helm-ag-and-helm-org-rifle-with-refiling-set-to-helm-org-rifle"><code>helm-ag</code> and <code>helm-org-rifle</code>, with refiling set to <code>helm-org-rifle</code></a></li>
<li><a href="#helm-swoop">helm-swoop</a></li>
<li><a href="#helm-loading-completed">Helm Loading completed</a></li>
</ul></li>
<li><a href="#org-mode-related">Org mode related</a>
<ul>
<li><a href="#org-tags-to-be-available-everywhere"><span class="org-todo todo TEST">TEST</span> Org tags to be available everywhere</a></li>
<li><a href="#default-org-directory-and-agenda-file-directory">Default org directory and agenda file directory</a></li>
<li><a href="#org-notes-into-log-drawer">Org-notes into log drawer</a></li>
<li><a href="#enabling-org-capture-and-org-protocol"><span class="org-todo todo TODO">TODO</span> Enabling org capture and org protocol</a></li>
<li><a href="#ensuring-archive-files-are-also-in-org-mode"><span class="org-todo todo TODO">TODO</span> Ensuring archive files are also in org mode</a></li>
<li><a href="#archiving-mechanics">Archiving mechanics</a></li>
<li><a href="#org-wiki"><span class="org-todo todo TEST">TEST</span> org-wiki</a></li>
<li><a href="#org-id">org-id</a></li>
<li><a href="#setting-custom-keywords-with-fast-access"><span class="org-todo todo TODO">TODO</span> Setting custom keywords with fast access</a></li>
<li><a href="#refiling-settings">Refiling settings</a></li>
<li><a href="#agenda-mechanics">Agenda mechanics</a></li>
<li><a href="#capture-mechanics"><span class="org-todo todo TODO">TODO</span> Capture mechanics</a></li>
<li><a href="#version-control-and-backup-of-files"><span class="org-todo todo TODO">TODO</span> version control and backup of files</a></li>
<li><a href="#org-noter">org-noter</a></li>
<li><a href="#org-projectile"><span class="org-todo todo TODO">TODO</span> org-projectile</a></li>
<li><a href="#org-gcal-customisation"><span class="org-todo todo TODO">TODO</span> org-gcal customisation</a></li>
<li><a href="#property-customisation"><span class="org-todo todo TODO">TODO</span> Property customisation</a></li>
<li><a href="#org-web-clipper"><span class="org-todo todo TODO">TODO</span> org web clipper</a></li>
<li><a href="#org-babel">Org-babel</a></li>
<li><a href="#org-trello"><span class="org-todo todo TODO">TODO</span> Org-trello</a></li>
<li><a href="#clock-customisation">Clock Customisation</a></li>
<li><a href="#org-brain">Org-Brain <code>[<sup>1</sup>&frasl;<sub>2</sub>]</code></a></li>
<li><a href="#org-journal">Org journal</a></li>
<li><a href="#org-sticky-header"><span class="org-todo todo TEST">TEST</span> Org sticky Header <code>[0/1]</code></a></li>
<li><a href="#org-wild-notifier"><span class="org-todo todo TEST">TEST</span> Org wild Notifier</a></li>
<li><a href="#org-to-rst-exporter"><span class="org-todo todo TEST">TEST</span> Org to RST Exporter</a></li>
<li><a href="#org-to-slack-exporter"><span class="org-todo todo TEST">TEST</span> Org to Slack exporter</a></li>
<li><a href="#ox-pandoc"><span class="org-todo todo TEST">TEST</span> ox-pandoc</a></li>
<li><a href="#setting-the-columns-for-the-column-view">Setting the columns for the column view</a></li>
<li><a href="#org-sidebar"><span class="org-todo todo TEST">TEST</span> org-sidebar</a></li>
</ul></li>
</ul></li>
<li><a href="#stable-extras">Stable Extras</a>
<ul>
<li><a href="#time-machine-for-git"><span class="org-todo todo TODO">TODO</span> Time machine for git</a></li>
<li><a href="#loading-external-packages">Loading External Packages</a></li>
<li><a href="#memento-mori">memento mori</a></li>
<li><a href="#treemacs-setup"><span class="org-todo todo TEST">TEST</span> Treemacs Setup</a></li>
<li><a href="#scimax-customisations">Scimax customisations</a>
<ul>
<li><a href="#redefining-scimax-apps">Redefining scimax-apps</a></li>
<li><a href="#scimax-autoformat-and-corrections">Scimax autoformat and corrections</a></li>
<li><a href="#scimax-hotspots">Scimax Hotspots</a></li>
<li><a href="#scimax-elfeed">Scimax Elfeed</a></li>
<li><a href="#scimax-notebook-directory">Scimax Notebook directory</a></li>
<li><a href="#scimax-notebook">Scimax notebook</a></li>
<li><a href="#changing-key-for-scimax-body">Changing key for scimax/body</a></li>
<li><a href="#scimax-python"><span class="org-todo todo TODO">TODO</span> Scimax Python</a></li>
<li><a href="#message-loaded-scimax-customisations">Message : loaded scimax Customisations</a></li>
</ul></li>
<li><a href="#swiper">Swiper</a></li>
<li><a href="#writeroom-customisations">Writeroom customisations</a></li>
<li><a href="#ess-configuration"><span class="org-todo todo TEST">TEST</span> ESS configuration</a></li>
<li><a href="#ox-reveal-presentations">ox-reveal - presentations</a></li>
<li><a href="#deft">Deft</a></li>
<li><a href="#w3m-customisation">w3m customisation</a>
<ul>
<li><a href="#setting-default-browser-to-be-w3m">Setting default browser to be w3m</a></li>
<li><a href="#appending-http-to-web-addresses-entered-by-hand"><span class="org-todo todo TODO">TODO</span> Appending HTTP to web addresses entered by hand</a></li>
<li><a href="#changing-w3m-shortcuts-for-better-tabbed-browsing">Changing w3m shortcuts for better tabbed browsing</a></li>
<li><a href="#default-external-browser-settings"><span class="org-todo todo TODO">TODO</span> Default external browser settings</a></li>
<li><a href="#wikipedia-search">Wikipedia search</a></li>
<li><a href="#access-hacker-news">Access Hacker News</a></li>
<li><a href="#open-specific-browser-depending-on-the-url"><span class="org-todo todo TODO">TODO</span> Open specific browser depending on the URL</a></li>
</ul></li>
<li><a href="#frog-jump-buffer">frog jump buffer</a></li>
<li><a href="#easy-kill-and-easy-mark">easy-kill and easy mark</a></li>
<li><a href="#eyebrowse"><span class="org-todo todo TEST">TEST</span> eyebrowse</a></li>
<li><a href="#hugo">Hugo</a>
<ul>
<li><a href="#function-to-create-specific-properties-for-a-blog-post">Function to create specific properties for a blog post</a></li>
<li><a href="#ox-hugo-setup">ox-hugo setup</a></li>
</ul></li>
</ul></li>
<li><a href="#testing">Testing</a>
<ul>
<li><a href="#scimax-cusomisations">Scimax cusomisations</a>
<ul>
<li><a href="#scimax-journal-settings"><span class="org-todo todo TODO">TODO</span> Scimax journal settings</a></li>
<li><a href="#bibliography-settings-and-customisation"><span class="org-todo todo TODO">TODO</span> Bibliography settings and customisation</a></li>
<li><a href="#adding-actions-to-ivy"><span class="org-todo todo TEST">TEST</span> Adding actions to ivy</a></li>
<li><a href="#setting-hyper-key-for-the-mac"><span class="org-todo todo TEST">TEST</span> Setting Hyper key for the mac</a></li>
<li><a href="#org-db">org-Db</a></li>
</ul></li>
<li><a href="#tangle-org-mode-config-on-save"><span class="org-todo todo TODO">TODO</span> Tangle org mode config on save</a></li>
<li><a href="#visual-line-and-visual-fill-column"><span class="org-todo todo TEST">TEST</span> Visual line and visual fill column</a></li>
<li><a href="#marking"><span class="org-todo todo TEST">TEST</span> Marking</a></li>
<li><a href="#semantic-mode"><span class="org-todo todo TEST">TEST</span> Semantic Mode</a></li>
<li><a href="#sauron"><span class="org-todo todo TEST">TEST</span> Sauron</a></li>
<li><a href="#emacs-url-shortener">emacs url shortener</a></li>
<li><a href="#free-keys">free-keys</a></li>
<li><a href="#zenburn-theme-exploration">Zenburn theme exploration</a>
<ul>
<li><a href="#disabling-leuven-and-loading-other-theme">Disabling leuven and loading other theme</a></li>
<li><a href="#background-color-for-org-source-blocks"><span class="org-todo todo TEST">TEST</span> Background color for org source Blocks</a></li>
<li><a href="#initial-setup-of-zenburn"><span class="org-todo todo TEST">TEST</span> Initial setup of Zenburn</a></li>
<li><a href="#use-package-based-template-for-customising-zenburn"><span class="org-todo todo TODO">TODO</span> Use-package based template for customising zenburn</a></li>
<li><a href="#setting-font-faces-for-headline-level">Setting font faces for headline level</a></li>
</ul></li>
<li><a href="#alfred-integration"><span class="org-todo todo TEST">TEST</span> Alfred Integration</a></li>
<li><a href="#project-publishing-setup"><span class="org-todo todo TODO">TODO</span> Project publishing setup <code>[0/3]</code></a>
<ul>
<li><a href="#ox-tufte"><span class="org-todo todo TEST">TEST</span> ox-Tufte</a></li>
<li><a href="#exporting-org-projects"><span class="org-todo todo TODO">TODO</span> Exporting org projects</a></li>
<li><a href="#function-for-exporting-dotemacs-config"><span class="org-todo todo TEST">TEST</span> Function for exporting dotemacs config <code>[<sup>1</sup>&frasl;<sub>3</sub>]</code></a></li>
</ul></li>
<li><a href="#docker"><span class="org-todo todo TEST">TEST</span> Docker</a>
<ul>
<li><a href="#docker-package">Docker package</a></li>
<li><a href="#docker-compose-mode">docker-compose-mode</a></li>
<li><a href="#docker-file-mode">docker-file-mode</a></li>
</ul></li>
<li><a href="#org-bookmark-heading">org-bookmark-heading</a></li>
<li><a href="#crux-basic-movement"><span class="org-todo todo TODO">TODO</span> Crux  - basic movement</a></li>
<li><a href="#crypto-setup">Crypto setup</a>
<ul>
<li><a href="#basic-crypto">Basic crypto</a></li>
<li><a href="#setting-auth-sources">Setting auth sources</a></li>
<li><a href="#github-token-access">github token access</a></li>
</ul></li>
<li><a href="#persp-projectile"><span class="org-todo todo TODO">TODO</span> Persp-projectile</a></li>
<li><a href="#lob"><span class="org-todo todo TODO">TODO</span> LOB</a></li>
<li><a href="#hydras-and-some-custom-functions">Hydras and some custom functions</a>
<ul>
<li><a href="#refiling">Refiling</a></li>
<li><a href="#window-manipulation">Window manipulation</a></li>
<li><a href="#helm-do-ag-in-specific-locations">helm-do-ag in specific locations</a></li>
<li><a href="#frame-configurations-fo-magit-and-project-launch">Frame configurations fo magit and project launch</a></li>
<li><a href="#loading-completed">Loading completed</a></li>
</ul></li>
<li><a href="#python">Python <code>[0/4]</code></a>
<ul>
<li><a href="#setup-virtual-environment-approach"><span class="org-todo todo TEST">TEST</span> setup virtual environment approach</a></li>
<li><a href="#setup-conda-for-virtual-environment-management"><span class="org-todo todo POSTPONED">POSTPONED</span> setup conda for virtual environment management</a></li>
<li><a href="#general-config">General config</a></li>
<li><a href="#autocomplete-for-python-blocks"><span class="org-todo todo NEXT">NEXT</span> Autocomplete for python blocks</a></li>
<li><a href="#emacs-jupyter"><span class="org-todo todo NEXT">NEXT</span> Emacs-jupyter</a></li>
</ul></li>
</ul></li>
<li><a href="#disabled">Disabled</a>
<ul>
<li><a href="#org2blog-publishing-to-wordpress"><span class="org-todo todo TODO">TODO</span> org2blog : publishing to wordpress <code>[0/1]</code></a></li>
<li><a href="#helm-ext"><span class="org-todo todo TEST">TEST</span> helm-ext</a></li>
<li><a href="#scimax-customisations-1">Scimax customisations</a>
<ul>
<li><a href="#enabling-scimax-statistics">Enabling Scimax Statistics</a></li>
</ul></li>
<li><a href="#dired">Dired</a></li>
<li><a href="#activating-windmove-to-facilitate-hydras"><span class="org-todo todo TEST">TEST</span> Activating windmove to facilitate Hydras</a></li>
<li><a href="#export-async"><span class="org-todo todo TEST">TEST</span> Export async</a></li>
<li><a href="#ob-async"><span class="org-todo todo TEST">TEST</span> Ob-async</a></li>
<li><a href="#auto-saving-all-org-files-by-the-hour"><span class="org-todo todo TEST">TEST</span> Auto saving all org files by the hour</a></li>
<li><a href="#tags-setup"><span class="org-todo todo TEST">TEST</span> Tags setup</a></li>
<li><a href="#icicles"><span class="org-todo todo TEST">TEST</span> Icicles</a></li>
<li><a href="#erc">erc</a></li>
<li><a href="#scheme-setup">Scheme setup</a></li>
<li><a href="#lintr"><span class="org-todo todo TODO">TODO</span> lintr</a></li>
<li><a href="#better-defaults">Better defaults</a></li>
<li><a href="#pdf-tools"><span class="org-todo done STABLE">STABLE</span> PDF Tools</a></li>
<li><a href="#elfeed-customisation">Elfeed customisation</a>
<ul>
<li><a href="#elfeed-basic-plus-customisations">Elfeed Basic + Customisations</a></li>
<li><a href="#scimax-plus-elfeed-org-and-elfeed-goodies-setup">Scimax + Elfeed-org and elfeed-goodies setup <code>[/]</code></a></li>
<li><a href="#consider-storing-the-feed-sources-here-in-org-format"><span class="org-todo todo TODO">TODO</span> Consider storing the Feed sources here in org format</a></li>
<li><a href="#loading-completed-1">Loading completed</a></li>
</ul></li>
<li><a href="#ediff">ediff</a></li>
<li><a href="#spell-checking">Spell Checking</a>
<ul>
<li><a href="#flycheck">Flycheck</a></li>
<li><a href="#enabling-flyspell">Enabling Flyspell</a></li>
<li><a href="#replacing-flycheck-with-flymake">Replacing flycheck with flymake</a></li>
<li><a href="#switching-to-aspell-on-the-mac"><span class="org-todo done STABLE">STABLE</span> Switching to aspell on the mac</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article">

        <div class="docs-article-container">
          <h1>My Emacs &#43; Scimax configuration</h1>

          <div class="article-style">
            

<h2 id="introduction-and-preamble">Introduction and preamble</h2>

<p>This is my literate, Org-mode based configuration for Emacs, which are essentially customisations built on top of the starter-kit Scimax. View a nicely rendered version with easy navigation <a href="https://shrysr.github.io/docs/sr-config/" target="_blank">on my website</a>, or if you prefer: <a href="https://github.com/shrysr/dotemacs" target="_blank">on github</a>.</p>

<blockquote>
<p>Scimax - Awesome editing for scientists and engineers. Scimax is an Emacs starterkit for scientists and engineers. It provides a comprehensive configuration of Emacs for scientific programming and publishing.</p>

<p><a href="https://github.com/jkitchin" target="_blank">John Kitchin</a></p>
</blockquote>

<p>Scimax specific variables have their own heading to make it &lsquo;easier&rsquo; to experiment with other starter-kits.</p>

<p>The style of documentation is particularly influenced by the <a href="https://github.com/angrybacon/dotemacs/blob/master/dotemacs.org" target="_blank">dotemacs config</a> of <a href="https://github.com/angrybacon" target="_blank">Mathieu Marques</a>, which I found very engaging to read.</p>

<blockquote>
<p>Note: The configuration posted on my website and github repo are updated from time to time, and may be older than the version I am using everyday.</p>
</blockquote>

<h3 id="this-configuration">This configuration</h3>

<p>Scimax&rsquo;s init calls the <code>user.el</code> script placed in the user folder. The following snippet is placed in <code>user.el</code> to load this org file and then my encrypted personal configuration. This org file and the tangled emacs-lisp script is also available in a <a href="https://github.com/shrysr/dotemacs" target="_blank">github repo</a>.</p>

<pre><code class="language-emacs-lisp">;; Loading this file that you are viewing, which I name sr-config.org
(org-babel-load-file (expand-file-name &quot;sr-config.org&quot; user-emacs-directory))

;; Loading secret config containing personal information
(org-babel-load-file (expand-file-name &quot;sr-secrets.org.gpg&quot; user-emacs-directory))

(garbage-collect)
</code></pre>

<ul class="task-list">
<li><p><span class="org-todo todo TODO">TODO</span>  Using this configuration</p>

<p>While using the Org file - you may need to set <code>:tangle no</code> in the headers for the code snippets that you do not need, and set the location of directories for org files, org agenda etc.</p>

<p>A bunch these scripts are not tangled and kept for testing or reference purposes. The tangled <code>config.el</code> contains the actual configuration that is used.</p>

<ul>
<li><p>Method 1</p>

<ol>
<li>Clone Scimax</li>
<li>Add the above snippet to <code>user.el</code> in the user directory. Update the file name and paths as required.</li>
<li>Place this org file in the user directory.</li>
<li>Run the provided script for installing the packages needed for Scimax. Once that is done, <code>user.el</code> will call this org file.</li>
</ol></li>

<li><p>Method 2</p>

<p>Pick up snippets that you like from the <code>config.el</code> file, which is tangled from this org file, and only includes the snippets that I actually use.</p></li>
</ul></li>

<li><p><span class="org-todo todo TODO">TODO</span>  Overall Tasks and Areas of Improvement <code>[0/5]</code></p>

<ul class="task-list">
<li><label><input type="checkbox" disabled class="task-list-item"> Remove packages that are no longer used</label></li>
<li><label><input type="checkbox" disabled class="task-list-item"> Switch to the use-package approach everywhere.</label></li>
<li><label><input type="checkbox" disabled class="task-list-item"> Improve the documentation to make it more user friendly.</label></li>
<li><label><input type="checkbox" disabled class="task-list-item"> Improve instructions to use this configuration</label></li>
<li><label><input type="checkbox" disabled class="task-list-item"> Figure out how external packages can be installed.</label></li>
</ul></li>

<li><p>Script to create symlinks of configuration in scimax/user directory</p>

<pre><code class="language-sh">ln -s ~/scimax-personal/preload.el ~/scimax/user/
ln -s ~/scimax-personal/user.el ~/scimax/user/
ln -s ~/scimax-personal/sr-config.org ~/scimax/user/
ln -s ~/scimax-personal/user.el ~/scimax/user/
rm -rf ~/scimax/user/snippets
ln -s ~/scimax-personal/snippets ~/scimax/user/
ln -s ~/scimax-personal/sr-secrets.org.gpg ~/scimax/user/
ln -s ~/scimax-personal/archive ~/scimax/user/
ln -s ~/scimax-personal/external_packages ~/scimax/user/
ln -s ~/scimax-personal/preload.el ~/scimax/user/
ln -s ~/scimax-personal/mail/.mbsyncrc ~/.mbsyncrc
</code></pre>

<p>Using sudo for fastmail certification</p>

<pre><code class="language-sh">ln -s ~/scimax-personal/mail/fmail.crt /etc/postfix/
</code></pre></li>
</ul>

<h3 id="other-literate-emacs-configs">Other literate Emacs configs</h3>

<p>These references were used for exploration and inspiration. Other resources and references are included with the code.</p>

<ol>
<li><a href="https://karl-voit.at/2017/06/03/emacs-org/" target="_blank">Karl Voit</a></li>
<li><a href="https://github.com/angrybacon/dotemacs/blob/master/dotemacs.org" target="_blank">Mathieu Marques</a></li>
<li><a href="https://writequit.org/org/" target="_blank">Lee Hinman</a></li>
<li><a href="http://pages.sachachua.com/.emacs.d/Sacha.html" target="_blank">Sacha Chua</a></li>
<li><a href="http://doc.norang.ca/org-mode.html" target="_blank">Bernt Hansen&rsquo;s very detailed Org-mode config</a></li>
</ol>

<h2 id="stable-core">Stable Core</h2>

<p>These are packages and functions that I know to be working as expected, and settings that I use on a daily basis.</p>

<h3 id="os-level-variables">OS Level variables <code>[0/0]</code></h3>

<p>Since I switch between a Linux machine and a Mac frequently, it is better to define variables that can be used to set other variables depending on the OS.</p>

<pre><code class="language-emacs-lisp">;; Get current system's name
(defun insert-system-name()
  (interactive)
  &quot;Get current system's name&quot;
  (insert (format &quot;%s&quot; system-name))
  )

;; Get current system type
(defun insert-system-type()
  (interactive)
  &quot;Get current system type&quot;
  (insert (format &quot;%s&quot; system-type))
  )

;; Check if system is Darwin/Mac OS X
(defun system-type-is-darwin ()
  (interactive)
  &quot;Return true if system is darwin-based (Mac OS X)&quot;
  (string-equal system-type &quot;darwin&quot;)
  )

;; Check if system is GNU/Linux
(defun system-type-is-gnu ()
  (interactive)
  &quot;Return true if system is GNU/Linux-based&quot;
  (string-equal system-type &quot;gnu/linux&quot;)
  )
(message &quot;Completed OS Level variables load&quot;)
</code></pre>

<h3 id="browse-kill-ring">Browse kill ring</h3>

<pre><code class="language-emacs-lisp">(use-package browse-kill-ring
  :ensure t
  :defer nil
)
</code></pre>

<h3 id="remove-trailing-whitespace-at-the-end-of-lines">Remove trailing whitespace at the end of lines</h3>

<pre><code class="language-emacs-lisp">(add-hook 'before-save-hook 'delete-trailing-whitespace)
</code></pre>

<h3 id="remove-at-the-start-of-ivy-commands">Remove &lsquo;^&rsquo; at the start of ivy commands</h3>

<pre><code class="language-emacs-lisp">(setq ivy-initial-inputs-alist nil)
</code></pre>

<h3 id="move-to-the-next-sentence">Move to the next sentence</h3>

<p>As mentioned in the reference, by default in Emacs, a double space is set to end a sentence.  This removes that. However, there are tools in scimax to move backwards.
Reference: <a href="http://pragmaticemacs.com/emacs/move-to-startend-of-line-or-sentence/" target="_blank">http://pragmaticemacs.com/emacs/move-to-startend-of-line-or-sentence/</a></p>

<pre><code class="language-emacs-lisp">;; sentences end with single space
(setq sentence-end-double-space nil)
</code></pre>

<h3 id="package-installation">Package installation</h3>

<h4 id="package-list">Package list</h4>

<p>Though the use-package approach is a lot more elegant, I also like to have a list of all my installed packages. In any case, this is more in line with my earlier configurations. As things evolve, I will probably shift completely to the use-package method.</p>

<pre><code class="language-emacs-lisp">(setq package-list '(diminish
                     ;; ztree
                     ;; org-gcal
                     w3m
                     ;; org-trello
                     org-web-tools
                     auto-indent-mode
                     ob-sql-mode
                     dash
                     org-super-agenda
		     ;; workgroups2
                     switch-window
                     ess
                     ess-R-data-view
                     ;; interleave
                     deft
                     org-bookmark-heading
                     writeroom-mode
                     ;; evil
                     ;; evil-leader
                     polymode
                     poly-R
                     helm-ag
                     writegood-mode
                     artbollocks-mode
                     multiple-cursors
                     ox-reveal
                     better-defaults
                     jedi jedi-core
                     ag ein
                     ;; ein-mumamo
                     ido-vertical-mode
                     company-jedi
                     conda
                     ;; spacemacs-theme
                     ;; elfeed-goodies
                     helpful
                     browse-kill-ring
                     ivy-yasnippet
                     speed-type
                     clojure-mode
                     cider
                     helm-dash
                     org-projectile
                     bash-completion
                     elmacro
                     helm-org-rifle
                     sx define-word))
</code></pre>

<h4 id="fetch-and-install-missing-packages">Fetch and install missing packages</h4>

<pre><code class="language-emacs-lisp">;;fetch the list of packages available
(unless package-archive-contents
  (package-refresh-contents))

;; install the missing packages
(dolist (package package-list)
  (unless (package-installed-p package)
    (package-install package)))
</code></pre>

<h3 id="switch-window-configuration">Switch-window configuration</h3>

<p>Source link: <a href="https://github.com/dimitri/switch-window" target="_blank">https://github.com/dimitri/switch-window</a></p>

<pre><code class="language-emacs-lisp">(use-package switch-window
  :config
  ;;

  (require 'switch-window)

  (global-set-key (kbd &quot;C-x o&quot;) 'switch-window)
  (global-set-key (kbd &quot;C-x 1&quot;) 'switch-window-then-maximize)
  (global-set-key (kbd &quot;C-x 2&quot;) 'switch-window-then-split-below)
  (global-set-key (kbd &quot;C-x 3&quot;) 'switch-window-then-split-right)
  (global-set-key (kbd &quot;C-x 0&quot;) 'switch-window-then-delete)

  (global-set-key (kbd &quot;C-x 4 d&quot;) 'switch-window-then-dired)
  (global-set-key (kbd &quot;C-x 4 f&quot;) 'switch-window-then-find-file)
  (global-set-key (kbd &quot;C-x 4 m&quot;) 'switch-window-then-compose-mail)
  (global-set-key (kbd &quot;C-x 4 r&quot;) 'switch-window-then-find-file-read-only)

  (global-set-key (kbd &quot;C-x 4 C-f&quot;) 'switch-window-then-find-file)
  (global-set-key (kbd &quot;C-x 4 C-o&quot;) 'switch-window-then-display-buffer)

  (global-set-key (kbd &quot;C-x 4 0&quot;) 'switch-window-then-kill-buffer)

  ;; selecting minibuffer
  (setq switch-window-minibuffer-shortcut ?z)
  )
</code></pre>

<h3 id="create-intermediate-directories-while-saving-files">Create intermediate directories while saving files</h3>

<p>Source: <a href="https://superuser.com/questions/131538/can-i-create-directories-that-dont-exist-while-creating-a-new-file-in-emacs" target="_blank">https://superuser.com/questions/131538/can-i-create-directories-that-dont-exist-while-creating-a-new-file-in-emacs</a></p>

<pre><code class="language-emacs-lisp">(defadvice find-file (before make-directory-maybe (filename &amp;optional wildcards) activate)
  &quot;Create parent directory if not exists while visiting file.&quot;
  (unless (file-exists-p filename)
    (let ((dir (file-name-directory filename)))
      (unless (file-exists-p dir)
        (make-directory dir)))))
</code></pre>

<h3 id="shortcuts-and-registers">Shortcuts and registers</h3>

<h4 id="registers">Registers</h4>

<pre><code class="language-emacs-lisp">(set-register ?n (cons 'file &quot;~/my_org/notes.org&quot;))
(set-register ?l (cons 'file &quot;~/application_letters/letter.md&quot;))
(set-register ?k (cons 'file &quot;~/application_letters/Cover_letter_Shreyas_R.pdf&quot;))
(set-register ?p (cons 'file &quot;~/org_cv/CV_Shreyas_Ragavan.pdf&quot;))
(set-register ?r (cons 'file &quot;~/org_cv/CV_Shreyas_Ragavan.org&quot;))
(set-register ?t (cons 'file &quot;~/my_org/todo-global.org&quot;))
(set-register ?i (cons 'file &quot;~/dotemacs/.emacs.d/new-init.org&quot;))
(set-register ?j (cons 'file &quot;~/my_org/mrps_canjs.org&quot;))
(set-register ?f (cons 'file &quot;~/scimax/user/sr-cust/&quot;))
(set-register ?d (cons 'file &quot;~/my_org/datascience.org&quot;))
(set-register ?m (cons 'file &quot;~/my_org/&quot;))
(set-register ?b (cons 'file &quot;~/my_org/blog-book.org&quot;))
(set-register ?g (cons 'file &quot;~/my_gits/&quot;))
</code></pre>

<h4 id="google-this">Google this</h4>

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;M-s g&quot;) 'google-this-mode-submap)
</code></pre>

<h4 id="ivy-yasnippet">ivy-yasnippet</h4>

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;M-s i&quot;) 'ivy-yasnippet)
</code></pre>

<h4 id="mu4e-related">Mu4e related</h4>

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;M-s u&quot;) 'mu4e-update-mail-and-index)
(global-set-key (kbd &quot;M-s m&quot;) 'mu4e~headers-jump-to-maildir)
(global-set-key (kbd &quot;C-x m&quot;) 'mu4e-compose-new)
</code></pre>

<h4 id="org-related">Org related</h4>

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;C-x t&quot;) 'org-insert-todo-heading)
(global-set-key (kbd &quot;C-c d&quot;) 'org-time-stamp)
(global-set-key (kbd &quot;M-s s&quot;) 'org-save-all-org-buffers)
;;(global-set-key (kbd &quot;M-s j&quot;) 'org-journal-new-entry)
</code></pre>

<h4 id="shortcuts-for-punching-in-and-out">Shortcuts for punching in and Out</h4>

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;C-&lt;f9&gt;&quot;) 'sr/punch-in)
(global-set-key (kbd &quot;M-&lt;f9&gt;&quot;) 'sr/punch-out)
</code></pre>

<h4 id="setting-the-super-and-hyper-key"><span class="org-todo todo TODO">TODO</span> Setting the super and hyper Key</h4>

<pre><code class="language-emacs-lisp">(if system-name-is-darwin
    (progn
      (setq mac-right-command-modifier 'hyper)
      (setq mac-right-option-modifier 'super)
      )
  )

(if system-name-is-gnu
    (progn
      (setq right-command-)
      )
  )
</code></pre>

<h4 id="shortcut-for-frog-jump-buffer">Shortcut for frog-jump-Buffer</h4>

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;M-s f&quot;) 'frog-jump-buffer)
</code></pre>

<p>#+END_SRC</p>

<pre><code class="language-text">frog-jump-buffer
</code></pre>

<h3 id="yanking-links-in-org-format">yanking links in org format</h3>

<p>Source: sacha chua.</p>

<p>Enables inserting a URL into an org document as &lsquo;[<URL>][link]&rsquo; by tapping F6 after copying the URL. This is useful to reduce clutter with long links, and even include links in headings.</p>

<pre><code class="language-emacs-lisp">(defun my/yank-more ()
  (interactive)
  (insert &quot;[[&quot;)
  (yank)
  (insert &quot;][link]]&quot;))
(global-set-key (kbd &quot;&lt;f6&gt;&quot;) 'my/yank-more)
</code></pre>

<h3 id="export-setup">Export setup</h3>

<pre><code class="language-emacs-lisp">(require 'ox-org)
(require 'ox-word)
(require 'ox-md)
(load &quot;~/scimax/ox-ipynb/ox-ipynb.el&quot;)
</code></pre>

<h3 id="markdown-config">Markdown config</h3>

<p>Setting pandoc as the markdown command for live previews. The default command is <code>markdown</code>, which could be installed as a separate package.</p>

<pre><code class="language-emacs-lisp">(setq markdown-command &quot;pandoc&quot;)
</code></pre>

<h3 id="slime-and-lisp">SLIME and lisp</h3>

<p>Installing the SLIME package</p>

<pre><code class="language-emacs-lisp">(use-package slime
  :ensure t
  )
</code></pre>

<p>Setting the location of the lisp interpreter based on the OS being used:</p>

<pre><code class="language-emacs-lisp">(if (system-type-is-darwin)
    (setq inferior-lisp-program &quot;/usr/local/bin/clisp&quot;)
  )

(if (system-type-is-gnu)
    (setq inferior-lisp-program &quot;/usr/bin/clisp&quot;)
    )
</code></pre>

<h3 id="expand-region">Expand region</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 09:27]  </span></span>  <br />
Explore how this works, and customise it.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(use-package expand-region
  :ensure t
  :bind (&quot;C-=&quot; . er/expand-region))

(message &quot;Loaded easier selection&quot;)
</code></pre>

<h3 id="hippie-expand">Hippie Expand</h3>

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;M-/&quot;) (make-hippie-expand-function
			     '(try-expand-dabbrev-visible
			       try-expand-dabbrev
			       try-expand-dabbrev-all-buffers) t))
</code></pre>

<h3 id="theme-and-visuals">Theme and visuals</h3>

<h4 id="emacsclient-or-frame-specific-settings">Emacsclient or frame specific settings</h4>

<p>Since I run emacs as a daemon and call the emacsclient, the background has to be set for new frames. Additionally, I&rsquo;d like the frames to launch full screen.</p>

<pre><code class="language-emacs-lisp">(setq default-frame-alist
      '(;; (background-color . &quot;whitesmoke&quot;)
        ;; (foreground-color . &quot;black&quot;)
        (fullscreen . maximized)
        ))
</code></pre>

<h4 id="custom-safe-themes-and-background-change-to-light-grey">Custom Safe themes and Background change to light grey</h4>

<pre><code class="language-emacs-lisp">(setq custom-safe-themes t)
(set-background-color &quot;whitesmoke&quot;)
</code></pre>

<h4 id="font-customisation-based-on-os">Font Customisation based on OS</h4>

<p>The same font is named differently in Antergos (Linux) and in the Mac OS.</p>

<pre><code class="language-emacs-lisp">;; For Linux
(if (system-type-is-gnu)
    (set-face-attribute 'default nil :family &quot;ttf-iosevka&quot; :height 130 ))

;; For Mac OS
(if (system-type-is-darwin)
    (set-face-attribute 'default nil :family &quot;Iosevka Type&quot; :height 160 ))
</code></pre>

<h4 id="spaceline-modeline-configuration"><span class="org-todo todo TEST">TEST</span> Spaceline : modeline configuration</h4>

<p>Source: <a href="http://pragmaticemacs.com/emacs/get-that-spacemacs-look-without-spacemacs/" target="_blank">http://pragmaticemacs.com/emacs/get-that-spacemacs-look-without-spacemacs/</a></p>

<pre><code class="language-emacs-lisp">(use-package spaceline
  :demand t
  :init
  (setq powerline-default-separator 'arrow-fade)
  :config
  (disable-theme 'smart-mode-line-light)
  (require 'spaceline-config)
  (spaceline-emacs-theme)
  (spaceline-toggle-buffer-position-off)
)
</code></pre>

<h4 id="basic-cosmetics-dot-review-and-convert-to-use-package-style"><span class="org-todo todo TODO">TODO</span> Basic cosmetics. Review &amp; Convert to use-package style</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 08:20]  </span></span>  <br />
These settings have to be cleaned up and the code optimised.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(setq org-hide-leading-stars t)
;;(setq org-alphabetical-lists t)
(setq org-src-fontify-natively t)  ;; you want this to activate coloring in blocks
(setq org-src-tab-acts-natively t) ;; you want this to have completion in blocks
(setq org-hide-emphasis-markers t) ;; to hide the *,=, or / markers
(setq org-pretty-entities t)       ;; to have \alpha, \to and others display as utf8 http://orgmode.org/manual/Special-symbols.html

;; Highlighting lines in the agenda, where the cursor is placed.
(add-hook 'org-agenda-mode-hook (lambda () (hl-line-mode 1)))

;; Setting up clean indenting below respective headlines at startup. - from the org mode website
(setq org-startup-indented t)

;; ;; use org bullets from emacsist
;; (use-package org-bullets
;;   :ensure t
;;   :init
;;   :config
;;   (add-hook 'org-mode-hook (lambda () (org-bullets-mode 1))))
</code></pre>

<h4 id="striking-out-done-headlines">Striking out Done headlines</h4>

<p>source: Sacha Chua</p>

<pre><code class="language-emacs-lisp">(setq org-fontify-done-headline t)
(custom-set-faces
 '(org-done ((t (:foreground &quot;DarkGreen&quot;
			     :weight normal
			     :strike-through t))))
 '(org-headline-done
   ((((class color) (min-colors 16) (background dark))
     (:foreground &quot;LightSalmon&quot; :strike-through t)))))
</code></pre>

<h4 id="formatting-keywords-as-boxes-with-inverted-colors">Formatting keywords as boxes with inverted colors</h4>

<p>Source : SO <a href="https://stackoverflow.com/questions/12707492/add-custom-markers-to-emacs-org-mode" target="_blank">link</a> ,</p>

<pre><code class="language-emacs-lisp">(set-face-attribute 'org-todo nil
                    :box '(:line-width 2
                           :color &quot;black&quot;
                           :style released-button)
                    :inverse-video t
                    )
(set-face-attribute 'org-done nil
                    :box '(:line-width 2
                           :color &quot;black&quot;
                           :style released-button)
                    :inverse-video t
                    )
(set-face-attribute 'org-priority nil
                    :inherit font-lock-keyword-face
                    :inverse-video t
                    :box '(:line-width 2
                           :color &quot;black&quot;
                           :style released-button)
                    )
</code></pre>

<h3 id="mu4e"><span class="org-todo todo TODO">TODO</span> mu4e</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-12 Tue 14:53] </span></span> <br />
The use-package documentation specifies a method to do this via use-package itself, without enclosing the whole snippet within a if clause.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 20:43] </span></span> <br />
The mu4e config has to be broken down and the send email with htmlize has to be evaluated.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 09:04] </span></span> <br />
As of now, I do not acess my email on different computers via Emacs. The end goal is to setup a mail server via VPS and store my email online, which can then be searched via Emacs and mu4e from any location.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(if (system-type-is-darwin)
    (progn
      (add-to-list 'load-path &quot;/usr/local/share/emacs/site-lisp/mu4e&quot;)
      (require 'mu4e)
      (require 'mu4e-contrib)
      (require 'org-mu4e)

      (setq
       mue4e-headers-skip-duplicates  t
       mu4e-view-show-images t
       mu4e-view-show-addresses 't
       mu4e-compose-format-flowed nil
       mu4e-update-interval 200
       message-ignored-cited-headers 'nil
       mu4e-date-format &quot;%y/%m/%d&quot;
       mu4e-headers-date-format &quot;%Y/%m/%d&quot;
       mu4e-change-filenames-when-moving t
       mu4e-attachments-dir &quot;~/Downloads/Mail-Attachments/&quot;
       mu4e-maildir (expand-file-name &quot;~/my_mail/fmail&quot;)
       message-citation-line-format &quot;On %Y-%m-%d at %R %Z, %f wrote...&quot;
       )

      ;; mu4e email refiling loations
      (setq
       mu4e-refile-folder &quot;/Archive&quot;
       mu4e-trash-folder  &quot;/Trash&quot;
       mu4e-sent-folder   &quot;/Sent&quot;
       mu4e-drafts-folder &quot;/Drafts&quot;
       )

      ;; setup some handy shortcuts
      (setq mu4e-maildir-shortcuts
            '((&quot;/INBOX&quot;   . ?i)
	      (&quot;/Sent&quot;    . ?s)
	      (&quot;/Archive&quot; . ?a)
	      (&quot;/Trash&quot;   . ?t)))

      ;;store link to message if in header view, not to header query
      (setq org-mu4e-link-query-in-headers-mode nil
            org-mu4e-convert-to-html t) ;; org -&gt; html

      ;; Enabling view in browser for HTML heavy emails that don't render well
      (add-to-list 'mu4e-view-actions
	           '(&quot;ViewInBrowser&quot; . mu4e-action-view-in-browser) t)

      (autoload 'mu4e &quot;mu4e&quot; &quot;mu for Emacs.&quot; t)

      ;; Config for sending email
      (setq
       message-send-mail-function 'message-send-mail-with-sendmail
       send-mail-function 'sendmail-send-it
       message-kill-buffer-on-exit t
       )

      ;; allow for updating mail using 'U' in the main view:
      (setq mu4e-get-mail-command  &quot;mbsync -a -q&quot;)

      ;; Don't keep asking for confirmation for every action
      (defun my-mu4e-mark-execute-all-no-confirm ()
        &quot;Execute all marks without confirmation.&quot;
        (interactive)
        (mu4e-mark-execute-all 'no-confirm))
      ;; mapping x to above function
      (define-key mu4e-headers-mode-map &quot;x&quot; #'my-mu4e-mark-execute-all-no-confirm)

      ;; source: http://matt.hackinghistory.ca/2016/11/18/sending-html-mail-with-mu4e/

      ;; this is stolen from John but it didn't work for me until I
      ;; made those changes to mu4e-compose.el
      (defun htmlize-and-send ()
        &quot;When in an org-mu4e-compose-org-mode message, htmlize and send it.&quot;
        (interactive)
        (when
            (member 'org~mu4e-mime-switch-headers-or-body post-command-hook)
          (org-mime-htmlize)
          (org-mu4e-compose-org-mode)
          (mu4e-compose-mode)
          (message-send-and-exit)))

      ;; This overloads the amazing C-c C-c commands in org-mode with one more function
      ;; namely the htmlize-and-send, above.
      (add-hook 'org-ctrl-c-ctrl-c-hook 'htmlize-and-send t)
      ))
</code></pre>

<h3 id="multiple-cursors">Multiple Cursors</h3>

<pre><code class="language-emacs-lisp">(use-package multiple-cursors
  :ensure t
  :config
  (global-set-key (kbd &quot;C-S-c C-S-c&quot;) 'mc/edit-lines)
  (global-set-key (kbd &quot;C-&gt;&quot;) 'mc/mark-next-like-this)
  (global-set-key (kbd &quot;C-&lt;&quot;) 'mc/mark-previous-like-this)
  (global-set-key (kbd &quot;C-c C-&lt;&quot;) 'mc/mark-all-like-this)
  )

(message &quot;Loaded MC&quot;)
</code></pre>

<h3 id="git-related">git related</h3>

<h4 id="git-gutter"><span class="org-todo todo TODO">TODO</span> Git gutter</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 09:30]  </span></span>  <br />
Started using this today. It is actually very convenient to quickly view the changes made in the document. There is a function to pop up the changes at that location. I need to learn more about using this tool effectively.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(use-package git-gutter
  :ensure t
  :config
  (global-git-gutter-mode 't)
  :diminish git-gutter-mode)
</code></pre>

<h4 id="magit-settings">magit settings</h4>

<pre><code class="language-emacs-lisp">(setq magit-revert-buffers 'silent)
</code></pre>

<h4 id="completed-loading-message">Completed loading message</h4>

<pre><code class="language-emacs-lisp">(message &quot;Loaded git related config&quot;)
</code></pre>

<h3 id="projectile-behavior">Projectile behavior</h3>

<pre><code class="language-emacs-lisp">(setq projectile-sort-order 'recently-active)

;; Change cache file location
(setq projectile-cache-file &quot;~/my_org/emacs_meta/.projectile-cache&quot;)
</code></pre>

<h3 id="helm">Helm</h3>

<h4 id="enabling-helm-mode-and-activation-for-basic-functions">Enabling Helm mode and activation for basic functions</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-07-05 Fri 11:55] </span></span> <br />
Adding <code>helm-for-files</code> as this is not being autoloaded for enabling the hotspot feature in Scimax.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-03-06 Wed 17:26] </span></span> <br />
I tried using Ivy for a period. However, Helm&rsquo;s interface is simply a lot more pleasing and there are actually several additional actions that can be performed via helm itself.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-03-04 Mon 15:48] </span></span> <br />
Though I preferred Helm initially for several commands - I realised that scimax has several useful customisations for the ivy and counsel packages. Overall ivy is also lighter than helm and therefore these customisations are being discarded for now.</li>
</ul>

<p>I prefer using Helm for specific functions like M-x, find files and bookmarks and switching buffers.</p>

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;M-x&quot;) 'helm-M-x)
;; Enable fuzzy match for helm-M-x
(setq helm-M-x-fuzzy-match t)

(global-set-key (kbd &quot;C-x C-f&quot;) #'helm-find-files)
(global-set-key (kbd &quot;C-x b&quot;) #'helm-mini)

(require 'helm-config)
(require 'helm-for-files)
(helm-mode 1)
</code></pre>

<h4 id="bookmarks-with-helm">Bookmarks with Helm</h4>

<p>The default save location in the .emacs folder is not very convenient. I would rather store this with my org files since I commit them Everyday.</p>

<pre><code class="language-emacs-lisp">(setq bookmark-default-file &quot;~/my_org/emacs_meta/bookmarks&quot;)
</code></pre>

<p>The default bookmarks list <code>C-x r l</code> can be accessed using <code>helm-bookmarks</code>. The location of the file would be a nice addition. Technically, <code>helm-filtered-bookmarks</code> has almost the same functionality as the list in terms of being able to fuzzy-match a bookmark.</p>

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;C-x r b&quot;) #'helm-filtered-bookmarks)
(global-set-key (kbd &quot;C-x r l&quot;) #'helm-bookmarks)
(setq helm-bookmark-show-location t)
</code></pre>

<h4 id="setting-sources-for-helm"><span class="org-todo done STABLE">STABLE</span> Setting sources for helm</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-07-04 Thu 08:08] </span></span> <br />
Interim issue with bookmarks file becoming corrupted due to a git conflict. The sources work as expected, with helm mini as well as hotspots.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-04-29 Mon 07:43] </span></span> <br />
After a package update, setting the sources explicitly is causing issues with helm-mini and with scimax hotspots.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-03-04 Mon 15:49] </span></span> <br />
The scimax hotspots can be customised with an improved function that only requires commands locations to be separately defined. This resolved the helm-recentf problem.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-12 Tue 14:55] </span></span> <br />
This is still causing issues: the recentf list has to be cleared via helm-mini first.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 16:28] </span></span> <br />
This was needed as it seems helm was not sourcing from recentf file lists. With this source list defined, it provides options to choose from recent files, bookmarks, open buffers.</li>
</ul>

<p>As an example: setting these sources enables my bookmarks to be available along with my buffers, enabling a jump to either.</p>

<pre><code class="language-emacs-lisp">(setq helm-mini-default-sources '(helm-source-buffers-list
                                  helm-source-recentf
                                  helm-source-bookmarks
                                  helm-source-bookmark-set
                                  helm-source-buffer-not-found))

(setq helm-buffers-list-default-sources '(helm-source-buffers-list
                                          helm-source-recentf
                                          helm-source-bookmarks
                                          helm-source-bookmark-set
                                          helm-source-buffer-not-found))
</code></pre>

<h4 id="helm-semantic">helm-semantic</h4>

<p>This needs <a href="#semantic-mode">Semantic Mode</a> enabled, and is a really cool function that enables jumping around variables and functions in a script file with fuzzy matching !</p>

<pre><code class="language-emacs-lisp">(setq helm-semantic-fuzzy-match t
      helm-imenu-fuzzy-match t)
</code></pre>

<h4 id="persistent-follow-mode-for-helm"><span class="org-todo todo TODO">TODO</span> Persistent follow mode for Helm</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 07:46]  </span></span>  <br />
Need to find exactly what this does</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(custom-set-variables
 '(helm-follow-mode-persistent t))
</code></pre>

<h4 id="helm-ag-and-helm-org-rifle-with-refiling-set-to-helm-org-rifle"><code>helm-ag</code> and <code>helm-org-rifle</code>, with refiling set to <code>helm-org-rifle</code></h4>

<pre><code class="language-emacs-lisp">(use-package helm-ag
  :ensure t
  :defer nil
  :config
  (require 'helm-ag)
)

(use-package helm-org-rifle
  :ensure t
  :defer nil
  :config
  (require 'helm-org-rifle)
  (global-set-key (kbd &quot;C-c C-w&quot;) #'helm-org-rifle--refile)
)

</code></pre>

<h4 id="helm-swoop">helm-swoop</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 16:53] </span></span> <br />
This is an awesome find. Helm swoop changes the search pattern depending on the location of the cursor. Therefore, while placed on an org headline, calling helm-swoop will preset the search pattern to have headings. The same is true for source code blocks! Fantastic.</li>
</ul>

<p>Source: <a href="https://writequit.org/org/#orgheadline92" target="_blank">https://writequit.org/org/#orgheadline92</a></p>

<pre><code class="language-emacs-lisp">(use-package helm-swoop
  :ensure t
  :bind ((&quot;M-i&quot; . helm-swoop)
         (&quot;M-I&quot; . helm-swoop-back-to-last-point)
         (&quot;C-c M-i&quot; . helm-multi-swoop))
  :config
  ;; When doing isearch, hand the word over to helm-swoop
  (define-key isearch-mode-map (kbd &quot;M-i&quot;) 'helm-swoop-from-isearch)
  ;; From helm-swoop to helm-multi-swoop-all
  (define-key helm-swoop-map (kbd &quot;M-i&quot;) 'helm-multi-swoop-all-from-helm-swoop)
  ;; Save buffer when helm-multi-swoop-edit complete
  (setq helm-multi-swoop-edit-save t
        ;; If this value is t, split window inside the current window
        helm-swoop-split-with-multiple-windows t
        ;; Split direcion. 'split-window-vertically or 'split-window-horizontally
        helm-swoop-split-direction 'split-window-vertically
        ;; If nil, you can slightly boost invoke speed in exchange for text color
        helm-swoop-speed-or-color nil))
</code></pre>

<h4 id="helm-loading-completed">Helm Loading completed</h4>

<pre><code class="language-emacs-lisp">(message &quot;Loaded Helm customisations&quot;)
</code></pre>

<h3 id="org-mode-related">Org mode related</h3>

<h4 id="org-tags-to-be-available-everywhere"><span class="org-todo todo TEST">TEST</span> Org tags to be available everywhere</h4>

<pre><code class="language-emacs-lisp">(setq org-complete-tags-always-offer-all-agenda-tags t)
</code></pre>

<h4 id="default-org-directory-and-agenda-file-directory">Default org directory and agenda file directory</h4>

<pre><code class="language-emacs-lisp">(setq
 org-directory &quot;~/my_org/&quot;
 org-agenda-files '(&quot;~/my_org/&quot;)
 )
</code></pre>

<h4 id="org-notes-into-log-drawer">Org-notes into log drawer</h4>

<p>I&rsquo;ve been inserting org notes into the body of the text, since I do not make extensive use of the log book in the agenda and prefer active time stamped notes and the org-journal and org-projectile to take down &lsquo;linked&rsquo; log notes. However, I would like the notes to be inserted after any properties drawers.</p>

<pre><code class="language-emacs-lisp">(setq org-log-state-notes-insert-after-drawers t)
(setq org-log-redeadline 'time)
</code></pre>

<h4 id="enabling-org-capture-and-org-protocol"><span class="org-todo todo TODO">TODO</span> Enabling org capture and org protocol</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 08:55]  </span></span>  <br />
Need to actually get org-capture via external browser protocol working. Not sure if I need to require org-capture in scimax.</li>
</ul>

<p>Source: <a href="http://www.diegoberrocal.com/blog/2015/08/19/org-protocol/" target="_blank">http://www.diegoberrocal.com/blog/2015/08/19/org-protocol/</a></p>

<pre><code class="language-emacs-lisp">(require 'org-capture)
(require 'org-protocol)
</code></pre>

<h4 id="ensuring-archive-files-are-also-in-org-mode"><span class="org-todo todo TODO">TODO</span> Ensuring archive files are also in org mode</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 08:31]  </span></span>  <br />
check whether the add-to-list function is sufficient.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(add-hook 'find-file-hooks
          (lambda ()
            (let ((file (buffer-file-name)))
              (when (and file (equal (file-name-directory file) &quot;~/my_org/archive/&quot;))
                (org-mode)))))

(add-to-list 'auto-mode-alist '(&quot;\\.org_archive\\'&quot; . org-mode))
</code></pre>

<h4 id="archiving-mechanics">Archiving mechanics</h4>

<p>Archive organised by Top level headings in the original file and with Tag preservation</p>

<pre><code class="language-emacs-lisp">
(defun my-org-inherited-no-file-tags ()
  (let ((tags (org-entry-get nil &quot;ALLTAGS&quot; 'selective))
        (ltags (org-entry-get nil &quot;TAGS&quot;)))
    (mapc (lambda (tag)
            (setq tags
                  (replace-regexp-in-string (concat tag &quot;:&quot;) &quot;&quot; tags)))
          (append org-file-tags (when ltags (split-string ltags &quot;:&quot; t))))
    (if (string= &quot;:&quot; tags) nil tags)))

(defadvice org-archive-subtree (around my-org-archive-subtree-low-level activate)
  (let ((tags (my-org-inherited-no-file-tags))
        (org-archive-location
         (if (save-excursion (org-back-to-heading)
                             (&gt; (org-outline-level) 1))
             (concat (car (split-string org-archive-location &quot;::&quot;))
                     &quot;::* &quot;
                     (car (org-get-outline-path)))
           org-archive-location)))
    ad-do-it
    (with-current-buffer (find-file-noselect (org-extract-archive-file))
      (save-excursion
        (while (org-up-heading-safe))
        (org-set-tags-to tags)))))
</code></pre>

<h4 id="org-wiki"><span class="org-todo todo TEST">TEST</span> org-wiki</h4>

<ul>
<li><p>Installation</p>

<pre><code class="language-elisp">(let ((url &quot;https://raw.githubusercontent.com/caiorss/org-wiki/master/org-wiki.el&quot;))
      (with-current-buffer (url-retrieve-synchronously url)
    (goto-char (point-min))
    (re-search-forward &quot;^$&quot;)
    (delete-region (point) (point-min))
    (kill-whole-line)
    (package-install-from-buffer)))
</code></pre></li>

<li><p>Setup</p>

<pre><code class="language-emacs-lisp">(require 'org-wiki)
(setq org-wiki-location &quot;~/my_projects/ds-job-search&quot;)
</code></pre></li>
</ul>

<h4 id="org-id">org-id</h4>

<p>Using the org-id for reference to headings ensures that even if the heading changes, the links will still work.</p>

<p>In addition, I would like an org id to be created every time the capture is used. This facilitates using packages like org-brain which rely extensively on org-id&rsquo;s.</p>

<pre><code class="language-emacs-lisp">(require 'org-id)
(setq org-id-link-to-org-use-id t)
(org-link-set-parameters &quot;id&quot; :store #'org-id-store-link)
(org-link-set-parameters &quot;nb&quot; :store nil)
;; Update ID file .org-id-locations on startup
;; This adds too much time to startup
;; (org-id-update-id-locations)

(setq org-id-method (quote uuidgen))
(add-hook 'org-capture-prepare-finalize-hook 'org-id-get-create)
</code></pre>

<h4 id="setting-custom-keywords-with-fast-access"><span class="org-todo todo TODO">TODO</span> Setting custom keywords with fast access</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-12 Tue 12:19] </span></span> <br />
This requires a complete reload of org to come in effect.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(setq org-todo-keywords
      '((sequence &quot;TODO(t)&quot; &quot;NEXT(n)&quot; &quot;CANCEL(c)&quot; &quot;POSTPONED(p)&quot; &quot;|&quot; &quot;DONE(d)&quot; &quot;STABLE(s)&quot;)
        (sequence &quot;TEST(T)&quot; &quot;BUG(b)&quot; &quot;KNOWNCAUSE(k)&quot; &quot;|&quot; &quot;FIXED(f)&quot;)
        (sequence &quot;|&quot; )))
</code></pre>

<h4 id="refiling-settings">Refiling settings</h4>

<ul>
<li><p>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-07-06 Sat 13:56] </span></span> <br />
Helm org rifle is mapped to the refile command. See Helm section.</p></li>

<li><p>Refile target level for search</p>

<pre><code class="language-emacs-lisp">(setq org-refile-targets
      '((nil :maxlevel . 4)
        (org-agenda-files :maxlevel . 4)))
</code></pre></li>

<li><p><span class="org-todo todo TODO">TODO</span>  General refile settings</p>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 08:33]  </span></span>  <br />
Needs further review and optimisation</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(setq org-refile-use-outline-path 'file)
(setq org-outline-path-complete-in-steps nil)
(setq org-reverse-note-order t)
(setq org-refile-allow-creating-parent-nodes 'confirm)
</code></pre></li>

<li><p><a href="#refiling">Also refer Refiling hydra</a></p></li>
</ul>

<h4 id="agenda-mechanics">Agenda mechanics</h4>

<ul>
<li><p>Weekday starts on Monday</p>

<pre><code class="language-emacs-lisp">(setq org-agenda-start-on-weekday 1)
</code></pre></li>

<li><p>Display heading tags farther to the right</p>

<pre><code class="language-emacs-lisp">(setq org-agenda-tags-column -150)
</code></pre></li>

<li><p><span class="org-todo todo TODO">TODO</span>  Agenda customisation</p>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 08:26]  </span></span>  <br />
Need to clear up the search functions, enabling complete search in journal files. Archive and some external directories are included, since they are explictly in org mode.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">
(setq org-agenda-custom-commands
      '((&quot;c&quot; &quot;Simple agenda view&quot;
         ((tags &quot;recurr&quot;
        ((org-agenda-overriding-header &quot;Recurring Tasks&quot;)))
          (agenda &quot;&quot;)
          (todo &quot;&quot;)))
        (&quot;o&quot; agenda &quot;Office mode&quot; ((org-agenda-tag-filter-preset '(&quot;-course&quot; &quot;-habit&quot; &quot;-someday&quot; &quot;-book&quot; &quot;-emacs&quot;))))
        (&quot;qc&quot; tags &quot;+commandment&quot;)
    (&quot;e&quot; tags &quot;+org&quot;)
    (&quot;w&quot; agenda &quot;Today&quot; ((org-agenda-tag-filter-preset '(&quot;+work&quot;))))
    (&quot;W&quot; todo-tree &quot;WAITING&quot;)
    (&quot;q&quot; . &quot;Custom queries&quot;) ;; gives label to &quot;q&quot;
    (&quot;d&quot; . &quot;ds related&quot;)     ;; gives label to &quot;d&quot;
    (&quot;ds&quot; agenda &quot;Datascience&quot; ((org-agenda-tag-filter-preset '(&quot;+datascience&quot;))))
    (&quot;qw&quot; agenda &quot;MRPS&quot; ((org-agenda-tag-filter-preset '(&quot;+canjs&quot;))))
    (&quot;qa&quot; &quot;Archive tags search&quot; org-tags-view &quot;&quot;
         ((org-agenda-files (file-expand-wildcards &quot;~/my_org/*.org*&quot;))))
        (&quot;j&quot; &quot;Journal Search&quot; search &quot;&quot;
         ''((org-agenda-text-search-extra-files (file-expand-wildcards &quot;~/my_org/journal/&quot;))))
        (&quot;S&quot; search &quot;&quot;
     ((org-agenda-files '(&quot;~/my_org/&quot;))
      (org-agenda-text-search-extra-files )))
    )
      )
</code></pre></li>

<li><p>Include gpg files in agenda generation</p>

<p>Source: <a href="https://emacs.stackexchange.com/questions/36542/include-org-gpg-files-in-org-agenda" target="_blank">https://emacs.stackexchange.com/questions/36542/include-org-gpg-files-in-org-agenda</a></p>

<pre><code class="language-emacs-lisp">;; (unless (string-match-p &quot;\\.gpg&quot; org-agenda-file-regexp)
;;   (setq org-agenda-file-regexp
;;         (replace-regexp-in-string &quot;\\\\\\.org&quot; &quot;\\\\.org\\\\(\\\\.gpg\\\\)?&quot;
;;                                   org-agenda-file-regexp)))

(setq org-agenda-file-regexp &quot;\\`\\\([^.].*\\.org\\\|[0-9]\\\{8\\\}\\\(\\.gpg\\\)?\\\)\\'&quot;)
</code></pre></li>

<li><p>Expanding search locations</p>

<p>I initially included my journal location to the agenda search. However it is very slow compared to using grep/rgrep/ag. Therefore, the agenda full text search is now limited to the project directory and the org-brain directory. The snippet below enables searching recursively within folders.</p>

<pre><code class="language-emacs-lisp">(setq org-agenda-text-search-extra-files '(agenda-archives))

(setq org-agenda-text-search-extra-files (apply 'append
                        (mapcar
                         (lambda (directory)
                           (directory-files-recursively
                            directory org-agenda-file-regexp))
                         '(&quot;~/my_projects/&quot; &quot;~/my_org/brain/&quot;))))
</code></pre></li>

<li><dl>
<dt><span class="org-todo todo TODO">TODO</span>  Adding org archive for text search. Optimise this</dt>
</dl>

<p>:CREATED:  <span class="timestamp-wrapper"><span class="timestamp">&lt;2019-02-07 Thu 08:29&gt;</span></span></p>

<pre><code class="language-emacs-lisp">(setq org-agenda-text-search-extra-files '(agenda-archives))
</code></pre></li>

<li><p>Enable default fuzzy search like in google</p>

<pre><code class="language-emacs-lisp">(setq org-agenda-search-view-always-boolean t)
</code></pre></li>

<li><p>Enable sticky agenda</p>

<p>Experimenting with this setting.</p>

<pre><code class="language-emacs-lisp">(setq org-agenda-sticky t)
</code></pre></li>

<li><p><span class="org-todo done DONE">DONE</span>  org-habit</p>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-12 Tue 13:20] </span></span> <br />
Adding a require has brought org-habit back on track.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 09:50] </span></span> <br />
Appears the use-package config for org-habit is not correct and there is some issue in downloading it as a package.</li>
</ul>

<p>I want to shift the org habit graph in the agenda further out right so as to leave enough room for the headings to be visible.</p>

<pre><code class="language-emacs-lisp">(require 'org-habit)
(setq org-habit-graph-column 90)
</code></pre></li>
</ul>

<h4 id="capture-mechanics"><span class="org-todo todo TODO">TODO</span> Capture mechanics</h4>

<ul>
<li><p>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 08:24]  </span></span>  <br />
need to clean this up.</p></li>

<li><p>Removing timestamp from datetree captures</p>

<pre><code class="language-emacs-lisp">(setq org-datetree-add-timestamp nil)
</code></pre></li>

<li><p>Capture templates</p>

<pre><code class="language-emacs-lisp">(setq org-capture-templates
      '((&quot;t&quot; &quot;Task entry&quot;)
        (&quot;tt&quot; &quot;Todo - Fast&quot; entry (file+headline &quot;~/my_org/todo-global.org&quot; &quot;@Inbox&quot;)
     &quot;** TODO %?&quot;)
        (&quot;tj&quot; &quot;Todo -Job journal&quot; entry (file+olp+datetree &quot;~/my_org/ds-jobs.org&quot; &quot;Job Search Journal&quot;)
     &quot;** TODO %?&quot;)
        (&quot;te&quot; &quot;Todo - Emacs&quot; entry (file+headline &quot;~/my_org/todo-global.org&quot; &quot;@Emacs notes and tasks&quot;)
         &quot;** TODO %?&quot;)
        (&quot;td&quot; &quot;Datascience inbox&quot; entry (file+headline &quot;~/my_org/datascience.org&quot; &quot;@Datascience @Inbox&quot;)
         &quot;** TODO %?&quot;)
    (&quot;tm&quot; &quot;Mail Link Todo&quot; entry (file+headline &quot;~/my_org/todo-global.org&quot; &quot;@Inbox&quot;)
     &quot;** TODO Mail: %a &quot;)
        (&quot;l&quot; &quot;Link/Snippet&quot; entry (file+headline &quot;~/my_org/link_database.org&quot; &quot;.UL Unfiled Links&quot;)
         &quot;** %? %a &quot;)
        (&quot;e&quot; &quot;Protocol info&quot; entry ;; 'w' for 'org-protocol'
         (file+headline &quot;~/my_org/link_database.org&quot; &quot;.UL Unfiled Links&quot;)
         &quot;*** %a, \n %:initial&quot;)
        (&quot;n&quot; &quot;Notes&quot;)
        (&quot;ne&quot; &quot;Emacs note&quot; entry (file+headline &quot;~/my_org/todo-global.org&quot; &quot;@Emacs notes and tasks&quot;)
         &quot;** %?\n:PROPERTIES:\n:CREATED: [%&lt;%Y-%m-%d %a %H:%M&gt;]\n:END:&quot;)
        (&quot;nn&quot; &quot;General note&quot; entry (file+headline &quot;~/my_org/notes.org&quot; &quot;@NOTES&quot;)
         &quot;** %?\n:PROPERTIES:\n:CREATED: [%&lt;%Y-%m-%d %a %H:%M&gt;]\n:END:&quot;)
        (&quot;nd&quot; &quot;Datascience note&quot; entry (file+headline &quot;~/my_org/datascience.org&quot; &quot;@Datascience @Notes&quot;)
         &quot;** %?\n:PROPERTIES:\n:CREATED: [%&lt;%Y-%m-%d %a %H:%M&gt;]\n:END:&quot;)
        (&quot;g&quot; &quot;BGR stuff&quot;)
        (&quot;gi&quot; &quot;Inventory project&quot;)
        (&quot;gil&quot; &quot;Daily log&quot; entry (file+olp+datetree &quot;~/my_org/bgr.org&quot; &quot;Inventory management Project&quot;) &quot;** %? %i&quot;)
        (&quot;C&quot; &quot;Commandment&quot; entry (file+datetree &quot;~/my_org/lifebook.org&quot; &quot;&quot;)
         &quot;** %? %i :commandment:&quot;)
        (&quot;J&quot; &quot;Job search&quot; entry (file+headline &quot;~/my_org/mrps_canjs.org&quot; &quot;MRPS #CANJS&quot;)
         &quot;** TODO %? %i &quot;)
        (&quot;w&quot; &quot;Website&quot; plain
         (function org-website-clipper)
         &quot;* %a %T\n&quot; :immediate-finish t)
        (&quot;j&quot; &quot;Journal entry&quot; entry (function org-journal-find-location)
         &quot;* %(format-time-string org-journal-time-format) %?&quot;)
        (&quot;i&quot; &quot;Whole article capture&quot; entry
         (file+headline &quot;~/my_org/full_article_archive.org&quot; &quot;&quot; :empty-lines 1)
         &quot;** %a, %T\n %:initial&quot; :empty-lines 1)
        (&quot;c&quot; &quot;Clocking capture&quot;)
        (&quot;ct&quot; &quot;Clock TODO&quot; entry (clock) &quot;** TODO %?&quot;)
        (&quot;cn&quot; &quot;Clock Note&quot; entry (clock) &quot;** %?\n:PROPERTIES:\n:CREATED: [%&lt;%Y-%m-%d %a %H:%M&gt;]\n:END:&quot;)
        (&quot;r&quot; &quot;Review note&quot; entry (file+weektree &quot;~/my_org/lifebook.org&quot; &quot;#Personal #Reviews&quot;)
         &quot;** %?\n:PROPERTIES:\n:CREATED: [%&lt;%Y-%m-%d %a %H:%M&gt;]\n:END:&quot;)
         ))
</code></pre></li>

<li><p><span class="org-todo todo TEST">TEST</span>  Closing org-capture frame on abort</p>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-03-13 Wed 07:35] </span></span> <br />
This basically ensures a clean exit in case of aborting a capture.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 08:53]  </span></span>  <br />
Needs further review.</li>
</ul>

<p>Source: <a href="http://stackoverflow.com/questions/23517372/hook-or-advice-when-aborting-org-capture-before-template-selection" target="_blank">http://stackoverflow.com/questions/23517372/hook-or-advice-when-aborting-org-capture-before-template-selection</a></p>

<pre><code class="language-emacs-lisp">(defadvice org-capture
    (after make-full-window-frame activate)
  &quot;Advise capture to be the only window when used as a popup&quot;
  (if (equal &quot;emacs-capture&quot; (frame-parameter nil 'name))
      (delete-other-windows)))

(defadvice org-capture-finalize
    (after delete-capture-frame activate)
  &quot;Advise capture-finalize to close the frame&quot;
  (if (equal &quot;emacs-capture&quot; (frame-parameter nil 'name))))

</code></pre></li>

<li><p><span class="org-todo todo TODO">TODO</span>  Controlling org-capture buffers</p>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-03-13 Wed 08:01] </span></span> <br />
This interferes with org-journal&rsquo;s capture format.</li>
</ul>

<p>I dislike the way org-capture disrupts my current window, and shows me the capture buffer, and the target buffer as well. I would prefer a small pop up window, and then a revert back to the existing windows once the capture is completed or aborted. However this does not seem possible without modifying Org-mode&rsquo;s source code. This is a workaround described at <a href="https://stackoverflow.com/questions/54192239/open-org-capture-buffer-in-specific-Window" target="_blank">https://stackoverflow.com/questions/54192239/open-org-capture-buffer-in-specific-Window</a> ,which partially resolves the issue by enabling just a single capture buffer.</p>

<pre><code class="language-emacs-lisp">
(defun my-org-capture-place-template-dont-delete-windows (oldfun args)
  (cl-letf (((symbol-function 'delete-other-windows) 'ignore))
    (apply oldfun args)))

(with-eval-after-load &quot;org-capture&quot;
  (advice-add 'org-capture-place-template :around 'my-org-capture-place-template-dont-delete-windows))
</code></pre></li>
</ul>

<h4 id="version-control-and-backup-of-files"><span class="org-todo todo TODO">TODO</span> version control and backup of files</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 08:15]  </span></span>  <br />
Need to check out how this works and whether this is still necessary, since I am using Git.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(setq delete-old-versions -1)
(setq version-control t)
</code></pre>

<h4 id="org-noter">org-noter</h4>

<blockquote>
<p>Org-noter’s purpose is to let you create notes that are kept in sync when you scroll through the document, but that are external to it - the notes themselves live in an Org-mode file. As such, this leverages the power of Org-mode (the notes may have outlines, latex fragments, babel, etc…) while acting like notes that are made inside the document. Also, taking notes is very simple: just press i and annotate away!</p>

<p><a href="https://github.com/weirdNox" target="_blank">Gonçalo Santos</a></p>
</blockquote>

<pre><code class="language-emacs-lisp">(use-package org-noter
  :ensure t
  :defer t
  :config
  (setq org-noter-set-auto-save-last-location t)
  )
</code></pre>

<h4 id="org-projectile"><span class="org-todo todo TODO">TODO</span> org-projectile</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 08:42]  </span></span>  <br />
need to optimise further and convert to use-package style. Also need a way to capture Notes from projects, in addition to tasks.</li>
</ul>

<p>Starting off with the basic configuration posted in org-projectile github repo.</p>

<pre><code class="language-emacs-lisp">(use-package org-projectile
  :ensure t
  :bind ((&quot;C-c n p&quot; . org-projectile-project-todo-completing-read)
         (&quot;C-c c&quot; . org-capture))
  :config
  (setq org-projectile-projects-file
        &quot;~/my_org/project-tasks.org&quot;)
  ;; (setq org-agenda-files (append org-agenda-files (org-projectile-todo-files))) ;; Not necessary as my task projects are a part of the main org folder
  (push (org-projectile-project-todo-entry) org-capture-templates)
  )
</code></pre>

<h4 id="org-gcal-customisation"><span class="org-todo todo TODO">TODO</span> org-gcal customisation</h4>

<h4 id="property-customisation"><span class="org-todo todo TODO">TODO</span> Property customisation</h4>

<ul>
<li><p><span class="org-todo todo TEST">TEST</span>  Optimise CREATED and PLANNED property tags</p>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 09:10]  </span></span>  <br />
Needs further review and optimisation.</li>
</ul>

<p>Using an active date tag on the heading itself makes the org document look ugly, and makes navigation difficult. This is better entered into a property drawer. Two properties should work well - CREATED (inactive date-time tag) and PLANNED (active date-time tag). This will enable me to filter based on property in the future and easily archive older or irrelevant tasks. When the task is shifted or postponed, only the PLANNED property is changed, leaving clear reference of the created date.</p>

<p>The above is implemented only for tasks with a TODO heading. For now, I want to test using Notes with an inactive date-time tag, which can be individually setup via the capture templates. The attempt is to have a clear separation between tasks and notes.</p>

<p>This is a modified version of the snippet at <a href="https://emacs.stackexchange.com/questions/35751/how-to-add-a-created-field-to-any-todo-task" target="_blank">https://emacs.stackexchange.com/questions/35751/how-to-add-a-created-field-to-any-todo-task</a></p>

<pre><code class="language-emacs-lisp">(defun sr/log-todo-creation-date (&amp;rest ignore)
  &quot;Log TODO creation time in the property drawer under the key 'CREATED'.&quot;
  (when (and (org-get-todo-state)
             (not (org-entry-get nil &quot;CREATED&quot;)))
    (org-entry-put nil &quot;CREATED&quot; (format-time-string &quot;[%Y-%m-%d %a]&quot;))
    (org-entry-put nil &quot;PLANNED&quot; (format-time-string (cdr org-time-stamp-formats)))
    ))

(advice-add 'org-insert-todo-heading :after #'sr/log-todo-creation-date)
(advice-add 'org-insert-todo-heading-respect-content :after #'sr/log-todo-creation-date)
(advice-add 'org-insert-todo-subheading :after #'sr/log-todo-creation-date)
(advice-add 'org-capture :after #'sr/log-todo-creation-date)
(advice-add 'org-projectile-project-todo-completing-read :after #'sr/log-todo-creation-date)

;; (require 'org-expiry)
;; ;; Configure it a bit to my liking
;; (setq
;;  org-expiry-created-property-name &quot;CREATED&quot; ; Name of property when an item is created
;;  org-expiry-inactive-timestamps   nil         ; Don't have everything in the agenda view
;;  )

;; (defun mrb/insert-created-timestamp()
;;   &quot;Insert a CREATED property using org-expiry.el for TODO entries&quot;
;;   (org-expiry-insert-created)
;;   (org-back-to-heading)
;;   (org-end-of-line)
;;   (insert &quot; &quot;)
;;   )

;; ;; Whenever a TODO entry is created, I want a timestamp
;; ;; Advice org-insert-todo-heading to insert a created timestamp using org-expiry
;; (defadvice org-insert-todo-heading (after mrb/created-timestamp-advice activate)
;;   &quot;Insert a CREATED property using org-expiry.el for TODO entries&quot;
;;   (mrb/insert-created-timestamp)
;;   )
;; ;; Make it active
;; (ad-activate 'org-insert-todo-heading)

;; (require 'org-capture)

;; (defadvice org-capture (after mrb/created-timestamp-advice activate)
;;   &quot;Insert a CREATED property using org-expiry.el for TODO entries&quot;
;;                      ; Test if the captured entry is a TODO, if so insert the created
;;                      ; timestamp property, otherwise ignore
;;   (mrb/insert-created-timestamp))
;; ;;  (when (member (org-get-todo-state) org-todo-keywords-1)
;; ;;    (mrb/insert-created-timestamp)))
;;   (ad-activate 'org-capture)
</code></pre></li>

<li><p>Enabling adding tags in the capture window</p>

<pre><code class="language-emacs-lisp">;; Add feature to allow easy adding of tags in a capture window
(defun mrb/add-tags-in-capture()
  (interactive)
  &quot;Insert tags in a capture window without losing the point&quot;
  (save-excursion
    (org-back-to-heading)
    (org-set-tags)))
;; Bind this to a reasonable key
(define-key org-capture-mode-map &quot;\C-c\C-t&quot; 'mrb/add-tags-in-capture)
</code></pre></li>
</ul>

<h4 id="org-web-clipper"><span class="org-todo todo TODO">TODO</span> org web clipper</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 09:11]  </span></span>  <br />
This works fine now. However, it would be nice to find a way to strip the headers and menu columns and other unnecessary information before capture.</li>
</ul>

<p>Source: <a href="http://www.bobnewell.net/publish/35years/webclipper.html" target="_blank">http://www.bobnewell.net/publish/35years/webclipper.html</a></p>

<pre><code class="language-emacs-lisp">;; org-eww and org-w3m should be in your org distribution, but see
;; note below on patch level of org-eww.
(require 'org-eww)
(require 'org-w3m)
(defvar org-website-page-archive-file &quot;~/my_org/full_article_archive.org&quot;)
(defun org-website-clipper ()
  &quot;When capturing a website page, go to the right place in capture file,
   but do sneaky things. Because it's a w3m or eww page, we go
   ahead and insert the fixed-up page content, as I don't see a
   good way to do that from an org-capture template alone. Requires
   Emacs 25 and the 2017-02-12 or later patched version of org-eww.el.&quot;
  (interactive)

  ;; Check for acceptable major mode (w3m or eww) and set up a couple of
  ;; browser specific values. Error if unknown mode.

  (cond
   ((eq major-mode 'w3m-mode)
    (org-w3m-copy-for-org-mode))
   ((eq major-mode 'eww-mode)
    (org-eww-copy-for-org-mode))
   (t
    (error &quot;Not valid -- must be in w3m or eww mode&quot;)))

  ;; Check if we have a full path to the archive file.
  ;; Create any missing directories.

  (unless (file-exists-p org-website-page-archive-file)
    (let ((dir (file-name-directory org-website-page-archive-file)))
      (unless (file-exists-p dir)
        (make-directory dir))))

  ;; Open the archive file and yank in the content.
  ;; Headers are fixed up later by org-capture.

  (find-file org-website-page-archive-file)
  (goto-char (point-max))
  ;; Leave a blank line for org-capture to fill in
  ;; with a timestamp, URL, etc.
  (insert &quot;\n\n&quot;)
  ;; Insert the web content but keep our place.
  (save-excursion (yank))
  ;; Don't keep the page info on the kill ring.
  ;; Also fix the yank pointer.
  (setq kill-ring (cdr kill-ring))
  (setq kill-ring-yank-pointer kill-ring)
  ;; Final repositioning.
  (forward-line -1)
  )
</code></pre>

<h4 id="org-babel">Org-babel</h4>

<ul>
<li><p>Loading language base</p>

<pre><code class="language-emacs-lisp">(org-babel-do-load-languages
 'org-babel-load-languages
 '((clojure . t)
   (scheme . t)
   (sqlite . t)
   (R . t)
   (lisp . t)
   (sql .  t)
   ;(jupyter . t)
   )
 )
</code></pre></li>

<li><p>Clojure and cider</p>

<pre><code class="language-emacs-lisp">(require 'cider)
(setq org-babel-clojure-backend 'cider)
</code></pre></li>
</ul>

<h4 id="org-trello"><span class="org-todo todo TODO">TODO</span> Org-trello</h4>

<h4 id="clock-customisation">Clock Customisation</h4>

<ul>
<li><p>Continuous clocking + punch in/out approach</p>

<p>This approach and code snippets are adapted (and shamelessly borrowed) from <a href="http://doc.norang.ca/org-mode.html" target="_blank">Bernt Hansen&rsquo;s approach</a>. While Bernt follows a complex approach of clocking into parent tasks - my current workflow favors clocking in directly to set clocking headlines within projects, which are placed in my org-projectile todo task file.</p>

<p>I have a default continuous clock after punching in (defined by org-id) which will cater to general re-organisation, including capturing notes, refiling , email etc. Other tasks or even mini projects can be directly clocked into when required. These mini-projets are often just located within my org-agenda files and not as a separate git repositoy. Every time I am on my computer, whether on Emacs or not, I would like the automatic clock to capture time, unless it is being clocked to a specific project.</p>

<ul>
<li><p>Defining default Task</p>

<pre><code class="language-emacs-lisp">(defvar sr/organization-task-id &quot;a8712a47-a648-477f-bdbf-d6004a0cc70b&quot;)

(defun sr/clock-in-organization-task-as-default ()
  (interactive)
  (org-with-point-at (org-id-find sr/organization-task-id 'marker)
    (org-clock-in '(16))))
</code></pre></li>

<li><p>Punch in</p>

<p>Bernt Hansen shares that he has a default punch in and punch out task that keeps the clock on all day. I think this will work for me as well. Other than work and projects, most of the time I am tinkering with Emacs, or writing a journal note or trying to re-organise my stuff. By using a punch in and out, I can track how much time I am engaged with a computer, other than specific projects.</p>

<pre><code class="language-emacs-lisp">(defun sr/punch-in (arg)
    (interactive &quot;p&quot;)
  (setq sr/keep-clock-running t)
  (sr/clock-in-organization-task-as-default))
</code></pre></li>

<li><p>Punch Out</p>

<pre><code class="language-emacs-lisp">(defun sr/punch-out ()
  (interactive)
  (setq sr/keep-clock-running nil)
  (when (org-clock-is-active)
    (org-clock-out))
  )
</code></pre></li>

<li><p>Advising clock Out</p>

<pre><code class="language-emacs-lisp">(defun sr/clock-out-maybe ()
  (when (and sr/keep-clock-running
             (not org-clock-clocking-in)
             (marker-buffer org-clock-default-task)
             (not org-clock-resolving-clocks-due-to-idleness))
    (sr/clock-in-organization-task-as-default)))

(add-hook 'org-clock-out-hook 'sr/clock-out-maybe 'append)
</code></pre></li>
</ul></li>

<li><p><span class="org-todo todo TEST">TEST</span>  org-mru-clock</p>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-03-14 Thu 10:16] </span></span> <br />
Issue is with the org-mru-select-recent-task command - it doesn&rsquo;t jump to the specified task and always pesudo messes up the format of the headings.</li>
</ul>

<p>This is a handy package to quickly select past tasks which have been clocked in.</p>

<pre><code class="language-emacs-lisp">(use-package org-mru-clock
  :ensure t
  :bind ((&quot;M-s 1&quot; . org-mru-clock-in)
          (&quot;C-c C-x C-j&quot; . org-mru-clock-select-recent-task))
  :init
  (setq org-mru-clock-how-many 100
        org-mru-clock-completing-read #'ivy-completing-read))
</code></pre></li>

<li><p>Do not log or consider 0 Clocks</p>

<pre><code class="language-emacs-lisp">(setq org-clock-out-remove-zero-time-clocks t)
</code></pre></li>

<li><p>set idle timer for clocked task</p>

<pre><code class="language-emacs-lisp">;; setting idle timer to 15 minutes
(setq org-clock-idle-time 15)
</code></pre></li>

<li><p>Show clocked task history and enable re-clocking</p>

<p>Source: <a href="https://writequit.org/denver-emacs/presentations/2017-04-11-time-clocking-with-org.html" target="_blank">link</a></p>

<p>This should enable me to quickly clock back into specific tasks.</p>

<pre><code class="language-emacs-lisp">;; Show lot of clocking history so it's easy to pick items off the `C-c I` list
(setq org-clock-history-length 23)

(defun eos/org-clock-in ()
  (interactive)
  (org-clock-in '(4)))

(global-set-key (kbd &quot;C-c I&quot;) #'eos/org-clock-in)
(global-set-key (kbd &quot;C-c O&quot;) #'org-clock-out)
</code></pre></li>
</ul>

<h4 id="org-brain">Org-Brain <code>[<sup>1</sup>&frasl;<sub>2</sub>]</code></h4>

<blockquote>
<p>org-brain implements a variant of concept mapping in Emacs, using org-mode.</p>

<p>You can think of org-brain as a combination of a wiki and a mind map, where each wiki page / mind map node is an org-mode file which resides in your org-brain-path, or a headline with an ID property in one of those files. These are called entries. Entries can be linked together, and you can then view the network of links as a mind map, using M-x org-brain-visualize</p>

<p><a href="https://github.com/Kungsgeten/org-brain" target="_blank">org-brain on github</a></p>
</blockquote>

<ul>
<li><p><span class="org-todo done STABLE">STABLE</span>  Basic setup along with org-id</p>

<p>Since org-brain requires the org id for a heading to be recognized and displayed, it is convenient to have capture and refile mechanisms that create the org-id if the heading does not have it.</p>

<p>Further streamlining is necessary as such.</p>

<pre><code class="language-emacs-lisp">(use-package org-brain
  :ensure t
  :init
  (setq org-brain-path &quot;~/my_org/brain/&quot;)
  ;; ;; For Evil users
  ;; (with-eval-after-load 'evil
  ;;   (evil-set-initial-state 'org-brain-visualize-mode 'emacs))
  :config
  (setq org-id-track-globally t)
  (setq org-id-locations-file &quot;~/my_org/emacs_meta/.org-id-locations&quot;)
  (push '(&quot;b&quot; &quot;Brain&quot; plain (function org-brain-goto-end)
          &quot;* %i%?\n:PROPERTIES:\n:CREATED: [%&lt;%Y-%m-%d %a %H:%M&gt;]\n:END:&quot; :empty-lines 1)
        org-capture-templates)
  (setq org-brain-visualize-default-choices 'all)
  (setq org-brain-title-max-length 12)
  (add-hook 'org-brain-refile 'org-id-get-create)
  (global-set-key (kbd &quot;M-s v&quot;) #'org-brain-visualize)
  )

</code></pre></li>
</ul>

<h4 id="org-journal">Org journal</h4>

<ul>
<li><p>Base config</p>

<pre><code class="language-emacs-lisp">(use-package org-journal
  :ensure t
  :defer t
  :custom
  (org-journal-dir &quot;~/my_org/journal/&quot;)
  (org-journal-file-format &quot;%Y%m%d&quot;)
  (org-journal-enable-agenda-integration t)
  )
</code></pre></li>

<li><p>setting org-capture template for Journal</p>

<pre><code class="language-emacs-lisp">(defun org-journal-find-location ()
  ;; Open today's journal, but specify a non-nil prefix argument in order to
  ;; inhibit inserting the heading; org-capture will insert the heading.
  (org-journal-new-entry t)
  ;; Position point on the journal's top-level heading so that org-capture
  ;; will add the new entry as a child entry.
  (goto-char (point-min)))
</code></pre></li>

<li><p><span class="org-todo todo TODO">TODO</span>  Figure out easy encryption approach for org journal</p></li>
</ul>

<h4 id="org-sticky-header"><span class="org-todo todo TEST">TEST</span> Org sticky Header <code>[0/1]</code></h4>

<ul class="task-list">
<li><label><input type="checkbox" disabled class="task-list-item"> Explore further options : example full path or customised path to be shown</label></li>
</ul>

<blockquote>
<p>This package displays in the header-line the Org heading for the node that’s at the top of the window. This way, if the heading for the text at the top of the window is beyond the top of the window, you don’t forget which heading the text belongs to. The display can be customized to show just the heading, the full outline path, or the full outline path in reverse.</p>

<p><a href="https://github.com/alphapapa/org-sticky-header/blob/master/README.org" target="_blank">org-sticky-header</a></p>
</blockquote>

<p>This is especially useful for free form longer Documentation.</p>

<pre><code class="language-emacs-lisp">(use-package org-sticky-header
  :ensure t
  :config
  (org-sticky-header-mode)
  )

</code></pre>

<h4 id="org-wild-notifier"><span class="org-todo todo TEST">TEST</span> Org wild Notifier</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-03-28 Thu 13:48] </span></span> <br />
This seems to be able to do exactly what I am looking for. However there are unexplained errors while starting up the package.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(use-package org-wild-notifier
  :ensure t
  :custom
  (require 'org-wild-notifier)
  (org-wild-notifier-mode)
  )
</code></pre>

<h4 id="org-to-rst-exporter"><span class="org-todo todo TEST">TEST</span> Org to RST Exporter</h4>

<p>It is useful to be able to export to the RST format to develop documentation for projects and host with the sphinx or readthedocs platform.</p>

<p>This platform is actually pleasant to browse through documentation and has good search facilities as well.</p>

<pre><code class="language-emacs-lisp">(use-package ox-rst
  :ensure t
  :defer t
  :config
  (require 'ox-rst)
  )
</code></pre>

<h4 id="org-to-slack-exporter"><span class="org-todo todo TEST">TEST</span> Org to Slack exporter</h4>

<p>This should prove handy as I write almost all my responses within Org mode and copy this into Slack.</p>

<pre><code class="language-emacs-lisp">(use-package ox-slack
  :ensure t
  :defer
  :config
  (require 'ox-slack)
  )
</code></pre>

<h4 id="ox-pandoc"><span class="org-todo todo TEST">TEST</span> ox-pandoc</h4>

<pre><code class="language-emacs-lisp">(use-package ox-pandoc
  :ensure t
  :defer
  :config
  (require 'ox-pandoc)
  )
</code></pre>

<h4 id="setting-the-columns-for-the-column-view">Setting the columns for the column view</h4>

<pre><code class="language-emacs-lisp">(setq org-columns-default-format &quot;%50ITEM %TODO %3PRIORITY %10TAGS %17Effort(Estimated Effort){:} %12CLOCKSUM&quot;)
</code></pre>

<h4 id="org-sidebar"><span class="org-todo todo TEST">TEST</span> org-sidebar</h4>

<pre><code class="language-emacs-lisp">(use-package org-sidebar
  :ensure t
  :defer nil
  )

</code></pre>

<h2 id="stable-extras">Stable Extras</h2>

<p>These are packages and code snippets that I know to be working fine. Some still have rough edges and these are marked test. However not having these will not break my experience. Over time, some of these may make it to the core stable group.</p>

<h3 id="time-machine-for-git"><span class="org-todo todo TODO">TODO</span> Time machine for git</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-08 Fri 13:21] </span></span> <br />
Launched by <code>M-x git-timemachine</code>, this lets you navigate through the commit history with a single key press! This is especially awesome for tracking changes to a particular snippet of code.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 09:30]  </span></span>  <br />
Need to evaluate this. The purpose is for stepping through the history of a file recorded in git. This should be very interesting.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(use-package git-timemachine
  :ensure t)
</code></pre>

<h3 id="loading-external-packages">Loading External Packages</h3>

<p>Loading external packages:  there are some packages which are not avaialble on MELPA and have to be loaded via cloning their git Repositories. This is especially relevant to new packages.</p>

<pre><code class="language-emacs-lisp">(let ((default-directory  &quot;~/scimax/user/external_packages/&quot;))
  (normal-top-level-add-subdirs-to-load-path))
</code></pre>

<h3 id="memento-mori">memento mori</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-07-15 Mon 09:37] </span></span> <br />
This package requires the birthdate to be specified, therefore it is included in the encrypted section of my personal config. A sample configuration is provided for reference.</li>
</ul>

<p>This is a cool little package that displays your age with double decimal digits. A good reminder to get productive.</p>

<pre><code class="language-emacs-lisp">(use-package memento-mori
  :ensure t
  :defer nil
  :config
  (setq memento-mori-birth-date &quot;2018-12-31&quot;)
  (memento-mori-mode 1)
  )
</code></pre>

<p>#+END_SRC</p>

<h3 id="treemacs-setup"><span class="org-todo todo TEST">TEST</span> Treemacs Setup</h3>

<pre><code class="language-emacs-lisp">(use-package treemacs
  :ensure t
  :defer t
  :init
  (with-eval-after-load 'winum
    (define-key winum-keymap (kbd &quot;M-0&quot;) #'treemacs-select-window))
  :config
  (progn
    (setq treemacs-collapse-dirs
          (if (executable-find &quot;python3&quot;) 3 0)
          treemacs-deferred-git-apply-delay      0.5
          treemacs-display-in-side-window        t
          treemacs-eldoc-display                 t
          treemacs-file-event-delay              5000
          treemacs-file-follow-delay             0.2
          treemacs-follow-after-init             t
          treemacs-git-command-pipe              &quot;&quot;
          treemacs-goto-tag-strategy             'refetch-index
          treemacs-indentation                   2
          treemacs-indentation-string            &quot; &quot;
          treemacs-is-never-other-window         nil
          treemacs-max-git-entries               5000
          ttreemacs-no-png-images                 nil
          treemacs-no-delete-other-windows       t
          treemacs-project-follow-cleanup        nil
          treemacs-persist-file                  &quot;~/my_org/emacs_meta/.treemacs-persist&quot;
          treemacs-recenter-distance             0.1
          treemacs-recenter-after-file-follow    nil
          treemacs-recenter-after-tag-follow     nil
          treemacs-recenter-after-project-jump   'always
          treemacs-recenter-after-project-expand 'on-distance
          treemacs-show-cursor                   nil
          treemacs-show-hidden-files             t
          treemacs-silent-filewatch              nil
          treemacs-silent-refresh                nil
          treemacs-sorting                       'alphabetic-desc
          treemacs-space-between-root-nodes      t
          treemacs-tag-follow-cleanup            t
          treemacs-tag-follow-delay              1.5
          treemacs-width                         35)

    ;; The default width and height of the icons is 22 pixels. If you are
    ;; using a Hi-DPI display, uncomment this to double the icon size.
    ;;(treemacs-resize-icons 44)

    ;;(treemacs-follow-mode t)
    (treemacs-filewatch-mode t)
    (treemacs-fringe-indicator-mode t)
    (pcase (cons (not (null (executable-find &quot;git&quot;)))
                 (not (null (executable-find &quot;python3&quot;))))
      (`(t . t)
       (treemacs-git-mode 'deferred))
      (`(t . _)
       (treemacs-git-mode 'simple))))
  :bind
  (:map global-map
        (&quot;M-0&quot;       . treemacs-select-window)
        (&quot;M-s t t&quot; . treemacs)
        (&quot;M-s t w&quot; . treemacs-switch-workspace)
        ;; (&quot;C-x t 1&quot;   . treemacs-delete-other-windows)
        ;; (&quot;C-x t t&quot;   . treemacs)
        ;; (&quot;C-x t B&quot;   . treemacs-bookmark)
        ;; (&quot;C-x t C-t&quot; . treemacs-find-file)
        ;; (&quot;C-x t M-t&quot; . treemacs-find-tag)
        )
  )

</code></pre>

<pre><code class="language-emacs-lisp">;; (use-package treemacs-evil
;;   :after treemacs evil
;;   :ensure t)

(use-package treemacs-projectile
  :after treemacs projectile
  :ensure t)

(use-package treemacs-icons-dired
  :after treemacs dired
  :ensure t
  :config (treemacs-icons-dired-mode))

(use-package treemacs-magit
  :after treemacs magit
  :ensure t)
</code></pre>

<h3 id="scimax-customisations">Scimax customisations</h3>

<p>These are settings which custmise scimax specific variables. These are separated out here so that it becomes easier to try out Emacs configurations that are outside scimax.</p>

<h4 id="redefining-scimax-apps">Redefining scimax-apps</h4>

<ul>
<li><p><span class="org-todo todo TEST">TEST</span>  explorer</p>

<pre><code class="language-emacs-lisp">(defun explorer (&amp;optional path)
  &quot;Open Finder or Windows Explorer in the current directory.&quot;
  (interactive (list (if (buffer-file-name)
             (file-name-directory (buffer-file-name))
               (expand-file-name default-directory))))
  (cond
   ((string= system-type &quot;gnu/linux&quot;)
    (shell-command &quot;nautilus&quot;))
   ((string= system-type &quot;darwin&quot;)
    (shell-command (format &quot;open -b com.apple.finder%s&quot;
               (if path (format &quot; \&quot;%s\&quot;&quot;
                        (file-name-directory
                         (expand-file-name path))) &quot;&quot;))))
   ((string= system-type &quot;windows-nt&quot;)
    (shell-command (format &quot;explorer %s&quot;
               (replace-regexp-in-string
                &quot;/&quot; &quot;\\\\&quot;
                path))))))

</code></pre></li>

<li><p>bash</p>

<pre><code class="language-emacs-lisp">;; (defun sr/bash (args) ...)

(defun sr/bash (&amp;optional path)
  &quot;Open a bash window.
PATH is optional, and defaults to the current directory.
commands (`scimax-user-bash-app')
&quot;
  (interactive (list (if (buffer-file-name)
             (file-name-directory (buffer-file-name))
               (expand-file-name default-directory))))
  (cond
   ((string= system-type &quot;gnu/linux&quot;)
    (shell-command &quot;xfce4-terminal&quot;))
   ((string= system-type &quot;darwin&quot;)
    (shell-command
     (format &quot;open -b com.apple.iterm2&quot;
         (if path (format &quot; \&quot;%s\&quot;&quot; (expand-file-name path)) &quot;&quot;))))
   ((string= system-type &quot;windows-nt&quot;)
    (shell-command &quot;start \&quot;\&quot; \&quot;%SYSTEMDRIVE%\\Program Files\\Git\\bin\\bash.exe\&quot; --login &amp;&quot;))))

(advice-add 'bash :override #'sr/bash)
</code></pre>

<pre><code class="language-emacs-lisp">(advice-remove 'bash #'scimax-user-bash-app)
</code></pre></li>
</ul>

<h4 id="scimax-autoformat-and-corrections">Scimax autoformat and corrections</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-03-07 Thu 16:24] </span></span> <br />
Changing keyboard shortcut for equation insertion as this interferes with i3wm functioning.</li>
</ul>

<p>Note: any expansion can be undone with C-/</p>

<pre><code class="language-emacs-lips">(add-hook 'org-mode-hook 'scimax-autoformat-mode)
(scimax-toggle-abbrevs 'scimax-month-abbreviations +1)
(scimax-toggle-abbrevs 'scimax-transposition-abbreviations +1)
(scimax-toggle-abbrevs 'scimax-misc-abbreviations nil)
(scimax-toggle-abbrevs 'scimax-weekday-abbreviations +1)
(global-set-key (kbd &quot;s-q&quot;) 'org-latex-math-region-or-point)
</code></pre>

<h4 id="scimax-hotspots">Scimax Hotspots</h4>

<pre><code class="language-emacs-lisp">(setq scimax-user-hotspot-commands
      '((&quot;Agenda All&quot; . (lambda () (org-agenda &quot;&quot; &quot;a&quot;)))
        (&quot;Agenda Office&quot; . (lambda () (org-agenda &quot;&quot; &quot;o&quot;)))
	(&quot;Mail&quot; . (lambda ()
                    (if (get-buffer &quot;*mu4e-headers*&quot;)
                        (progn
                          (switch-to-buffer &quot;*mu4e-headers*&quot;)
                          (delete-other-windows))
                      (mu4e))))
        (&quot;Bookmarks&quot; . (lambda () (helm-source-bookmarks)))
        (&quot;Reload custom config - org babel&quot; . (lambda () (org-babel-load-file (expand-file-name &quot;sr-config.org&quot; user-emacs-directory))))
        )
      )

(setq scimax-user-hotspot-locations
      '(
        (&quot;CV Org&quot; . &quot;~/org_cv/CV_Shreyas_Ragavan.org&quot;)
        (&quot;tmrs&quot;  .  &quot;~/my_org/tmsr.org&quot;)
        (&quot;scd - scimax dir&quot; . &quot;~/scimax/&quot; )
        (&quot;scu - scimax user dir&quot; . &quot;~/scimax/user/&quot;)
        ( &quot;sco - scimax org conf&quot; . &quot;~/scimax/user/sr-config.org&quot;)
        (&quot;blog&quot; . &quot;~/my_org/blog-book.org&quot;)
	(&quot;github&quot; . &quot;~/my_gits/&quot;)
        (&quot;project&quot; . &quot;~/my_projects/&quot;)
        (&quot;cheatsheet&quot; . &quot;~/my_projects/ds_cheatsheets/&quot;)
        (&quot;passwords&quot; . &quot;~/my_org/secrets.org.gpg&quot;)
        (&quot;references&quot; . &quot;~/Dropbox/bibliography/references.bib&quot;)
        )
      )
</code></pre>

<h4 id="scimax-elfeed">Scimax Elfeed</h4>

<pre><code class="language-emacs-lisp">(require 'scimax-elfeed)
</code></pre>

<h4 id="scimax-notebook-directory">Scimax Notebook directory</h4>

<pre><code class="language-emacs-lisp">(setq nb-notebook-directory &quot;~/my_projects/&quot;)
</code></pre>

<h4 id="scimax-notebook">Scimax notebook</h4>

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;M-s n&quot;) 'nb-open)
</code></pre>

<h4 id="changing-key-for-scimax-body">Changing key for scimax/body</h4>

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;C-\\&quot;) 'scimax/body)
</code></pre>

<h4 id="scimax-python"><span class="org-todo todo TODO">TODO</span> Scimax Python</h4>

<pre><code class="language-emacs-lisp">(require 'scimax-org-babel-python)
(require 'ob-ipython)
(require 'scimax-ob)
(require 'scimax-org-babel-ipython-upstream)
(setq ob-ipython-exception-results nil)
(scimax-ob-ipython-turn-on-eldoc)
</code></pre>

<h4 id="message-loaded-scimax-customisations">Message : loaded scimax Customisations</h4>

<pre><code class="language-emacs-lisp">(message &quot;Loaded scimax customisations&quot;)
</code></pre>

<h3 id="swiper">Swiper</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-09-24 Tue 10:31] </span></span> <br />
Swiper and below keybinding is included by default in scimax.</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 16:50] </span></span> <br />
I use swiper for a general search. However <a href="#helm-swoop">helm-swoop</a> is awesome.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(global-set-key (kbd &quot;C-s&quot;) 'swiper)
(setq ivy-display-style 'fancy)

;; advise swiper to recenter on exit
(defun bjm-swiper-recenter (&amp;rest args)
  &quot;recenter display after swiper&quot;
  (recenter)
  )
(advice-add 'swiper :after #'bjm-swiper-recenter)

(message &quot;Loaded Swiper customisation&quot;)
</code></pre>

<h3 id="writeroom-customisations">Writeroom customisations</h3>

<p>The goal is to enable a customised zen writing mode, especially facilitating blog posts and other longer forms of writing. As of now, there are customisations for the width, and calling the art-bollocks mode when writeroom mode is enabled.</p>

<pre><code class="language-emacs-lisp">(with-eval-after-load 'writeroom-mode
  (define-key writeroom-mode-map (kbd &quot;C-s-,&quot;) #'writeroom-decrease-width)
  (define-key writeroom-mode-map (kbd &quot;C-s-.&quot;) #'writeroom-increase-width)
  (define-key writeroom-mode-map (kbd &quot;C-s-=&quot;) #'writeroom-adjust-width))

(advice-add 'text-scale-adjust :after
	    #'visual-fill-column-adjust)

;;  loading artbollocks whenever the writeroom mode is called in particular.
(autoload 'artbollocks-mode &quot;artbollocks-mode&quot;)
(add-hook 'writeroom-mode-hook 'artbollocks-mode)

(message &quot;Loaded writeroom customisations&quot;)
</code></pre>

<h3 id="ess-configuration"><span class="org-todo todo TEST">TEST</span> ESS configuration</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-19 Tue 10:14] </span></span> <br />
Using the tabviewer application for Antergos.<a href="https://bbs.archlinux.org/viewtopic.php?id=156295" target="_blank">link</a></li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-09 Sat 12:36] </span></span> <br />
Set this up with use-package and explore further customisations. As of now, I use yasnippet to insert commonly used operators like the assign and pipe operators.</li>
</ul>

<p>Note:  I use the TAD application to view CSV files. It is a cross platform application that is a lot faster than launching a spreadsheet based program.</p>

<pre><code class="language-emacs-lisp">(use-package ess
  :ensure t
  :config
  (require 'ess)
  (use-package ess-R-data-view)
  (use-package polymode)
  (setq ess-describe-at-point-method nil)
  (setq ess-switch-to-end-of-proc-buffer t)
  (setq ess-rutils-keys +1)
  (setq ess-eval-visibly 'nil)
  (setq ess-use-flymake +1)
  (setq ess-use-company t)
  (setq ess-history-file &quot;~/.Rhistory&quot;)
  (setq ess-use-ido t)
  (setq ess-roxy-hide-show-p t)
  ;;(speedbar-add-supported-extension &quot;.R&quot;)
  (setq comint-scroll-to-bottom-on-input t)
  (setq comint-scroll-to-bottom-on-output t)
  (setq comint-move-point-for-output t)
  )

;; The following chunk is taken from: https://github.com/syl20bnr/spacemacs/blob/master/layers/%2Blang/ess/packages.el
;;; Follow Hadley Wickham's R style guide
(setq ess-first-continued-statement-offset 2
      ess-continued-statement-offset 0
      ess-expression-offset 2
      ess-nuke-trailing-whitespace-p t
      ess-default-style 'DEFAULT)


;; Adding Poly-R package

(use-package poly-R
  :ensure t
  )
;; The following chunk is taken from antonio's answer from https://stackoverflow.com/questions/16172345/how-can-i-use-emacs-ess-mode-with-r-markdown
(defun rmd-mode ()
  &quot;ESS Markdown mode for rmd files.&quot;
  (interactive)
  (require 'poly-R)
  (require 'poly-markdown)
  (poly-markdown+r-mode))

(use-package ess-view
  :ensure t
  :config
  (require 'ess-view)
  (if (system-type-is-darwin)
      (setq ess-view--spreadsheet-program
            &quot;/Applications/Tad.app/Contents/MacOS/Tad&quot;
            )
    )
  (if (system-type-is-gnu)
      (setq ess-view--spreadsheet-program
            &quot;tad&quot;
            )
    )
  )

;; This is taken and slightly modified from the ESS manual
;; The display config is similar to that of Rstudio

(setq display-buffer-alist
      `((&quot;*R Dired&quot;
         (display-buffer-reuse-window display-buffer-in-side-window)
         (side . right)
         (slot . -1)
         (window-width . 0.33)
         (reusable-frames . nil))
        (&quot;*R&quot;
         (display-buffer-reuse-window display-buffer-at-bottom)
         (window-width . 0.35)
         (reusable-frames . nil))
        (&quot;*Help&quot;
         (display-buffer-reuse-window display-buffer-in-side-window)
         (side . right)
         (slot . 1)
         (window-width . 0.33)
         (reusable-frames . nil))))

(message &quot;Loaded ESS configuration&quot;)
</code></pre>

<h3 id="ox-reveal-presentations">ox-reveal - presentations</h3>

<pre><code class="language-emacs-lisp">(use-package ox-reveal
  :ensure ox-reveal
  :defer nil
  :config
  (setq org-reveal-root &quot;http://cdn.jsdelivr.net/reveal.js/3.0.0/&quot;)
  (setq org-reveal-mathjax t)
  )

(use-package htmlize
  :ensure t)

(message &quot;Loaded ox-reveal cust&quot;)
</code></pre>

<h3 id="deft">Deft</h3>

<blockquote>
<p>Deft is an Emacs mode for quickly browsing, filtering, and editing directories of plain text notes, inspired by Notational Velocity. It was designed for increased productivity when writing and taking notes by making it fast and simple to find the right file at the right time and by automating many of the usual tasks such as creating new files and saving files.</p>

<p><a href="https://jblevins.org/projects/deft/" target="_blank">Deft project</a></p>
</blockquote>

<pre><code class="language-emacs-lisp">(use-package deft
  :bind (&quot;&lt;f8&gt; d&quot; . deft)
  :commands (deft)
  :config (setq deft-directory &quot;~/my_org/brain/&quot;
                deft-extensions '(&quot;md&quot; &quot;org&quot; &quot;txt&quot;)
                deft-recursive t
                ))
</code></pre>

<h3 id="w3m-customisation">w3m customisation</h3>

<p>w3m is a suprisingly able browser that is able to cater to most websites, except those that are a little too rich with java and etc. Being within Emacs, and launching almost instantly with significantly less overhead in terms of RAM no matter how many tabs are open - it is also easy to customise the behavior as needed and is an excellent method of distraction free browsing.</p>

<p>However, it pays to have handy shortcuts to open a link in the default browser of the OS. This is especially to cater to heavier websites. The w3m package would need to be installed using the package manager of the OS to use w3m.</p>

<p>A few snippets were sourced from: <a href="http://beatofthegeek.com/2014/02/my-setup-for-using-emacs-as-web-browser.html" target="_blank">http://beatofthegeek.com/2014/02/my-setup-for-using-emacs-as-web-browser.html</a></p>

<h4 id="setting-default-browser-to-be-w3m">Setting default browser to be w3m</h4>

<pre><code class="language-emacs-lisp">;;(setq browse-url-browser-function 'browse-url-default-browser)
(setq browse-url-browser-function 'w3m-goto-url-new-session)
(setq w3m-default-display-inline-images t)
</code></pre>

<h4 id="appending-http-to-web-addresses-entered-by-hand"><span class="org-todo todo TODO">TODO</span> Appending HTTP to web addresses entered by hand</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 07:40]  </span></span>  <br />
Check whether this is necessary</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">;;when I want to enter the web address all by hand
(defun w3m-open-site (site)
  &quot;Opens site in new w3m session with 'http://' appended&quot;
  (interactive
   (list (read-string &quot;Enter website address(default: w3m-home):&quot; nil nil w3m-home-page nil )))
  (w3m-goto-url-new-session
   (concat &quot;http://&quot; site)))
</code></pre>

<h4 id="changing-w3m-shortcuts-for-better-tabbed-browsing">Changing w3m shortcuts for better tabbed browsing</h4>

<p>Source:  Sacha Chua : <a href="http://sachachua.com/blog/2008/09/emacs-and-w3m-making-tabbed-browsing-easier/" target="_blank">http://sachachua.com/blog/2008/09/emacs-and-w3m-making-tabbed-browsing-easier/</a></p>

<pre><code class="language-emacs-lisp">(eval-after-load 'w3m
  '(progn
     (define-key w3m-mode-map &quot;q&quot; 'w3m-previous-buffer)
     (define-key w3m-mode-map &quot;w&quot; 'w3m-next-buffer)
     (define-key w3m-mode-map &quot;x&quot; 'w3m-close-window)))
</code></pre>

<h4 id="default-external-browser-settings"><span class="org-todo todo TODO">TODO</span> Default external browser settings</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 07:37]  </span></span>  <br />
Need to have this change depending whether the OS is Linux or Mac OS</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(defun wicked/w3m-open-current-page-in-default-browser ()
  &quot;Open the current URL in Mozilla Firefox.&quot;
  (interactive)
  (browse-url-default-browser w3m-current-url)) ;; (1)

(defun wicked/w3m-open-link-or-image-in-default-browser ()
  &quot;Open the current link or image in Firefox.&quot;
  (interactive)
  (browse-url-default-browser (or (w3m-anchor) ;; (2)
                                         (w3m-image)))) ;; (3)

(eval-after-load 'w3m
  '(progn
     (define-key w3m-mode-map &quot;o&quot; 'wicked/w3m-open-current-page-in-default-browser)
     (define-key w3m-mode-map &quot;O&quot; 'wicked/w3m-open-link-or-image-in-default-browser)))
</code></pre>

<h4 id="wikipedia-search">Wikipedia search</h4>

<pre><code class="language-emacs-lisp">(defun wikipedia-search (search-term)
  &quot;Search for SEARCH-TERM on wikipedia&quot;
  (interactive
   (let ((term (if mark-active
                   (buffer-substring (region-beginning) (region-end))
                 (word-at-point))))
     (list
      (read-string
       (format &quot;Wikipedia (%s):&quot; term) nil nil term)))
   )
  (browse-url
   (concat
    &quot;http://en.m.wikipedia.org/w/index.php?search=&quot;
    search-term
    ))
  )
</code></pre>

<h4 id="access-hacker-news">Access Hacker News</h4>

<pre><code class="language-emacs-lisp">(defun hn ()
  (interactive)
  (browse-url &quot;http://news.ycombinator.com&quot;))
</code></pre>

<h4 id="open-specific-browser-depending-on-the-url"><span class="org-todo todo TODO">TODO</span> Open specific browser depending on the URL</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-03-07 Thu 11:59] </span></span> <br />
This is worth setting up. It would be convenient for frequently visited websites like reddit and others, to open in the external browser, especially as they do not render well within w3m.</li>
</ul>

<p>Source : <a href="http://ergoemacs.org/emacs/emacs%5Fset%5Fdefault%5Fbrowser.Html" target="_blank">http://ergoemacs.org/emacs/emacs%5Fset%5Fdefault%5Fbrowser.Html</a></p>

<pre><code class="language-emacs-lisp">;; use browser depending on url
(setq
 browse-url-browser-function
 '(
  (&quot;wikipedia\\.org&quot; . browse-url-firefox)
  (&quot;github&quot; . browse-url-chromium)
  (&quot;thefreedictionary\\.com&quot; . eww-browse-url)
  (&quot;.&quot; . browse-url-default-browser)
  ))
</code></pre>

<h3 id="frog-jump-buffer">frog jump buffer</h3>

<p>This package provides a nifty little pop up containing a list of buffers (that can be filtered), and enables jumping to the specified buffer with just a single key press.</p>

<pre><code class="language-emacs-lisp">(use-package frog-jump-buffer
  :ensure t
  :defer nil
  :config
)
</code></pre>

<h3 id="easy-kill-and-easy-mark">easy-kill and easy mark</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-04-25 Thu 07:48] </span></span> <br />
The line selection, &lsquo;e&rsquo;, does not pick up lines separated with a full stop. Instead the entire paragraph is being selected.</li>
</ul>

<blockquote>
<p>Provide commands easy-kill and easy-mark to let users kill or mark things easily.</p>

<p><a href="https://github.com/leoliu/easy-kill" target="_blank">Github</a></p>
</blockquote>

<p>This looks like a very handy package. The easiest way to get started is to cycle through the selections and use the help. Activate the command with <code>M-w</code> and <code>?</code> for help which provides the list of key bindings. Alternately, use <code>SPC</code> to cycle through the options available.</p>

<pre><code class="language-emacs-lisp">(use-package easy-kill
  :config
  (global-set-key [remap kill-ring-save] 'easy-kill)
  (global-set-key [remap mark-sexp] 'easy-mark)
  )
</code></pre>

<h3 id="eyebrowse"><span class="org-todo todo TEST">TEST</span> eyebrowse</h3>

<p>This has to be combined with desktop.el or some other method to enable persistence across sessions. However, this does work well for a single session.</p>

<pre><code class="language-emacs-lisp">(use-package eyebrowse
  :ensure t
  :defer nil
  :config
  (setq eyebrowse-mode-line-separator &quot; &quot;
        eyebrowse-new-workspace t)
  (eyebrowse-mode 1)
  )
</code></pre>

<h3 id="hugo">Hugo</h3>

<h4 id="function-to-create-specific-properties-for-a-blog-post">Function to create specific properties for a blog post</h4>

<p>Modified this function from:</p>

<ul>
<li><p><span class="org-todo todo TODO">TODO</span>  Defining content directory</p>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-07 Thu 08:06]  </span></span>  <br />
Need to check if this is still required since I have switche to ox-hugo</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(defvar hugo-content-dir &quot;~/my_gits/hugo-sr/content/post/&quot;
  &quot;Path to Hugo's content directory&quot;)
</code></pre></li>

<li><p>Ensuring properties exist and creating if they dont exist</p>

<pre><code class="language-emacs-lisp">(defun hugo-ensure-property (property)
  &quot;Make sure that a property exists. If not, it will be created.
Returns the property name if the property has been created, otherwise nil.&quot;
  (org-id-get-create)
  (if (org-entry-get nil property)
      nil
    (progn (org-entry-put nil property &quot;&quot;)
           property)))

(defun hugo-ensure-properties ()

  (require 'dash)
  (let ((current-time (format-time-string
                       (org-time-stamp-format t t) (org-current-time)))
        first)
    (save-excursion
      (setq first (--first it (mapcar #'hugo-ensure-property
                                      '(&quot;HUGO_TAGS&quot; &quot;HUGO_CATEGORIES&quot;))))
      (unless (org-entry-get nil &quot;HUGO_DATE&quot;)
        (org-entry-put nil &quot;EXPORT_DATE&quot; current-time)))
    (org-entry-put nil &quot;EXPORT_FILE_NAME&quot; (org-id-get-create))
    (org-entry-put nil &quot;EXPORT_HUGO_CUSTOM_FRONT_MATTER&quot; &quot;:profile false&quot;)
    (when first
      (goto-char (org-entry-beginning-position))
      ;; The following opens the drawer
      (forward-line 1)
      (beginning-of-line 1)
      (when (looking-at org-drawer-regexp)
        (org-flag-drawer nil))
      ;; And now move to the drawer property
      (search-forward (concat &quot;:&quot; first &quot;:&quot;))
      (end-of-line))
    first))
</code></pre></li>

<li><p>Hugo function calling the above</p>

<pre><code class="language-emacs-lisp">(defun hugo ()
  (interactive)
  (unless (hugo-ensure-properties)
    (let* ((type    (concat &quot;type = \&quot;&quot; (org-entry-get nil &quot;HUGO_TYPE&quot;) &quot;\&quot;\n&quot;))
           (date     (concat &quot;date = \&quot;&quot;
                             (format-time-string &quot;%Y-%m-%d&quot;
                                                 (apply 'encode-time
                                                        (org-parse-time-string
                                                         (org-entry-get nil &quot;HUGO_DATE&quot;))) t) &quot;\&quot;\n&quot;))
           (tags     (concat &quot;tags = [ \&quot;&quot;
                             (mapconcat 'identity
                                        (split-string
                                         (org-entry-get nil &quot;HUGO_TAGS&quot;)
                                         &quot;\\( *, *\\)&quot; t) &quot;\&quot;, \&quot;&quot;) &quot;\&quot; ]\n&quot;))
           (fm (concat &quot;+++\n&quot;
                       title
               type
                       date
                       tags
                       topics
                       &quot;+++\n\n&quot;))
           (coding-system-for-write buffer-file-coding-system)
           (backend  'md)
           (blog))
      ;; try to load org-mode/contrib/lisp/ox-gfm.el and use it as backend
      (if (require 'ox-gfm nil t)
          (setq backend 'gfm)
        (require 'ox-md))
      (setq blog (org-export-as backend t))
      ;; Normalize save file path
      (unless (string-match &quot;^[/~]&quot; file)
        (setq file (concat hugo-content-dir file))
        (unless (string-match &quot;\\.md$&quot; file)
          (setq file (concat file &quot;.md&quot;)))
        ;; save markdown
        (with-temp-buffer
          (insert fm)
          (insert blog)
          (untabify (point-min) (point-max))
          (write-file file)
          (message &quot;Exported to %s&quot; file))))))
</code></pre></li>
</ul>

<h4 id="ox-hugo-setup">ox-hugo setup</h4>

<pre><code class="language-emacs-lisp">(use-package ox-hugo
  :ensure t
  :defer t
  :after ox
  :custom
  (org-hugo--tag-processing-fn-replace-with-hyphens-maybe t)
  )
</code></pre>

<h2 id="testing">Testing</h2>

<p>These are packages and functions that I am exploring, and also ones that I can live without. i.e not having these packages functioning, will not make Emacs useless for me, however, having these snippets working could potentially improve my workflow in general.</p>

<p>Some of these snippets or packages are enabled and some are not. In the case of troubleshooting, I will disable</p>

<h3 id="scimax-cusomisations">Scimax cusomisations</h3>

<h4 id="scimax-journal-settings"><span class="org-todo todo TODO">TODO</span> Scimax journal settings</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-09-25 Wed 13:15] </span></span> <br />
Adding the shortcut to new entry does not work. This has to be refined.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">;; (setq scimax-journal-root-dir &quot;~/my_org/journal&quot;)
;;(require 'calendar)
;;(global-set-key (kbd &quot;M-s j&quot;) 'scimax-journal-new-entry)
</code></pre>

<h4 id="bibliography-settings-and-customisation"><span class="org-todo todo TODO">TODO</span> Bibliography settings and customisation</h4>

<p>This was setup a long time ago to convert past technical repots into org mode, with references made in correct technical style. This project is on hold.</p>

<pre><code class="language-emacs-lisp">(require 'doi-utils)
(require 'org-ref-wos)
(require 'org-ref-pubmed)
(require 'org-ref-arxiv)
(require 'org-ref-bibtex)
(require 'org-ref-pdf)
(require 'org-ref-url-utils)
(require 'org-ref-helm)

;; note and bib location

(setq org-ref-bibliography-notes &quot;~/my_org/references/references.org&quot;
      org-ref-bibliography-notes &quot;~/my_org/references/research_notes.org&quot;
      org-ref-default-bibliography '(&quot;~/my_org/references/references.bib&quot;)
      org-ref-pdf-directory &quot;~/my_org/references/pdfs/&quot;)

;; setting up helm-bibtex
(setq helm-bibtex-bibliography &quot;~/my_org/references/references.bib&quot;
      helm-bibtex-library-path &quot;~/my_org/org/references/pdfs&quot;
      helm-bibtex-notes-path &quot;~/my_org/references/research_notes.org&quot;)
</code></pre>

<h4 id="adding-actions-to-ivy"><span class="org-todo todo TEST">TEST</span> Adding actions to ivy</h4>

<pre><code class="language-emacs-lisp">(ivy-add-actions
 'projectile-completing-read
 '((&quot;b&quot; (lambda (x)
	  (bash x))  &quot;Open bash here.&quot;)
   (&quot;f&quot; (lambda (x)
	  (finder x))  &quot;Open Finder here.&quot;)
   (&quot;a&quot; (lambda (x)
	  (helm-do-ag x) &quot;helm do ag here.&quot;))))

</code></pre>

<h4 id="setting-hyper-key-for-the-mac"><span class="org-todo todo TEST">TEST</span> Setting Hyper key for the mac</h4>

<pre><code class="language-emacs-lisp">(if (system-name-is-darwin)
    (setq mac-)
  )

</code></pre>

<h4 id="org-db">org-Db</h4>

<blockquote>
<p>`org-db&rsquo; is an org-mode database. When it is active every org-mode file you visit will be indexed into a sqlite database. In each file, each headline with its title, tags and properties are stored, and every link in each file is stored.</p>

<p>This becomes useful because you can then search all of your org-files and jump to different locations.</p>

<p>Scimax help documentation</p>
</blockquote>

<pre><code class="language-emacs-lisp">(use-package emacsql-sqlite
  :ensure t
  :config
  (require 'org-db)
)
</code></pre>

<h3 id="tangle-org-mode-config-on-save"><span class="org-todo todo TODO">TODO</span> Tangle org mode config on save</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-08-28 Wed 13:44] </span></span> <br />
Though this is an after-save hook : there is something wrong with the method of tangling. Perhaps an older version of the file is being used. I have changed this to a tangle during the loading of Scimax.</li>
</ul>

<!--listend-->

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-14 Thu 13:14] </span></span> <br />
Need to add a condition of check: tangle if the file does not exist.</li>
</ul>

<p>Source: <a href="https://thewanderingcoder.com/2015/02/literate-emacs-configuration/" target="_blank">https://thewanderingcoder.com/2015/02/literate-emacs-configuration/</a></p>

<p>This is a nice code snippet to automate the tangling on saving the config. This saves time while starting up Emacs&hellip;</p>

<pre><code class="language-emacs-lisp">(defun sr/tangle-on-save-emacs-config-org-file()
  (interactive)
  (if (string= buffer-file-name (file-truename &quot;~/scimax/user/sr-config.org&quot;))
      (org-babel-tangle-file &quot;~/scimax/user/sr-config.org&quot; &quot;~/scimax/user/sr-config.el&quot;)
    )
  )

(defun sr/tangle-if-file-absent ()
  (interactive)
  (if nil  (file-exists-p &quot;~/scimax/user/sr-config.el&quot;)
    (org-babel-tangle-file  &quot;~/scimax/user/sr-config.org&quot; &quot;~/scimax/user/sr-config.el&quot;)
    )
  )
;; (add-hook 'after-save-hook 'sr/dotemacs-export)
(add-hook 'after-save-hook
          'sr/tangle-on-save-emacs-config-org-file)
</code></pre>

<h3 id="visual-line-and-visual-fill-column"><span class="org-todo todo TEST">TEST</span> Visual line and visual fill column</h3>

<pre><code class="language-emacs-lisp">(use-package visual-fill-column
  :ensure t
  :config
  (setq visual-fill-column-width 80)
  (setq global-visual-fill-column-mode 1)
  (setq global-visual-line-mode 1)
)

;;(add-hook 'visual-line-mode-hook #'visual-fill-column-mode)

</code></pre>

<h3 id="marking"><span class="org-todo todo TEST">TEST</span> Marking</h3>

<p>I want a way to efficiently mark a location in a long script and jump around these locations (forward and backwards). The <code>transient-mark-mode</code> and the different mark-rings need to be leveraged to do accomplish this. First step is to set a mark using <code>C-spc C-spc</code>.</p>

<p>Adopting the approach described at <a href="https://masteringemacs.org/article/fixing-mark-commands-transient-mark-mode" target="_blank">Mastering Emacs</a>. This enables a single key for a mark to activate and then deactivate, thus creating a mark.</p>

<pre><code class="language-emacs-lisp">(defun push-mark-no-activate ()
  &quot;Pushes `point' to `mark-ring' and does not activate the region
   Equivalent to \\[set-mark-command] when \\[transient-mark-mode] is disabled&quot;
  (interactive)
  (push-mark (point) t nil)
  (message &quot;Pushed mark to ring&quot;))

(global-set-key (kbd &quot;C-`&quot;) 'push-mark-no-activate)
</code></pre>

<p>The <code>tmm-menu</code> command&rsquo;s shortcut <code>M-`</code> is much better served by <code>M-x counsel-tmm</code> where search is possible.</p>

<pre><code class="language-emacs-lisp">(defun jump-to-mark ()
  &quot;Jumps to the local mark, respecting the `mark-ring' order.
  This is the same as using \\[set-mark-command] with the prefix argument.&quot;
  (interactive)
  (set-mark-command 1))
(global-set-key (kbd &quot;M-`&quot;) 'jump-to-mark)
</code></pre>

<h3 id="semantic-mode"><span class="org-todo todo TEST">TEST</span> Semantic Mode</h3>

<blockquote>
<p>Semantic is a package that provides language-aware editing commands based on &lsquo;source-code parsers&rsquo;. When enabled, each file you visit is automatically parsed.</p>

<p><a href="https://tuhdo.github.io/helm-intro.html" target="_blank">https://tuhdo.github.io/helm-intro.html</a></p>
</blockquote>

<pre><code class="language-emacs-lisp">(semantic-mode 1)
</code></pre>

<h3 id="sauron"><span class="org-todo todo TEST">TEST</span> Sauron</h3>

<pre><code class="language-emacs-lisp">(use-package sauron
  :ensure t
  :config
  (require 'sauron)
  (setq sauron-modules '(sauron-org sauron-notifications))
  )
</code></pre>

<h3 id="emacs-url-shortener">emacs url shortener</h3>

<p>Note that to use one of the url shortening services, an API access token will be needed. Currently, I am using bitly.</p>

<pre><code class="language-emacs-lisp">(use-package url-shortener
  :ensure t
  :defer t
  )
</code></pre>

<h3 id="free-keys">free-keys</h3>

<p>This seems to be a nifty little package that lists the key combinations that are not bound.</p>

<pre><code class="language-emacs-lisp">(use-package free-keys
  :defer t
  :ensure t
)
</code></pre>

<h3 id="zenburn-theme-exploration">Zenburn theme exploration</h3>

<p>For a long period, I was using the zenburn theme and had started customising it for my needs. However, I think leuven with a greyish background is really quite suitable. Even so, it&rsquo;s nice to have a dark theme available when required. I&rsquo;m keeping this around for tinkering down the line.</p>

<h4 id="disabling-leuven-and-loading-other-theme">Disabling leuven and loading other theme</h4>

<pre><code class="language-emacs-lisp">(disable-theme 'leuven)
;;(load-theme 'spacemacs-dark t)
(load-theme 'zenburn t)
</code></pre>

<h4 id="background-color-for-org-source-blocks"><span class="org-todo todo TEST">TEST</span> Background color for org source Blocks</h4>

<p>This is necessary due to the customisation in scimax</p>

<pre><code class="language-emacs-lisp">(set-face-background 'org-block-emacs-lisp &quot;black&quot;)
(set-face-background 'org-block-python &quot;black&quot;)
(set-face-background 'org-block-ipython &quot;black&quot;)
(set-face-background 'org-block &quot;black&quot;)
;; (set-face-background 'org-block-quote &quot;black&quot;)
</code></pre>

<h4 id="initial-setup-of-zenburn"><span class="org-todo todo TEST">TEST</span> Initial setup of Zenburn</h4>

<pre><code class="language-emacs-lisp">;; use variable-pitch fonts for some headings and titles
(setq zenburn-use-variable-pitch t)

;; scale headings in org-mode
(setq zenburn-scale-org-headlines t)

;; scale headings in outline-mode
(setq zenburn-scale-outline-headlines t)
</code></pre>

<h4 id="use-package-based-template-for-customising-zenburn"><span class="org-todo todo TODO">TODO</span> Use-package based template for customising zenburn</h4>

<p>Source: <a href="https://github.com/m-parashar/emax64/issues/5" target="_blank">https://github.com/m-parashar/emax64/issues/5</a></p>

<pre><code class="language-emacs-lisp">(use-package zenburn-theme
  :demand t
  :config
  (load-theme 'zenburn t)
  (set-face-attribute 'font-lock-comment-face nil :italic t)
  (set-face-attribute 'font-lock-doc-face nil :italic t)
  (zenburn-with-color-variables
    (set-face-attribute 'button nil :foreground zenburn-yellow-2)
    (set-face-attribute 'default nil
                        :background zenburn-bg-05
                        :height mp/font-size-default
                        :font mp/font-family)
    (set-face-attribute 'help-argument-name nil :foreground zenburn-orange :italic nil)
    (set-face-attribute 'hl-line nil :background zenburn-bg+1)
    (set-face-attribute 'header-line nil
                        :background zenburn-bg-1
                        :box `(:line-width 2 :color ,zenburn-bg-1)
                        :height mp/font-size-header-line)
    (set-face-attribute 'mode-line nil
                        :box `(:line-width 2 :color ,zenburn-bg-1)
                        :foreground zenburn-bg+3
                        :height mp/font-size-mode-line)
    (set-face-attribute 'mode-line-inactive nil
                        :box `(:line-width 2 :color ,zenburn-bg-05)
                        :foreground zenburn-bg+3
                        :height mp/font-size-mode-line)
    (set-face-attribute 'region nil
                        :background zenburn-fg-1
                        :distant-foreground 'unspecified)
    (set-face-attribute 'vertical-border nil :foreground zenburn-bg))

  ;; NOTE: See https://github.com/bbatsov/zenburn-emacs/issues/278.
  (zenburn-with-color-variables
    (mapc
     (lambda (face)
       (when (eq (face-attribute face :background) zenburn-bg)
         (set-face-attribute face nil :background 'unspecified)))
     (face-list))))
</code></pre>

<h4 id="setting-font-faces-for-headline-level">Setting font faces for headline level</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-03-28 Thu 07:09] </span></span> <br />
This is available as in-built settings for the zenburn theme. However, once the font is changed, the</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(custom-set-faces
 '(org-level-1 ((t (:inherit outline-1 :height 1.2))))
 '(org-level-2 ((t (:inherit outline-2 :height 1.1))))
 '(org-level-3 ((t (:inherit outline-3 :height 1.05))))
 '(org-level-4 ((t (:inherit outline-4 :height 1.00))))
 '(org-level-5 ((t (:inherit outline-5 :height .95))))
 )
</code></pre>

<h3 id="alfred-integration"><span class="org-todo todo TEST">TEST</span> Alfred Integration</h3>

<p>Source: <a href="https://github.com/jjasghar/alfred-org-capture" target="_blank">https://github.com/jjasghar/alfred-org-capture</a></p>

<pre><code class="language-emacs-lisp">(if (system-type-is-darwin)
    (progn
      ;;; Code:
      (defun make-orgcapture-frame ()
        &quot;Create a new frame and run org-capture.&quot;
        (interactive)
        (make-frame '((name . &quot;remember&quot;) (width . 80) (height . 16)
                      (top . 400) (left . 300)
                      (font . &quot;-apple-Monaco-medium-normal-normal-*-13-*-*-*-m-0-iso10646-1&quot;)
                      ))
        (select-frame-by-name &quot;remember&quot;)
        (org-capture))
      )
  )
</code></pre>

<h3 id="project-publishing-setup"><span class="org-todo todo TODO">TODO</span> Project publishing setup <code>[0/3]</code></h3>

<p>This is under construction and was initially started with the idea of having custom publishing settings for different projects. I was initially looking at this for publishing my hugo blog. However, the need has been negated with the excellent ox-hugo package.</p>

<h4 id="ox-tufte"><span class="org-todo todo TEST">TEST</span> ox-Tufte</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-07-04 Thu 11:20] </span></span> <br />
Minor experiments are completed with this package. However, detailed exploration is required to incorporate intoa  workflow.</li>
</ul>

<blockquote>
<p>This is an export backend for Org-mode that exports buffers to HTML that is compatible with Tufte CSS out of the box (meaning no CSS modifications needed).</p>

<p>It’s still a work-in-progress, but it works well right now.</p>

<p><a href="https://github.com/dakrone/ox-tufte" target="_blank">Github</a></p>
</blockquote>

<pre><code class="language-emacs-lisp">(use-package ox-tufte
  :defer t
  :config
  (require 'ox-tufte)
  )
</code></pre>

<h4 id="exporting-org-projects"><span class="org-todo todo TODO">TODO</span> Exporting org projects</h4>

<pre><code class="language-emacs-lisp">(
 setq org-publish-project-alist
 '(
   (&quot;org-repo&quot;
    :base-directory &quot;./&quot;
    :base-extension &quot;org&quot;
    :publishing-directory &quot;/Users/shreyas/my_projects/dotemacs&quot;
    :EXPORT_FILE_NAME &quot;README.org&quot;
    :recursive f
    :publishing-function org-html-publish-to-html
    ;; :html-head &quot;&lt;link rel=&quot;stylesheet&quot; href=&quot;http://dakrone.github.io/org2.css&quot; type=&quot;text/css&quot; /&gt;&quot;
    )

   (&quot;md&quot;
    :base-directory &quot;./&quot;
    :base-extension &quot;org&quot;
    :publishing-directory &quot;./export/&quot;
    :recursive t
    :publishing-function org-md-export-to-markdown
    )

   (&quot;Documentation - html + md&quot;
    :components (&quot;html-static&quot; &quot;md&quot; )
    )))
</code></pre>

<h4 id="function-for-exporting-dotemacs-config"><span class="org-todo todo TEST">TEST</span> Function for exporting dotemacs config <code>[<sup>1</sup>&frasl;<sub>3</sub>]</code></h4>

<ul class="task-list">
<li><label><input type="checkbox" disabled class="task-list-item"> Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-14 Thu 14:05] </span></span> <br />
Save the filename as variables.</label></li>
<li><label><input type="checkbox" checked disabled class="task-list-item"> Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-14 Thu 13:30] </span></span> <br />
Add a condition to check if the directory exists.</label></li>
<li><label><input type="checkbox" disabled class="task-list-item"> Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-10 Sun 07:16] </span></span> <br />
Add a line to revert target export files if they are open. Prefer exporting the org file rather than copying.</label></li>
</ul>

<p>This is the beginning of a function to perform 3 exports:</p>

<ol>
<li>Export to my hugo website as a part of my documentation (ox-hugo)</li>
<li>Copy the org file to my github repo.</li>
<li>Tangle the copied org file to the above github repository to have the script ready.</li>
</ol>

<p>Maintaining the documentation on my website does not make it easy to others to view the changes in the configuration and fork or download the same as an org file or emacs-lisp script. Therefore the config that I publish should be maintained in it&rsquo;s own repository.</p>

<p>As of now, I&rsquo;m calling this function from my Emacs config file, and need to improve the above workflow.</p>

<pre><code class="language-emacs-lisp">(defun sr/dotemacs-export()
  (interactive)
  &quot;If directories exist - exporting Org config to Hugo blog, and to Github repository org file and lisp&quot;

  (if (file-directory-p &quot;~/my_projects/dotemacs&quot;)
      (progn
        (copy-file &quot;~/scimax/user/sr-config.org&quot; &quot;~/my_projects/dotemacs/README.org&quot; &quot;OK-IF-ALREADY-EXISTS&quot;)
        (copy-file &quot;~/scimax/user/sr-config.el&quot; &quot;~/my_projects/dotemacs/config.el&quot; &quot;OK-IF-ALREADY-EXISTS&quot;)
        ;; (org-babel-tangle-file  &quot;~/my_projects/dotemacs/README.org&quot; &quot;~/my_projects/dotemacs/config.el&quot;)
        )
    )
  (if (file-directory-p &quot;~/hugo-sr&quot;)
      (progn
        (org-hugo-export-to-md)
        )
    )
  )
</code></pre>

<h3 id="docker"><span class="org-todo todo TEST">TEST</span> Docker</h3>

<p>I&rsquo;ve started playing with Docker, and need Emacs to take care of my workflows! :).</p>

<h4 id="docker-package">Docker package</h4>

<p>The <code>docker</code> package enables several commands, but does not seem to include syntax highlighting for docker files.</p>

<pre><code class="language-emacs-lisp">(use-package docker
  :ensure t
  :defer t
  :config
  (require 'docker)
)
</code></pre>

<h4 id="docker-compose-mode">docker-compose-mode</h4>

<pre><code class="language-emacs-lisp">(use-package docker-compose-mode
  :ensure t
  :defer t
  :config
  (require 'docker-compose-mode)
  )
</code></pre>

<h4 id="docker-file-mode">docker-file-mode</h4>

<p>This is required for syntax highlighting in dockerfiles.</p>

<pre><code class="language-emacs-lisp">(use-package dockerfile-mode
  :ensure t
  :defer t
  :config
  (require 'dockerfile-mode)
  (add-to-list 'auto-mode-alist
               '(&quot;Dockerfile\\&quot; . dockerfile-mode)
               )
  )
</code></pre>

<h3 id="org-bookmark-heading">org-bookmark-heading</h3>

<p>For some reason, the default bookmark behavior in org mode is that the bookmark is not linked to the org-id. This means that if the heading is shifted somewhere, the bookmark becomes useless! The remedy seems to be using the package org-bookmark-Heading</p>

<pre><code class="language-emacs-lisp">(use-package org-bookmark-heading
  :ensure t
  :config
  (require 'org-bookmark-heading)
)
</code></pre>

<h3 id="crux-basic-movement"><span class="org-todo todo TODO">TODO</span> Crux  - basic movement</h3>

<p>Source: <a href="https://jamiecollinson.com/blog/my-emacs-config/" target="_blank">https://jamiecollinson.com/blog/my-emacs-config/</a>
Contains functions from  Prelude. I should check this out in more detail.</p>

<p>Set C-a to move to the first non-whitespace character on a line, and then to toggle between that and the beginning of the line.</p>

<pre><code class="language-emacs-lisp">(use-package crux
  :ensure t
  :bind ((&quot;C-a&quot; . crux-move-beginning-of-line)))
</code></pre>

<h3 id="crypto-setup">Crypto setup</h3>

<h4 id="basic-crypto">Basic crypto</h4>

<pre><code class="language-emacs-lisp">(setq epa-file-encrypt-to &quot;shreyas@fastmail.com&quot;)
(require 'org-crypt)
(add-to-list 'org-modules 'org-crypt)
                                        ; Encrypt all entries before saving
(org-crypt-use-before-save-magic)
;;(setq org-tags-exclude-from-inheritance (quote (&quot;crypt&quot;)))
                                        ; GPG key to use for encryption. nil for symmetric encryption
;;(setq org-crypt-key nil)
(setq org-crypt-disable-auto-save t)
;;(setq org-crypt-tag-matcher &quot;locked&quot;)

(message &quot;Loaded crypto setup&quot;)
</code></pre>

<h4 id="setting-auth-sources">Setting auth sources</h4>

<p>This was prompted by this discussion <a href="https://emacs.stackexchange.com/questions/10207/how-to-get-org2blog-to-use-authinfo-gpg" target="_blank">https://emacs.stackexchange.com/questions/10207/how-to-get-org2blog-to-use-authinfo-gpg</a></p>

<p>I have modified it to my own file names.</p>

<pre><code class="language-emacs-lisp">(require 'auth-source)

(setq
 auth-sources '(default
                 &quot;secrets:session&quot;
                 &quot;secrets:Login&quot;
                 &quot;~/.gh.authinfo.gpg&quot;
                 &quot;~/.netrc.gpg&quot;
                 &quot;~/.bitly-access.token.gpg&quot;
                 )
 epa-file-cache-passphrase-for-symmetric-encryption t)

</code></pre>

<h4 id="github-token-access">github token access</h4>

<p>Source: <a href="https://emacs.stackexchange.com/questions/40994/using-auth-source-with-magit-and-bitbucket" target="_blank">https://emacs.stackexchange.com/questions/40994/using-auth-source-with-magit-and-bitbucket</a></p>

<p>Fill the out the following details before executing the script. Machine can be found be executing &lsquo;hostname&rsquo; in shell.</p>

<pre><code class="language-sh">cat &gt; ~/.gh.authinfo &lt;&lt; EOF
machine shrysr@github.com password ABCD
EOF
</code></pre>

<p><code>M-x epa-encrypt-file</code> and point towards the above file and choose your key for encryptions. This will generate the .gpg file.</p>

<p>Remove the original file when done.</p>

<pre><code class="language-shell">rm -f ~/.gh.authinfo
</code></pre>

<pre><code class="language-emacs-lisp">(setq magit-process-find-password-functions '(magit-process-password-auth-source))
</code></pre>

<h3 id="persp-projectile"><span class="org-todo todo TODO">TODO</span> Persp-projectile</h3>

<p><a href="https://github.com/howardabrams/dot-files/blob/master/emacs.org#perspective" target="_blank">Refer Howard&rsquo;s config snippet</a> to setup a test.</p>

<h3 id="lob"><span class="org-todo todo TODO">TODO</span> LOB</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-04-25 Thu 07:39] </span></span> <br />
Since shifting to using org-brain for permanent notes and snippets, I need to review this ingest.</li>
</ul>

<p>There are a bunch of scripts that I would like ingested into the Library of Babel to be available for ready use. In some cases, with specific and relatively simple actions these are useful, and generally easier to define that Emacs Functions.</p>

<pre><code class="language-emacs-lisp">(org-babel-lob-ingest &quot;~/my_projects/sr-snip-lob/README.org&quot;)
</code></pre>

<h3 id="hydras-and-some-custom-functions">Hydras and some custom functions</h3>

<h4 id="refiling">Refiling</h4>

<p>Adapted from <a href="https://emacs.stackexchange.com/questions/8045/org-refile-to-a-known-fixed-location" target="_blank">https://emacs.stackexchange.com/questions/8045/org-refile-to-a-known-fixed-location</a></p>

<p>source: <a href="https://gist.github.com/mm--/60e0790bcbf8447160cc87a66dc949ab" target="_blank">https://gist.github.com/mm--/60e0790bcbf8447160cc87a66dc949ab</a></p>

<p>Also see</p>

<pre><code class="language-emacs-lisp">
(defun my/refile (file headline &amp;optional arg)
  &quot;Refile to a specific location.

With a 'C-u' ARG argument, we jump to that location (see
`org-refile').

Use `org-agenda-refile' in `org-agenda' mode.&quot;
  (let* ((pos (with-current-buffer (or (get-buffer file) ;Is the file open in a buffer already?
				       (find-file-noselect file)) ;Otherwise, try to find the file by name (Note, default-directory matters here if it isn't absolute)
		(or (org-find-exact-headline-in-buffer headline)
		    (error &quot;Can't find headline `%s'&quot; headline))))
	 (filepath (buffer-file-name (marker-buffer pos))) ;If we're given a relative name, find absolute path
	 (rfloc (list headline filepath nil pos)))
    (if (and (eq major-mode 'org-agenda-mode) (not (and arg (listp arg)))) ;Don't use org-agenda-refile if we're just jumping
	(org-agenda-refile nil rfloc)
      (org-refile arg nil rfloc))))

(defun josh/refile (file headline &amp;optional arg)
  &quot;Refile to HEADLINE in FILE. Clean up org-capture if it's activated.

With a `C-u` ARG, just jump to the headline.&quot;
  (interactive &quot;P&quot;)
  (let ((is-capturing (and (boundp 'org-capture-mode) org-capture-mode)))
    (cond
     ((and arg (listp arg))	    ;Are we jumping?
      (my/refile file headline arg))
     ;; Are we in org-capture-mode?
     (is-capturing      	;Minor mode variable that's defined when capturing
      (josh/org-capture-refile-but-with-args file headline arg))
     (t
      (my/refile file headline arg)))
    (when (or arg is-capturing)
      (setq hydra-deactivate t))))

(defun josh/org-capture-refile-but-with-args (file headline &amp;optional arg)
  &quot;Copied from `org-capture-refile' since it doesn't allow passing arguments. This does.&quot;
  (unless (eq (org-capture-get :type 'local) 'entry)
    (error
     &quot;Refiling from a capture buffer makes only sense for `entry'-type templates&quot;))
  (let ((pos (point))
	(base (buffer-base-buffer (current-buffer)))
	(org-capture-is-refiling t)
	(kill-buffer (org-capture-get :kill-buffer 'local)))
    (org-capture-put :kill-buffer nil)
    (org-capture-finalize)
    (save-window-excursion
      (with-current-buffer (or base (current-buffer))
	(org-with-wide-buffer
	 (goto-char pos)
	 (my/refile file headline arg))))
    (when kill-buffer (kill-buffer base))))

(defmacro josh/make-org-refile-hydra (hydraname file keyandheadline)
  &quot;Make a hydra named HYDRANAME with refile targets to FILE.
KEYANDHEADLINE should be a list of cons cells of the form (\&quot;key\&quot; . \&quot;headline\&quot;)&quot;
  `(defhydra ,hydraname (:color blue :after-exit (unless (or hydra-deactivate
							     current-prefix-arg) ;If we're just jumping to a location, quit the hydra
						   (josh/org-refile-hydra/body)))
     ,file
     ,@(cl-loop for kv in keyandheadline
		collect (list (car kv) (list 'josh/refile file (cdr kv) 'current-prefix-arg) (cdr kv)))
     (&quot;q&quot; nil &quot;cancel&quot;)))

;;;;;;;;;;
;; Here we'll define our refile headlines
;;;;;;;;;;

(josh/make-org-refile-hydra josh/org-refile-hydra-file-ds
			    &quot;~/my_org/datascience.org&quot;
			    ((&quot;1&quot; . &quot;@Datascience @Inbox&quot;)
			     (&quot;2&quot; . &quot;@Datascience @Notes&quot;)))

(josh/make-org-refile-hydra josh/org-refile-hydra-file-bgr
			    &quot;~/my_org/bgr.org&quot;
			    ((&quot;1&quot; . &quot;#BGR #Inbox&quot;)
			     (&quot;2&quot; . &quot;#questions @ BGR&quot;)
                             (&quot;3&quot; . &quot;Inventory management Project&quot;)))

(josh/make-org-refile-hydra josh/org-refile-hydra-file-todoglobal
			    &quot;todo-global.org&quot;
			    ((&quot;1&quot; . &quot;;Emacs Stuff&quot;)
			     (&quot;2&quot; . &quot;;someday&quot;)))

(defhydra josh/org-refile-hydra (:foreign-keys run)
  &quot;Refile&quot;
  (&quot;a&quot; josh/org-refile-hydra-file-ds/body &quot;File A&quot; :exit t)
  (&quot;b&quot; josh/org-refile-hydra-file-bgr/body &quot;File B&quot; :exit t)
  (&quot;c&quot; josh/org-refile-hydra-file-todoglobal/body &quot;File C&quot; :exit t)
  (&quot;j&quot; org-refile-goto-last-stored &quot;Jump to last refile&quot; :exit t)
  (&quot;q&quot; nil &quot;cancel&quot;))

(global-set-key (kbd &quot;&lt;f8&gt; r&quot;) 'josh/org-refile-hydra/body)
</code></pre>

<h4 id="window-manipulation">Window manipulation</h4>

<p>Source : Hydra documentation</p>

<pre><code class="language-emacs-lisp">
;;  Hydras for window configuration. Using the deluxe
(defhydra hydra-window ()
  &quot;
Movement^^        ^Split^         ^Switch^		^Resize^
----------------------------------------------------------------
_h_ ←       	_v_ertical    	_b_uffer		_q_ X←
_j_ ↓        	_x_ horizontal	_f_ind files	_w_ X↓
_k_ ↑        	_z_ undo      	_a_ce 1		_e_ X↑
_l_ →        	_Z_ reset      	_s_wap		_r_ X→
_F_ollow		_D_lt Other   	_S_ave		max_i_mize
_SPC_ cancel	_o_nly this   	_d_elete
&quot;
  (&quot;h&quot; windmove-left )
  (&quot;j&quot; windmove-down )
  (&quot;k&quot; windmove-up )
  (&quot;l&quot; windmove-right )
  (&quot;q&quot; hydra-move-splitter-left)
  (&quot;w&quot; hydra-move-splitter-down)
  (&quot;e&quot; hydra-move-splitter-up)
  (&quot;r&quot; hydra-move-splitter-right)
  (&quot;b&quot; helm-mini)
  (&quot;f&quot; helm-find-files)
  (&quot;F&quot; follow-mode)
  (&quot;a&quot; (lambda ()
         (interactive)
         (ace-window 1)
         (add-hook 'ace-window-end-once-hook
                   'hydra-window/body))
   )
  (&quot;v&quot; (lambda ()
         (interactive)
         (split-window-right)
         (windmove-right))
   )
  (&quot;x&quot; (lambda ()
         (interactive)
         (split-window-below)
         (windmove-down))
   )
  (&quot;s&quot; (lambda ()
         (interactive)
         (ace-window 4)
         (add-hook 'ace-window-end-once-hook
                   'hydra-window/body)))
  (&quot;S&quot; save-buffer)
  (&quot;d&quot; delete-window)
  (&quot;D&quot; (lambda ()
         (interactive)
         (ace-window 16)
         (add-hook 'ace-window-end-once-hook
                   'hydra-window/body))
   )
  (&quot;o&quot; delete-other-windows)
  (&quot;i&quot; ace-maximize-window)
  (&quot;z&quot; (progn
         (winner-undo)
         (setq this-command 'winner-undo))
   )
  (&quot;Z&quot; winner-redo)
  (&quot;SPC&quot; nil)
  )

(global-set-key (kbd &quot;&lt;f8&gt; w&quot;) 'hydra-window/body)
</code></pre>

<h4 id="helm-do-ag-in-specific-locations">helm-do-ag in specific locations</h4>

<p>Reference: <a href="https://emacs.stackexchange.com/questions/44128/function-to-do-helm-do-ag-for-a-specific-project" target="_blank">https://emacs.stackexchange.com/questions/44128/function-to-do-helm-do-ag-for-a-specific-project</a></p>

<ul>
<li><p>In project directory</p>

<pre><code class="language-emacs-lisp">(defun helm-do-ag-projects ()
  &quot;Grep string in Project directory&quot; (interactive)
  (let ((rootdir (concat &quot;~/my_projects/&quot;)))
    (let ((helm-ag-command-option (concat helm-ag-command-option &quot;&quot;)))
      (helm-do-ag rootdir))))
</code></pre></li>

<li><p>Scimax config directory</p>

<pre><code class="language-emacs-lisp">(defun helm-do-ag-emacs-config ()
  &quot;Grep string in Emacs custom code&quot;
  (interactive)
  (let ((rootdir (concat &quot;~/scimax/user/sr-cust/&quot;)))
    (let ((helm-ag-command-option (concat helm-ag-command-option &quot;&quot;)))
      (helm-do-ag rootdir))))
</code></pre></li>

<li><p>Journal directory</p>

<pre><code class="language-emacs-lisp">(defun helm-do-ag-journal ()
  &quot;Grep string in journal directory&quot;
  (interactive)
  (let ((specfile (concat &quot;~/my_org/journal/&quot;)))
    (let ((helm-ag-command-option (concat helm-ag-command-option &quot;&quot;)))
      (helm-ag-this-file specfile))))
</code></pre></li>

<li><p>BGR file</p>

<pre><code class="language-emacs-lisp">(defun helm-do-ag-bgr ()
  &quot;Grep string in BGR file&quot;
  (interactive)
  (let ((specfile (concat &quot;~/my_org/bgr.org&quot;)))
    (let ((helm-ag-command-option (concat helm-ag-command-option &quot;&quot;)))
      (helm-do-ag-this-file specfile))))
</code></pre></li>

<li><p>Defining hydra</p>

<pre><code class="language-emacs-lisp">(defhydra shrysr/hydra-helm-ag-do-menu ()
  &quot;
Helm-do-ag in specified locations
^location^  ^command^
----------------------------------------------------------
e:        emacs custom config
b:        bgr file
o:        org files
j:        journal search
&quot;
  (&quot;e&quot; helm-do-ag-emacs-config)
  (&quot;j&quot; helm-do-ag-journal :color blue)
  (&quot;p&quot; helm-do-ag-projects)
  (&quot;o&quot; helm-do-ag-org)
  (&quot;q&quot; quit-window &quot;quit&quot; :color red))

(global-set-key (kbd &quot;&lt;f8&gt; h&quot;) 'shrysr/hydra-helm-ag-do-menu/body)
</code></pre></li>
</ul>

<h4 id="frame-configurations-fo-magit-and-project-launch">Frame configurations fo magit and project launch</h4>

<ul>
<li><p>Scimax - magit and windows</p>

<pre><code class="language-emacs-lisp">;; scimax directory magit status
(defun sr/windows-magit-scimax ()
  (interactive)
  (ace-delete-other-windows)
  (dired &quot;~/scimax/user/&quot;)
  (switch-window-then-split-right nil)
  (magit-status &quot;~/scimax/&quot;)
  (switch-window)
  (split-window-vertically)
  (dired-up-directory)
  (windmove-right)
  )
</code></pre></li>

<li><p>Org files - magit and windows</p>

<pre><code class="language-emacs-lisp">;; my_org magit status
(defun sr/windows-magit-org ()
  (interactive)
  (ace-delete-other-windows)
  (magit-status &quot;~/my_org/&quot;)
  )
</code></pre></li>

<li><p>Project directory - magit and windows</p>

<pre><code class="language-emacs-lisp">;; magit status
(defun sr/windows-magit-projects ()
  (interactive)
  (ace-delete-other-windows)
  (switch-window-then-split-right nil)
  (magit-status &quot;~/my_projects/&quot;)
  (switch-window)
  (dired &quot;~/my_projects/&quot;)
  (switch-window)
  )
</code></pre></li>

<li><p><span class="org-todo todo TODO">TODO</span>  Project: Switch and windows</p>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-10 Sun 07:09] </span></span> <br />
Experiment with helm-swoop functions to target only top level headings</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(defun sr/windows-projects ()
  (interactive)
  (ace-delete-other-windows)
  (switch-window-then-split-right nil)
  (projectile-switch-project)
  (switch-window)
  (find-file &quot;~/my_org/project-tasks.org&quot;)
  (widen)
  (helm-org-rifle-current-buffer)
  (org-narrow-to-subtree)
  (outline-show-children)
  )
</code></pre></li>

<li><p>Defining Hydra</p>

<pre><code class="language-emacs-lisp">(defhydra sr/process-window-keys ()
  &quot;
Key^^   ^Workflow^
--------------------
o       org magit
s       scimax magit
p       projects magit
w       select project and set window config
SPC     exit
&quot;
  (&quot;o&quot; sr/windows-magit-org )
  (&quot;p&quot; sr/windows-magit-projects )
  (&quot;s&quot; sr/windows-magit-scimax )
  (&quot;w&quot; sr/windows-projects)
  (&quot;SPC&quot; nil)
  )

(global-set-key (kbd &quot;&lt;f8&gt; m&quot;) 'sr/process-window-keys/body)
</code></pre></li>
</ul>

<h4 id="loading-completed">Loading completed</h4>

<pre><code class="language-emacs-lisp">(message &quot;Loaded Hydras&quot;)
</code></pre>

<h3 id="python">Python <code>[0/4]</code></h3>

<h4 id="setup-virtual-environment-approach"><span class="org-todo todo TEST">TEST</span> setup virtual environment approach</h4>

<p>I have tried using the conda.el package, but for some reason, it will not recognise the virtual environments in the paths specified. An excellent guide to using virtual environments with python is available on <a href="http://rakan.me/emacs/python-dev-with-emacs-and-pyenv/" target="_blank">Rakan&rsquo;s blog</a>, and I&rsquo;ve borrowed some bits of it.</p>

<p>I prefer to use miniconda for my python programming, and therefore the environment path is set appropriately below.</p>

<p>Switching an environment is as simple as <code>M-x pyenv-workon</code>. This is quite excellent.</p>

<pre><code class="language-emacs-lisp">(use-package pyenv-mode
  :init
  ;;(add-to-list 'exec-path &quot;~/.pyenv/shims&quot;)
  (setenv &quot;WORKON_HOME&quot; &quot;~/miniconda3/envs/&quot;)
  :config
  (pyenv-mode)
;; :bind
;; (&quot;C-x p e&quot; . pyenv-activate-current-project)
  )
</code></pre>

<h4 id="setup-conda-for-virtual-environment-management"><span class="org-todo todo POSTPONED">POSTPONED</span> setup conda for virtual environment management</h4>

<pre><code class="language-emacs-lisp">
(use-package conda
  :ensure t
  :config
  (require 'conda)
  ;;(conda-env-initialize-interactive-shells)

  ;;  Yes I want conda active for eshell as well
  ;;(conda-env-initialize-eshell)

  ;; Setting home path for  miniconda. I use the same path everywhee.
  (custom-set-variables
   '(conda-anaconda-home &quot;~/miniconda3/&quot;))
  )

</code></pre>

<h4 id="general-config">General config</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-12 Tue 14:52] </span></span> <br />
This is to take care of the annoying indentation message that always pops up.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(setq python-indent-guess-indent-offset nil)
</code></pre>

<h4 id="autocomplete-for-python-blocks"><span class="org-todo todo NEXT">NEXT</span> Autocomplete for python blocks</h4>

<pre><code class="language-emacs-lisp">(add-to-list 'company-backends 'company-ob-ipython)
(company-mode)
</code></pre>

<h4 id="emacs-jupyter"><span class="org-todo todo NEXT">NEXT</span> Emacs-jupyter</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-12 Tue 14:48] </span></span> <br />
Since I am more familiar with ob-ipython and there are a bunch of interesting features already implemented in it like the automatic setting of a kernel and file names for graphic outputs and so on - I will explore jupyter-emacs at a later date.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(use-package jupyter
  :ensure t
  :defer t
  :config
  ;(org-babel-load-languages '(jupyter .t))
  (setq org-babel-default-header-args:jupyter-python '((:async . &quot;yes&quot;)
                                                       (:session . &quot;jipython&quot;)
                                                       (:kernel . &quot;python3&quot;)))
  )
</code></pre>

<h2 id="disabled">Disabled</h2>

<p>These are packages and snippets that disabled from tangling and execution. Some of them have been explored and discarded for various reasons. The rest are packages / features I could not get working satisfactorily.</p>

<h3 id="org2blog-publishing-to-wordpress"><span class="org-todo todo TODO">TODO</span> org2blog : publishing to wordpress <code>[0/1]</code></h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-07-21 Sun 16:17] </span></span> <br />
I have a suspicion that the mp-wp implementation is different from the usual wordpress installation and therefore, the org2blog function may not work with it.</li>
</ul>

<p>Fueled by discussions in #ossasepia, I have decided to shift direction towards Wordpress and a custom VPS server to host and secure my own data.</p>

<p>While there are disadvantages in using a behemoth like wordpress over a simple static hugo site - one key driver is the ability to create comment systems with pingbacks, and control the data. Well to the extent possible on a rented VPS server, which is still more control than using services like Bitbucket / Github.</p>

<p>Why bother with comment systems?
I&rsquo;ve realised from my discussions with diana_coman  that despite the inconvenience, the whole point of the web is sharing and hopefully creating a seed for intellectual discussions that could lead somewhere meaningful. A good commenting system is obviously needed, for the little that takes place.</p>

<p>Eventually, it would be interesting to run V to host my own repository and files, and perhaps employing git annex, for managing an index of other files in different locations.</p>

<p>The good thing that I&rsquo;ve become more comfortable with Emacs and getting packages to work, and even exploring the source code to understand the arguments better.</p>

<blockquote>
<p>This was intimidating in the past, but reading the source code may be the best way to understand a language.</p>
</blockquote>

<p><a href="https://vinhtrieublog.wordpress.com/2016/02/03/publishing-to-wordpress-with-org2blog/" target="_blank">Samuel Zhao&rsquo;s post</a> is a good introduction to setting up org2blog, and I have replicated the steps with some additional twists:</p>

<ol class="task-list">
<li>Encryption of the login details with my personal key, and setup to ingest a list of authsources.</li>
<li>Setting up the org2blog package to enable publishing and control of blog posts right within Emacs.</li>
<li><label><input type="checkbox" disabled class="task-list-item"> It would be nice to have a link to the source file in each wordpress post. Perhaps the file could be signed with gpg as well?</label></li>
</ol>

<!--listend-->

<pre><code class="language-emacs-lisp">(use-package org2blog
  :ensure t
  :defer nil
  :config
  (require 'xml-rpc)
  (require 'org2blog-autoloads)
  ;; (require 'netrc)
  (setq org2blog/wp-blog-alist
        `((&quot;young-hands-club&quot;
           :url &quot;http://younghands.club/xmlrc.php&quot;
           :default-title &quot;&quot;
           :default-categories (&quot;daily-log&quot;)
           :username ,(auth-source-user-or-password 'young-hands-club &quot;login&quot;)
           :password ,(auth-source-user-or-password young-hands-club &quot;password&quot;)
           :tags-as-categories true)))
  (setq wpcredentials (auth-source-user-and-password &quot;young-hands-club&quot;))
  (setq org2blog/wp-blog-alist
        `((&quot;young-hands-club&quot;
           :url &quot;http://younghands.club/xmlrc.php&quot;
           :username ,(car wpcredentials)
           :password ,(cadr wpcredentials))))

  ;; implemented as HTML styling. Your pick!
  (setq org2blog/wp-use-sourcecode-shortcode 't)

  ;; removed light=&quot;true&quot;
  (setq org2blog/wp-sourcecode-default-params nil)

  ;; target language needs to be in here
  (setq org2blog/wp-sourcecode-langs
        '(&quot;actionscript3&quot; &quot;bash&quot; &quot;coldfusion&quot; &quot;cpp&quot; &quot;csharp&quot; &quot;css&quot; &quot;delphi&quot;
          &quot;erlang&quot; &quot;fsharp&quot; &quot;diff&quot; &quot;groovy&quot; &quot;html&quot; &quot;javascript&quot; &quot;java&quot; &quot;javafx&quot; &quot;matlab&quot;
          &quot;objc&quot; &quot;perl&quot; &quot;php&quot; &quot;text&quot; &quot;powershell&quot; &quot;python&quot; &quot;ruby&quot; &quot;scala&quot; &quot;sql&quot;
          &quot;vb&quot; &quot;xml&quot;
          &quot;sh&quot; &quot;emacs-lisp&quot; &quot;lisp&quot; &quot;lua&quot; &quot;R&quot;))

  (setq org-src-fontify-natively t)

  ;; ;; You want set the keymode map you can use these.
  ;; (global-set-key (kbd &quot; l&quot;) 'org2blog/wp-login)
  ;; (global-set-key (kbd &quot; p&quot;) 'org2blog/wp-post-buffer-and-publish)
  ;; )))
  )
</code></pre>

<h3 id="helm-ext"><span class="org-todo todo TEST">TEST</span> helm-ext</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-04-29 Mon 08:01] </span></span> <br />
Disabling excecution for the time being.</li>
</ul>

<blockquote>
<p>Extensions to helm, which I find useful but are unlikely to be accepted in the upstream. A collection of dirty hacks for helm!</p>

<p><a href="https://github.com/cute-jumper/helm-ext" target="_blank">https://github.com/cute-jumper/helm-ext</a></p>
</blockquote>

<pre><code class="language-emacs-lisp">(use-package helm-ext
  :ensure t
  :config
  (helm-ext-ff-enable-skipping-dots t)
  ;; Testing the auto path expansion
  ;;(helm-ff-ext-enable-auto-path-expansion t)
  )
</code></pre>

<h3 id="scimax-customisations-1">Scimax customisations</h3>

<h4 id="enabling-scimax-statistics">Enabling Scimax Statistics</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-10-07 Mon 13:17] </span></span> <br />
The default config is insufficient and in particular, uses the ess-smart-underscore package which is not useful to my general workflow.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(require 'scimax-statistics)
</code></pre>

<h3 id="dired">Dired</h3>

<p>Source: <a href="https://github.com/angrybacon/dotemacs/blob/master/dotemacs.org" target="_blank">https://github.com/angrybacon/dotemacs/blob/master/dotemacs.org</a></p>

<pre><code class="language-emacs-lisp">(use-package dired
  :ensure nil
  :delight dired-mode &quot;Dired&quot;
  :preface
  (defun me/dired-directories-first ()
    &quot;Sort dired listings with directories first before adding marks.&quot;
    (save-excursion
      (let (buffer-read-only)
        (forward-line 2)
        (sort-regexp-fields t &quot;^.*$&quot; &quot;[ ]*.&quot; (point) (point-max)))
      (set-buffer-modified-p nil)))
  ;:hook ;(dired-mode . dired-hide-details-mode)
  :config
  (advice-add 'dired-readin :after #'me/dired-directories-first)
  (setq-default
   dired-auto-revert-buffer t
   dired-dwim-target t
   dired-hide-details-hide-symlink-targets nil
   dired-listing-switches &quot;-alh&quot;
   dired-ls-F-marks-symlinks nil
   dired-recursive-copies 'always))

(use-package dired-x
  :ensure nil
  :preface
  (defun me/dired-revert-after-command (command &amp;optional output error)
    (revert-buffer))
  :config
  (advice-add 'dired-smart-shell-command :after #'me/dired-revert-after-command))

(message &quot;Loaded Dired customisation&quot;)
</code></pre>

<h3 id="activating-windmove-to-facilitate-hydras"><span class="org-todo todo TEST">TEST</span> Activating windmove to facilitate Hydras</h3>

<p>Super would actually be a good option. However, this interferes with default configurations in MS Windows, especially while using virtualbox. Using Meta for now.</p>

<pre><code class="language-emacs-lisp">(windmove-default-keybindings 'meta)
</code></pre>

<h3 id="export-async"><span class="org-todo todo TEST">TEST</span> Export async</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-14 Thu 16:03] </span></span> <br />
This requires a separate init file to be setup that enables Emacs to launch a separate process to export large files. It would be better as a vanilla emacs file.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(setq org-export-async-init-file
      (expand-file-name &quot;async-export.el&quot; user-emacs-directory)
      )
</code></pre>

<h3 id="ob-async"><span class="org-todo todo TEST">TEST</span> Ob-async</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-14 Thu 16:02] </span></span> <br />
This should enable evaluating code in org babel source blocks asynchronously. The header in the source block should have the async enabled.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(use-package ob-async
  :ensure t
  )
</code></pre>

<h3 id="auto-saving-all-org-files-by-the-hour"><span class="org-todo todo TEST">TEST</span> Auto saving all org files by the hour</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-07-05 Fri 11:49] </span></span> <br />
On the mac, this seems to be saving for each house since the time specified ? This behavior needs to be checked out.</li>
</ul>

<p>This is adopted from <a href="http://doc.norang.ca/org-mode.html" target="_blank">Bernt Hansen&rsquo;s</a> configuration. Essentially, all the org buffers are saved 1 minute before the hour, every hour.</p>

<pre><code class="language-emacs-lisp">(run-at-time &quot;00:59&quot; 3600 'org-save-all-org-buffers)
</code></pre>

<h3 id="tags-setup"><span class="org-todo todo TEST">TEST</span> Tags setup</h3>

<p>Borrowing <a href="https://github.com/kaushalmodi/.emacs.d/blob/master/setup-files/setup-tags.el" target="_blank">Kaushal modi&rsquo;s setup</a> for tags. I will start with using gtags and expand later to ctags.</p>

<pre><code class="language-emacs-lisp">;;; gtags, GNU global

(when (executable-find &quot;global&quot;)
;;;; ggtags
  ;; https://github.com/leoliu/ggtags
  (use-package ggtags
    :config
    (progn
      (setq ggtags-update-on-save nil) ;Don't try to update GTAGS on each save; makes the system sluggish for huge projects.
      (setq ggtags-highlight-tag nil)  ;Don't auto-highlight tag at point.. makes the system really sluggish!
      (setq ggtags-sort-by-nearness nil) ; Enabling nearness requires global 6.5+
      (setq ggtags-navigation-mode-lighter nil)
      (setq ggtags-mode-line-project-name nil)
      (setq ggtags-oversize-limit (* 30 1024 1024)) ; 30 MB

      (dolist (hook '(verilog-mode-hook
                      c-mode-hook))
        (add-hook hook #'ggtags-mode))

      ;; Don't consider ` (back quote) as part of `tag' when looking for a
      ;; Verilog macro definition
      (defun ggtags-tag-at-point ()
        (pcase (funcall ggtags-bounds-of-tag-function)
          (`(,beg . ,end)
           (if (eq ?` (string-to-char (buffer-substring beg end)))
               ;; If `(buffer-substring beg end)' returns &quot;`uvm_info&quot; (for example),
               ;; discard the ` and return just &quot;uvm_info&quot;
               (buffer-substring (1+ beg) end)
             ;; else return the whole `(buffer-substring beg end)'
             (buffer-substring beg end)))))

      ;; Remove the default binding for `M-.' in `ggtags-mode-map'
      (bind-key &quot;M-.&quot; nil ggtags-mode-map)
      ;; Remove the default binding for `M-o' in `ggtags-navigation-map'
      (bind-key &quot;M-o&quot; nil ggtags-navigation-map)

      (key-chord-define-global &quot;??&quot; #'ggtags-show-definition))))
</code></pre>

<h3 id="icicles"><span class="org-todo todo TEST">TEST</span> Icicles</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-28 Thu 16:01] </span></span> <br />
The default key bindings of icicles changes the org source block edit shortcut. However, the package appears very interesting so far, if not a bit slow to respond. Switching over to icicles will need some research for making sure none of the existing keybindings and workflows are crippled. This package cannot be installed via Melpa. The easiest method appears to be to download the files as a zip folder from the <a href="https://github.com/emacsmirror/icicles" target="_blank">icicle git repository</a>. The automatic install script draws files from the Emacs wiki, which at times may be down. As such icicles can be switched off by using <code>M-x icy-mode</code>.</li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(load &quot;~/scimax/user/external_packages/icicles-install.el&quot;)
(setq icicle-download-dir &quot;~/scimax/user/external_packages/icicle_packages/&quot;)
(add-to-list 'load-path &quot;~/scimax/user/external_packages/icicle_packages/&quot;)
(require 'icicles)
(icy-mode 1)

</code></pre>

<h3 id="erc">erc</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-10-23 Wed 09:15] </span></span> <br />
I&rsquo;m currently using weechat over tmux, but there are great conveniences in using erc. It is possible then to capture conversation and make notes more easily.</li>
</ul>

<p>Base config setting the channels that I would like frequent. I have actually had enjoyable experiences chatting with the Emacs and coding whizzes in the Emacs channel.</p>

<pre><code class="language-emacs-lisp">(use-package erc
  :config
  (setq erc-hide-list '(&quot;PART&quot; &quot;QUIT&quot; &quot;JOIN&quot;))
  (setq erc-autojoin-channels-alist '((&quot;freenode.net&quot;
                                       &quot;#org-mode&quot;
                                       &quot;#emacs&quot;
                                       &quot;#emacs-beginners&quot;
                                       &quot;#docker&quot;))
        erc-server &quot;irc.freenode.net&quot;
        erc-nick &quot;shrysr&quot;)
  (setq erc-fill-static-center t)

  )
</code></pre>

<p>Loading ERC without password (temporarily). The password has to be set in the .authconfig file and encrypted.</p>

<pre><code class="language-emacs-lisp"> (erc
   :server &quot;irc.freenode.net&quot;
   :port 6667
   :nick &quot;shrysr&quot;)
</code></pre>

<h3 id="scheme-setup">Scheme setup</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-10-23 Wed 09:21] </span></span> <br />
I used this briefly during a foray into the SICP course.</li>
</ul>

<!--listend-->

<ul>
<li>References

<ul>
<li><a href="http://praveen.kumar.in/2011/03/06/gnu-emacs-and-mit-scheme-on-mac-os-x/" target="_blank">http://praveen.kumar.in/2011/03/06/gnu-emacs-and-mit-scheme-on-mac-os-x/</a></li>
</ul></li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(setq scheme-program-name &quot;/Applications/MIT-GNU-Scheme.app/Contents/Resources/mit-scheme&quot;)
(require 'xscheme)

(message &quot;Loaded scheme setup&quot;)
</code></pre>

<h3 id="lintr"><span class="org-todo todo TODO">TODO</span> lintr</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-11 Mon 07:21] </span></span> <br />
It appears there is no package called lintr. This needs further investigation.</li>
</ul>

<p>This package is deemed necessary to enable flymake in ESS. Without it, there is significantly more lag while the suggestions / corrections are generated in ESS modes.</p>

<pre><code class="language-emacs-lisp">(use-package lintr
  :ensure nil
)
</code></pre>

<h3 id="better-defaults">Better defaults</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-08-28 Wed 13:45] </span></span> <br />
Disabling this package until it is explored better.</li>
</ul>

<p>I need to explore the changed made by this package. For now, it is loaded right in the beginning so that it does not overwrite other customisations down the line.</p>

<pre><code class="language-emacs-lisp">(use-package better-defaults
  :ensure t
)

(message &quot;Loaded better-defaults package&quot;)
</code></pre>

<h3 id="pdf-tools"><span class="org-todo done STABLE">STABLE</span> PDF Tools</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-10-23 Wed 09:26] </span></span> <br />
This appears to be setup via scimax already. Disabling for now.</li>
</ul>

<!--listend-->

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-18 Mon 14:30] </span></span> <br />
Install epdfinfo via &lsquo;brew install pdf-tools&rsquo; and then install the
pdf-tools elisp via the use-package below. To upgrade the epdfinfo
server, use &lsquo;brew upgrade pdf-tools&rsquo; prior to upgrading to newest
pdf-tools package using Emacs package system. If things get messed up,
just do &lsquo;brew uninstall pdf-tools&rsquo;, wipe out the elpa pdf-tools
package and reinstall both as at the start.  source:
<a href="https://emacs.stackexchange.com/questions/13314/install-pdf-tools-on-emacs-macosx" target="_blank">https://emacs.stackexchange.com/questions/13314/install-pdf-tools-on-emacs-macosx</a></li>
</ul>

<!--listend-->

<pre><code class="language-emacs-lisp">(use-package pdf-tools
  :ensure t
  :config
  (custom-set-variables
   '(pdf-tools-handle-upgrades nil)) ; Use brew upgrade pdf-tools instead in the mac
  (setq pdf-info-epdfinfo-program &quot;/usr/local/bin/epdfinfo&quot;)
  (pdf-tools-install)
)

</code></pre>

<h3 id="elfeed-customisation">Elfeed customisation</h3>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-09-25 Wed 14:09] </span></span> <br />
Scimax&rsquo;s elfeed is enabled, along with elfeed-org and elfeeed-goodies</li>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-07-08 Mon 08:10] </span></span> <br />
Disabling elfeed for now.</li>
</ul>

<h4 id="elfeed-basic-plus-customisations">Elfeed Basic + Customisations</h4>

<p>Source: <a href="http://heikkil.github.io/blog/2015/05/09/notes-from-elfeed-entries/" target="_blank">http://heikkil.github.io/blog/2015/05/09/notes-from-elfeed-entries/</a></p>

<pre><code class="language-emacs-lisp">;; Elfeed configuration source :
(use-package elfeed
  :bind (:map elfeed-search-mode-map
              (&quot;A&quot; . bjm/elfeed-show-all)
              (&quot;E&quot; . bjm/elfeed-show-emacs)
              (&quot;D&quot; . bjm/elfeed-show-daily)
              (&quot;q&quot; . bjm/elfeed-save-db-and-bury))
  :init
  (setq my/default-elfeed-search-filter &quot;@1-month-ago +unread !sport &quot;)
  (setq-default elfeed-search-filter my/default-elfeed-search-filter)
  (setq elfeed-db-direcory &quot;~/scimax/user/elfeeddb&quot;)
  :config
  (elfeed-org)
  (elfeed-goodies/setup)
  (setq elfeed-use-curl t)

  ;;
  ;; linking and capturing
  ;;

  (defun elfeed-link-title (entry)
    &quot;Copy the entry title and URL as org link to the clipboard.&quot;
    (interactive)
    (let* ((link (elfeed-entry-link entry))
           (title (elfeed-entry-title entry))
           (titlelink (concat &quot;[[&quot; link &quot;][&quot; title &quot;]]&quot;)))
      (when titlelink
        (kill-new titlelink)
        (x-set-selection 'PRIMARY titlelink)
        (message &quot;Yanked: %s&quot; titlelink))))

  ;; show mode

  (defun elfeed-show-link-title ()
    &quot;Copy the current entry title and URL as org link to the clipboard.&quot;
    (interactive)
    (elfeed-link-title elfeed-show-entry))

  (defun elfeed-show-quick-url-note ()
    &quot;Fastest way to capture entry link to org agenda from elfeed show mode&quot;
    (interactive)
    (elfeed-link-title elfeed-show-entry)
    (org-capture nil &quot;n&quot;)
    (yank)
    (org-capture-finalize))

  (bind-keys :map elfeed-show-mode-map
             (&quot;l&quot; . elfeed-show-link-title)
             (&quot;v&quot; . elfeed-show-quick-url-note))

  ;; search mode

  (defun elfeed-search-link-title ()
    &quot;Copy the current entry title and URL as org link to the clipboard.&quot;
    (interactive)
    (let ((entries (elfeed-search-selected)))
      (cl-loop for entry in entries
               when (elfeed-entry-link entry)
               do (elfeed-link-title entry))))

  (defun elfeed-search-quick-url-note ()
    &quot;In search mode, capture the title and link for the selected
     entry or entries in org aganda.&quot;
    (interactive)
    (let ((entries (elfeed-search-selected)))
      (cl-loop for entry in entries
               do (elfeed-untag entry 'unread)
               when (elfeed-entry-link entry)
               do (elfeed-link-title entry)
               do (org-capture nil &quot;n&quot;)
               do (yank)
               do (org-capture-finalize)
               (mapc #'elfeed-search-update-entry entries))
      (unless (use-region-p) (forward-line))))

  (bind-keys :map elfeed-search-mode-map
             (&quot;l&quot; . elfeed-search-link-title)
             (&quot;v&quot; . elfeed-search-quick-url-note))

   ;;functions to support syncing .elfeed between machines
  ;;makes sure elfeed reads index from disk before launching
  (defun bjm/elfeed-load-db-and-open ()
    &quot;Wrapper to load the elfeed db from disk before opening&quot;
    (interactive)
    (elfeed-db-load)
    (elfeed)
    (elfeed-search-update--force))

  ;;write to disk when quiting
  (defun bjm/elfeed-save-db-and-bury ()
    &quot;Wrapper to save the elfeed db to disk before burying buffer&quot;
    (interactive)
    (elfeed-db-save)
    (quit-window))
  )
</code></pre>

<h4 id="scimax-plus-elfeed-org-and-elfeed-goodies-setup">Scimax + Elfeed-org and elfeed-goodies setup <code>[/]</code></h4>

<p>Using an org source is the easiest way to organise my RSS feeds for reading with Elfeed.</p>

<pre><code class="language-emacs-lisp">(require 'scimax-elfeed)

;; use an org file to organise feeds
(use-package elfeed-org
  :ensure t
  :config
  (setq rmh-elfeed-org-files (list &quot;~/my_org/elfeed.org&quot;))
  )

(use-package elfeed-goodies
  :ensure t
  :init
  (elfeed-goodies/setup)
  )

</code></pre>

<h4 id="consider-storing-the-feed-sources-here-in-org-format"><span class="org-todo todo TODO">TODO</span> Consider storing the Feed sources here in org format</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-17 Sun 18:11] </span></span> <br />
This will need an export to a source org file per the settings.</li>
</ul>

<h4 id="loading-completed-1">Loading completed</h4>

<pre><code class="language-emacs-lisp">(message &quot;Loaded Elfeed customisations&quot;)
</code></pre>

<h3 id="ediff">ediff</h3>

<p>I have to diff between org files pretty often, and need the headings to be unfolded.</p>

<p>Source: <a href="http://emacs.stackexchange.com/questions/21335/prevent-folding-org-files-opened-by-ediff" target="_blank">http://emacs.stackexchange.com/questions/21335/prevent-folding-org-files-opened-by-ediff</a></p>

<pre><code class="language-emacs-lisp">;; Check for org mode and existence of buffer
(defun f-ediff-org-showhide (buf command &amp;rest cmdargs)
  &quot;If buffer exists and is orgmode then execute command&quot;
  (when buf
    (when (eq (buffer-local-value 'major-mode (get-buffer buf)) 'org-mode)
      (save-excursion (set-buffer buf) (apply command cmdargs)))))

(defun f-ediff-org-unfold-tree-element ()
  &quot;Unfold tree at diff location&quot;
  (f-ediff-org-showhide ediff-buffer-A 'org-reveal)
  (f-ediff-org-showhide ediff-buffer-B 'org-reveal)
  (f-ediff-org-showhide ediff-buffer-C 'org-reveal))

(defun f-ediff-org-fold-tree ()
  &quot;Fold tree back to top level&quot;
  (f-ediff-org-showhide ediff-buffer-A 'hide-sublevels 1)
  (f-ediff-org-showhide ediff-buffer-B 'hide-sublevels 1)
  (f-ediff-org-showhide ediff-buffer-C 'hide-sublevels 1))

(add-hook 'ediff-select-hook 'f-ediff-org-unfold-tree-element)
(add-hook 'ediff-unselect-hook 'f-ediff-org-fold-tree)
</code></pre>

<h3 id="spell-checking">Spell Checking</h3>

<h4 id="flycheck">Flycheck</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-02-09 Sat 11:51] </span></span> <br />
disabling flycheck for the moment and enabling flymake</li>
</ul>

<p>Source: <a href="https://writequit.org/org/" target="_blank">https://writequit.org/org/</a></p>

<p>Basic config</p>

<pre><code class="language-emacs-lisp">(use-package flycheck
  :defer 5
  :bind ((&quot;M-g M-n&quot; . flycheck-next-error)
         (&quot;M-g M-p&quot; . flycheck-previous-error)
         (&quot;M-g M-=&quot; . flycheck-list-errors))
  :init (global-flycheck-mode)
  :diminish flycheck-mode
  :config
  (progn
    (setq-default flycheck-disabled-checkers '(emacs-lisp-checkdoc json-jsonlint json-python-json ess iess))
    (use-package flycheck-pos-tip
      :init (flycheck-pos-tip-mode))
    (use-package helm-flycheck
      :init (define-key flycheck-mode-map (kbd &quot;C-c ! h&quot;) 'helm-flycheck))
    (use-package flycheck-haskell
      :init (add-hook 'flycheck-mode-hook #'flycheck-haskell-setup))))
</code></pre>

<h4 id="enabling-flyspell">Enabling Flyspell</h4>

<p>Reference: <a href="https://alhassy.github.io/init/" target="_blank">https://alhassy.github.io/init/</a></p>

<p>Org mode is derived from text mode, therefore it is sufficient to activate for text mode.</p>

<pre><code class="language-emacs-lisp">(use-package flyspell
  :hook (
           (prog-mode . flyspell-prog-mode)
           (text-mode . flyspell-mode))
)
</code></pre>

<h4 id="replacing-flycheck-with-flymake">Replacing flycheck with flymake</h4>

<p>This is especially for python modules at the moment.</p>

<pre><code class="language-emacs-lisp">(when (require 'flycheck nil t)
  (setq elpy-modules (delq 'elpy-module-flymake elpy-modules))
  (add-hook 'elpy-mode-hook 'flycheck-mode))
</code></pre>

<h4 id="switching-to-aspell-on-the-mac"><span class="org-todo done STABLE">STABLE</span> Switching to aspell on the mac</h4>

<ul>
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2019-07-12 Fri 20:22] </span></span> <br />
So far this is working out rather well, and as expected.</li>
</ul>

<p>Facing trouble enabling flyspell in the mac. This seems to be a solution, as outlined in <a href="https://stackoverflow.com/questions/19022015/emacs-on-mac-os-x-how-to-get-spell-check-to-work" target="_blank">this SO discussion</a>.</p>

<pre><code class="language-emacs-lisp">(if (system-type-is-darwin)
    (setq ispell-program-name &quot;/usr/local/Cellar/aspell/0.60.6.1_1/bin/aspell&quot;)
  )

</code></pre>

          </div>

          

<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/emacs/">Emacs</a>
  
</div>



          
          <div class="article-widget">
            
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="/docs/ess-datascience-r/" rel="next">Using ESS for Data Science</a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="/docs/docker-notes/" rel="prev">Notes on Docker</a>
  </div>
  
</div>

          </div>
          
        </div>

        <div class="body-footer">
          <p>Last updated on Nov 3, 2019</p>

          

<p class="edit-page">
  <a href="https://github.com/gcushen/hugo-academic/edit/master/content/docs/sr-config.md">
    <i class="fas fa-pen pr-2"></i>Edit this page
  </a>
</p>




          

        </div>

      </article>

      <footer class="site-footer">
  

  <p class="powered-by">
    

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
  </p>
</footer>


    </main>
  </div>
</div>


      

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js" integrity="sha256-1zu+3BnLYV9LdiY85uXMzii3bdrkelyp37e0ZyTAQh0=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/r.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/python.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/lisp.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/emacs-lisp.min.js"></script>
        
      

      
      
    

    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.d6bd04fdad2ad213aa8111c5a3b72fc5.js"></script>

    






  
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
