<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 3.2.0">
  <meta name="generator" content="Hugo 0.54.0" />
  <meta name="author" content="Shreyas Ragavan">

  
  
  
  
    
  
  <meta name="description" content="An EDA using `R` of federal government data of the R&amp;D budget towards Climate Change.">

  
  <link rel="alternate" hreflang="en-us" href="https://shrysr.github.io/project/tt-fed-rnd-spending/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-117504906-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  
  <link rel="alternate" href="https://shrysr.github.io/index.xml" type="application/rss+xml" title="Shreyas Ragavan">
  <link rel="feed" href="https://shrysr.github.io/index.xml" type="application/rss+xml" title="Shreyas Ragavan">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://shrysr.github.io/project/tt-fed-rnd-spending/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@ShreyasRagavan">
  <meta property="twitter:creator" content="@ShreyasRagavan">
  
  <meta property="og:site_name" content="Shreyas Ragavan">
  <meta property="og:url" content="https://shrysr.github.io/project/tt-fed-rnd-spending/">
  <meta property="og:title" content="Federal R&amp;D Spending on climate change | Shreyas Ragavan">
  <meta property="og:description" content="An EDA using `R` of federal government data of the R&amp;D budget towards Climate Change."><meta property="og:image" content="https://shrysr.github.io/img/SR-reduced.jpeg">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2019-11-01T14:27:00-06:00">
  
  <meta property="article:modified_time" content="2019-11-02T18:52:51-06:00">
  

  

  

  <title>Federal R&amp;D Spending on climate change | Shreyas Ragavan</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Shreyas Ragavan</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/docs/">
            
            <span>Docs</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>Blog</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#tags">
            
            <span>Tag Cloud</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


<article class="article article-project" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">Federal R&amp;D Spending on climate change</h1>

  

  
    

<div class="article-metadata">

  
  
  <span itemscope itemprop="author" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shreyas Ragavan">
  </span>
  

  <span class="article-date">
    
        Last updated on
    
    <meta content="2019-11-01 14:27:00 -0600 MDT" itemprop="datePublished">
    <time datetime="2019-11-02 18:52:51 -0600 MDT" itemprop="dateModified">
      Nov 2, 2019
    </time>
  </span>
  <span itemscope itemprop="publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shreyas Ragavan">
  </span>

  

  
  
  <span class="middot-divider"></span>
  <a href="/project/tt-fed-rnd-spending/#disqus_thread"></a>
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder"></i>
    
    <a href="/categories/r/">R</a>, 
    
    <a href="/categories/project/">project</a>, 
    
    <a href="/categories/eda/">EDA</a>, 
    
    <a href="/categories/datascience/">DataScience</a>
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Federal%20R%26D%20Spending%20on%20climate%20change&amp;url=https%3a%2f%2fshrysr.github.io%2fproject%2ftt-fed-rnd-spending%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fshrysr.github.io%2fproject%2ftt-fed-rnd-spending%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fshrysr.github.io%2fproject%2ftt-fed-rnd-spending%2f&amp;title=Federal%20R%26D%20Spending%20on%20climate%20change"
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=https%3a%2f%2fshrysr.github.io%2fproject%2ftt-fed-rnd-spending%2f&amp;title=Federal%20R%26D%20Spending%20on%20climate%20change"
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Federal%20R%26D%20Spending%20on%20climate%20change&amp;body=https%3a%2f%2fshrysr.github.io%2fproject%2ftt-fed-rnd-spending%2f">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    















  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      

<h2 id="summary">Summary</h2>

<p>This is a short exploration into the tidy tuesday dataset focused on the Federal R&amp;D budget towards global climate change. The data has been extracted from a TidyTuesday dataset, which in return is moderately cleaned dataset from publicly available data. The analysis will show that NASA&rsquo;s budget dwarfs the money going into other departments, and that the median spend towards climate change has been increasing since the year 2000.</p>

<p>Useful links:</p>

<ul>
<li><a href="https://github.com/shrysr/sr-tidytuesday" target="_blank">Github Repo</a> of Tidy Tuesday explorations</li>
<li>Tidy tuesday dataset: <a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-02-12" target="_blank">link</a></li>
<li>Data Dictionary <a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-02-12#data-dictionary" target="_blank">link</a></li>
<li>Viz <a href="https://twitter.com/ShreyasRagavan/status/1100765886892265472" target="_blank">posted on Twitter</a> to participate in TidyTuesday.</li>
<li>Tools used: ESS, Org mode</li>
</ul>

<p><a href="/scripts/tt1-fed-rnd.R">Download R script</a> : this is the entire script below.</p>

<h2 id="loading-libraries">Loading libraries</h2>

<p>The <code>easypackages</code> library allows quickly installing and loading multiple packages. <em>Note: Uncomment the appropriate line if this library needs to be installed.</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">                                        <span style="color:#75715e"># Loading libraries</span>
                                        <span style="color:#75715e"># install.packages(&#34;easypackages&#34;)</span>
<span style="color:#f92672">library</span>(<span style="color:#e6db74">&#34;easypackages&#34;</span>)
libraries(<span style="color:#e6db74">&#34;tidyverse&#34;</span>, <span style="color:#e6db74">&#34;tidyquant&#34;</span>, <span style="color:#e6db74">&#34;DataExplorer&#34;</span>)</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-org" data-lang="org">All packages loaded successfully</code></pre></div>
<h2 id="reading-in-the-data">Reading in the data</h2>

<p>Since this is a small dataset, the data can be read in directly from Github into memory.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">                                        <span style="color:#75715e"># Reading in data directly from github</span>
climate_spend_raw  <span style="color:#f92672">&lt;-</span> readr<span style="color:#f92672">::</span>read_csv(<span style="color:#e6db74">&#34;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-02-12/climate_spending.csv&#34;</span>, col_types <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;cin&#34;</span>)</code></pre></div>
<h2 id="exploring-the-data">Exploring the data</h2>

<p>We have 6 departments, and the remaining departments are lumped together as &lsquo;All Other&rsquo;.</p>

<p>The data is available for the years 2000 to 2017.</p>

<p>The above can be found using the <code>unique</code> function.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">climate_spend_raw<span style="color:#f92672">$</span>department <span style="color:#f92672">%&gt;%</span> <span style="color:#66d9ef">unique</span>()
climate_spend_raw<span style="color:#f92672">$</span>year <span style="color:#f92672">%&gt;%</span> <span style="color:#66d9ef">unique</span>()</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">[1] &#34;NASA&#34;            &#34;NSF&#34;             &#34;Commerce (NOAA)&#34; &#34;Energy&#34;
[5] &#34;Agriculture&#34;     &#34;Interior&#34;        &#34;All Other&#34;

 [1] 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014
[16] 2015 2016 2017</code></pre></div>
<p>Some Notes on the data:</p>

<ul>
<li>We have the following columns:

<ul>
<li>name of the department. (chr)</li>
<li>year (int)</li>
<li>spending (double)</li>
</ul></li>
<li>The data is relatively clean. However some manipulation is required to summarise the department wise spending.</li>
</ul>

<p>An overview of missing data can be easily scrutinised using the <code>plot_intro</code> command, and actual numbers can be extracted using <code>introduce</code>. These functions are from the <code>DataExplorer</code> package.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R"><span style="color:#75715e">##plot_str(climate_spend_raw, type = &#39;r&#39;)</span>
plot_intro(climate_spend_raw)
<span style="color:#75715e">##introduce(climate_spend_raw)</span></code></pre></div>



<figure>

<img src="/img/plot-intro.png" />


</figure>

<p>There are no missing values or NA&rsquo;s.</p>

<p>For a quick look at the outliers, we can use a boxplot, using DataExplorer&rsquo;s functions.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">variance_climate_spend <span style="color:#f92672">&lt;-</span> plot_boxplot(climate_spend_raw, by <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;year&#34;</span>)</code></pre></div>



<figure>

<img src="/img/variance-spend.png" alt="Figure 1: It can be seen above that there are not many outliers. Subsequent visualisations will show that NASA is the most significant outlier. The median spending has been increasing over the years." />



<figcaption data-pre="Figure " data-post=":" >
  
  <p>
    Figure 1: It can be seen above that there are not many outliers. Subsequent visualisations will show that NASA is the most significant outlier. The median spending has been increasing over the years.
    
    
    
  </p> 
</figcaption>

</figure>

<h2 id="data-conditioning">Data Conditioning</h2>

<p><em>Note: this initial conditioning need not have involved the date manipulation, as the year extracted from a date object is still a double.</em></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">climate_spend_conditioned <span style="color:#f92672">&lt;-</span> climate_spend_raw <span style="color:#f92672">%&gt;%</span>
  mutate(year_dt <span style="color:#f92672">=</span> str_glue(<span style="color:#e6db74">&#34;{year}-01-01&#34;</span>)) <span style="color:#f92672">%&gt;%</span>
  mutate(year_dt <span style="color:#f92672">=</span> <span style="color:#66d9ef">as.Date</span>(year_dt)) <span style="color:#f92672">%&gt;%</span>
  mutate(test_median <span style="color:#f92672">=</span> median(gcc_spending)) <span style="color:#f92672">%&gt;%</span>
  mutate(gcc_spending_txt <span style="color:#f92672">=</span> scales<span style="color:#f92672">::</span>dollar(gcc_spending,
                                           scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e-09</span>,
                                           suffix <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;B&#34;</span>
                                           )
         )</code></pre></div>
<p>Applying some summary statistics to calculate the total spend per department, per year.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">                                        <span style="color:#75715e"># Total spend per department per year</span>
climate_spend_dept_y <span style="color:#f92672">&lt;-</span> climate_spend_conditioned <span style="color:#f92672">%&gt;%</span>
  group_by(department, year_dt <span style="color:#f92672">=</span> year(year_dt)) <span style="color:#f92672">%&gt;%</span>
  summarise(
    tot_spend_dept_y <span style="color:#f92672">=</span> <span style="color:#66d9ef">sum</span>(gcc_spending)) <span style="color:#f92672">%&gt;%</span>
  mutate(tot_spend_dept_y_txt <span style="color:#f92672">=</span> tot_spend_dept_y <span style="color:#f92672">%&gt;%</span>
           scales<span style="color:#f92672">::</span>dollar(scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e-09</span>,
                          suffix <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;B&#34;</span>)
         ) <span style="color:#f92672">%&gt;%</span>
  ungroup()</code></pre></div>
<p>Lets see how much money has been budgeted in each department towards R&amp;D in climate change from 2000 to 2017.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">climate_spend_conditioned <span style="color:#f92672">%&gt;%</span>
  select(<span style="color:#f92672">-</span><span style="color:#66d9ef">c</span>(gcc_spending_txt, year_dt)) <span style="color:#f92672">%&gt;%</span>
  group_by(department) <span style="color:#f92672">%&gt;%</span>
  summarise(total_spend_y <span style="color:#f92672">=</span> <span style="color:#66d9ef">sum</span>(gcc_spending)) <span style="color:#f92672">%&gt;%</span>
  arrange(desc(total_spend_y)) <span style="color:#f92672">%&gt;%</span>
  mutate(total_spend_y <span style="color:#f92672">=</span> total_spend_y <span style="color:#f92672">%&gt;%</span> scales<span style="color:#f92672">::</span>dollar(scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">1e-09</span>,
                                                        suffix <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;B&#34;</span>,
                                                        prefix <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;$&#34;</span>)
       )</code></pre></div>
<table>
<thead>
<tr>
<th>Department</th>
<th>Total Spend from 2000-2017</th>
</tr>
</thead>

<tbody>
<tr>
<td>NASA</td>
<td>$25.77B</td>
</tr>

<tr>
<td>Commerce (NOAA)</td>
<td>$5.28B</td>
</tr>

<tr>
<td>NSF</td>
<td>$5.26B</td>
</tr>

<tr>
<td>Energy</td>
<td>$3.32B</td>
</tr>

<tr>
<td>Agriculture</td>
<td>$1.63B</td>
</tr>

<tr>
<td>All Other</td>
<td>$1.54B</td>
</tr>

<tr>
<td>Interior</td>
<td>$0.86B</td>
</tr>
</tbody>
</table>

<p>It is clear from here that the outlier department is NASA. Further exploration would be needed to understand the function of each department and the justification of this expenditure and the skew. <em>For example, one might think the Interior department would not be able to produce R&amp;D superior to NASA/NSF.</em></p>

<h2 id="function-to-plot-a-facet-grid-of-the-department-spending">Function to plot a facet grid of the department spending</h2>

<p>By using a function to complete the plot, the plot can be easily repeated for any range of years. It can also work for a single year.</p>

<p>The function below takes the following arguments:</p>

<ol>
<li>The range of the years we want to look into , example 2005-2010</li>
<li>The number of columns in the facet wrap plot.</li>
<li>The caption that consititues the observation from the plots and anything else.</li>
</ol>

<p>The title of the plot includes the year range that is input above.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">climate_spend_plt_fn <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">function</span>(
                                 data,
                                 y_range_low <span style="color:#f92672">=</span> <span style="color:#ae81ff">2000</span>,
                                 y_range_hi  <span style="color:#f92672">=</span> <span style="color:#ae81ff">2010</span>,
                                 ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>,
                                 caption <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
                                 )
{

  plot_title  <span style="color:#f92672">&lt;-</span> str_glue(<span style="color:#e6db74">&#34;Federal R&amp;D budget towards Climate Change: {y_range_low}-{y_range_hi}&#34;</span>)

  data <span style="color:#f92672">%&gt;%</span>
  filter(year_dt <span style="color:#f92672">&gt;=</span> y_range_low <span style="color:#f92672">&amp;</span> year_dt <span style="color:#f92672">&lt;=</span> y_range_hi) <span style="color:#f92672">%&gt;%</span>
  ggplot(aes(y <span style="color:#f92672">=</span> tot_spend_dept_y_txt, x <span style="color:#f92672">=</span> department, fill <span style="color:#f92672">=</span> department ))<span style="color:#f92672">+</span>
  geom_col() <span style="color:#f92672">+</span>
  facet_wrap(<span style="color:#f92672">~</span> year_dt,
             ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>,
             scales <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;free_y&#34;</span>
             ) <span style="color:#f92672">+</span>
  <span style="color:#75715e">#scale_y_continuous(breaks = scales::pretty_breaks(10)) +</span>
  theme_tq() <span style="color:#f92672">+</span>
  scale_fill_tq(theme <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;dark&#34;</span>) <span style="color:#f92672">+</span>
  theme(
    axis.text.x <span style="color:#f92672">=</span> element_text(angle <span style="color:#f92672">=</span> <span style="color:#ae81ff">45</span>,
                               hjust <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.2</span>),
    legend.position <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;none&#34;</span>,
    plot.background<span style="color:#f92672">=</span>element_rect(fill<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#f7f7f7&#34;</span>),
    ) <span style="color:#f92672">+</span>
  labs(
    title <span style="color:#f92672">=</span> plot_title,
    x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Department&#34;</span>,
    y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Total Budget $ Billion&#34;</span>,
    subtitle <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;NASA literally dwarfs all the other departments, getting to spend upwards of 1.1 Billion dollars every year since 2000.&#34;</span>,
    caption <span style="color:#f92672">=</span> caption
  )

}</code></pre></div>
<h2 id="visualizing-department-wise-spending-over-the-years">Visualizing department-wise spending over the years</h2>

<p>Calling the function and passing in the entire date (year) range of 2000-2010. Note that for a single year, have both the arguments <code>y_range_low</code> and <code>y_range_high</code> equal to the same year.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">climate_spend_plt_fn(climate_spend_dept_y,
                     y_range_low <span style="color:#f92672">=</span> <span style="color:#ae81ff">2000</span>,
                     y_range_hi <span style="color:#f92672">=</span> <span style="color:#ae81ff">2010</span>,
                     caption <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#TidyTuesday:\nDataset 2019-02-12\nShreyas Ragavan&#34;</span>
                       )</code></pre></div>



<figure>

<img src="/img/fed-rnd-spending-1.png" alt="Figure 2: R&amp;D Budget towards Climate Change from year 2000-2010 across departments." />



<figcaption data-pre="Figure " data-post=":" >
  
  <p>
    Figure 2: R&amp;D Budget towards Climate Change from year 2000-2010 across departments.
    
    
    
  </p> 
</figcaption>

</figure>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">climate_spend_plt_fn(climate_spend_dept_y,
                     y_range_low <span style="color:#f92672">=</span> <span style="color:#ae81ff">2011</span>,
                     y_range_hi <span style="color:#f92672">=</span> <span style="color:#ae81ff">2017</span>,
                     caption <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#TidyTuesday:\nDataset 2019-02-12\nShreyas Ragavan&#34;</span>
                       )</code></pre></div>



<figure>

<img src="/img/fed-rnd-spending-2.png" alt="Figure 3: R&amp;D Budget towards Climate Change from year 2011-2017 across departments." />



<figcaption data-pre="Figure " data-post=":" >
  
  <p>
    Figure 3: R&amp;D Budget towards Climate Change from year 2011-2017 across departments.
    
    
    
  </p> 
</figcaption>

</figure>

<h2 id="some-concluding-statements">Some Concluding statements</h2>

<p>NASA has the highest R&amp;D budget allocation towards climate change, and one that is significantly higher than all the other departments put together. The median spending on R&amp;D towards climate change has been increasing over the years, which is a good sign considering the importance of the problem. Some further explorations could be along the lines of the percentage change in spending per department every year, and the proportion of each department in terms of percentage for each year.</p>

    </div>

    


<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/r/">R</a>
  
  <a class="badge badge-light" href="/tags/eda/">EDA</a>
  
  <a class="badge badge-light" href="/tags/ggplot/">ggplot</a>
  
  <a class="badge badge-light" href="/tags/tidytuesday/">TidyTuesday</a>
  
  <a class="badge badge-light" href="/tags/data-science/">Data-Science</a>
  
</div>



    


    
    

    

      
      
      

      
      
      

      
      
      
    

  </div>
</article>


<div class="article-container article-widget">
  <div class="post-nav">
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="https://shrysr.github.io/project/cfx-job-scheduler/" rel="next">CFX Job scheduler</a>
  </div>
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="https://shrysr.github.io/project/course-certificate-list/" rel="prev">Course Certificates</a>
  </div>
  
</div>

</div>


<div class="container">
  <footer class="site-footer">
  

  <p class="powered-by">
    &copy; 2018 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    

    
    
    
    <script id="dsq-count-scr" src="//shreyasragavan.disqus.com/count.js" async></script>
    

    
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
    
    <script src="/js/academic.min.d037ee5294b166a79dec317c58aea9cc.js"></script>

    

  </body>
</html>

